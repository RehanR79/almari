if (self.CavalryLogger) { CavalryLogger.start_js(["\/M\/Sw"]); }

__d("ActorURIConfig",[],(function(a,b,c,d,e,f){e.exports={PARAMETER_ACTOR:"av",ENCRYPTED_PARAMETER_ACTOR:"eav"}}),null);
__d("FetchStreamConfig",[],(function(a,b,c,d,e,f){e.exports={delim:"/*<!-- fetch-stream -->*/"}}),null);
__d("GenderConst",[],(function(a,b,c,d,e,f){e.exports={NOT_A_PERSON:0,FEMALE_SINGULAR:1,MALE_SINGULAR:2,FEMALE_SINGULAR_GUESS:3,MALE_SINGULAR_GUESS:4,MIXED_SINGULAR:5,MIXED_PLURAL:5,NEUTER_SINGULAR:6,UNKNOWN_SINGULAR:7,FEMALE_PLURAL:8,MALE_PLURAL:9,NEUTER_PLURAL:10,UNKNOWN_PLURAL:11}}),null);
__d("IntlVariations",[],(function(a,b,c,d,e,f){e.exports={BITMASK_NUMBER:28,BITMASK_GENDER:3,NUMBER_ZERO:16,NUMBER_ONE:4,NUMBER_TWO:8,NUMBER_FEW:20,NUMBER_MANY:12,NUMBER_OTHER:24,GENDER_MALE:1,GENDER_FEMALE:2,GENDER_UNKNOWN:3}}),null);
__d("VideoQualityClassInternal",[],(function(a,b,c,d,e,f){e.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("BlueBar",["csx","CSS","DOMQuery","Style","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h=document,i={};function j(a){return b("DOMQuery").scry(h,a)[0]}function k(a,b){return i[a]?i[a]:i[a]=j(b)}function a(){h=b("ge")("blueBarDOMInspector")||document,i={}}var l={hasFixedBlueBar:function(){var a=this.getMaybeFixedRoot();return!a?!1:b("CSS").matchesSelector(a,"._5rmj")||b("Style").isFixed(a)},getBar:function(){return k("bar","div._1s4v")},getNavRoot:function(){return k("navRoot","div._cx4")||l.getBar()},getMaybeFixedRoot:function(){return k("maybeFixedRoot","div._26aw")},getLoggedOutRoot:function(){return k("maybeFixedRootLoggedOut","div._1pmx")},getNewLoggedOutRoot:function(){return k("maybeFixedRootLogin","div._53jh")}};a();e.exports=l}),null);
__d("getElementText",["isElementNode","isTextNode"],(function(a,b,c,d,e,f){__p&&__p();var g=null;function a(a){__p&&__p();if(b("isTextNode")(a))return a.data;else if(b("isElementNode")(a)){if(g===null){var c=document.createElement("div");g=c.textContent!=null?"textContent":"innerText"}return a[g]}else return""}e.exports=a}),null);
__d("tooltipPropsFor",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(!a)return{};a={"data-tooltip-content":a,"data-hover":"tooltip"};b&&(a["data-tooltip-position"]=b);c&&(a["data-tooltip-alignh"]=c);return a}e.exports=a}),null);
__d("TooltipData",["DataStore","DOM","URI","getElementText","ifRequired","isTextNode","tooltipPropsFor"],(function(a,b,c,d,e,f){__p&&__p();function g(a){var c=a.getAttribute("data-tooltip-delay");c=c?parseInt(c,10)||1e3:0;return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),content:a.getAttribute("data-tooltip-content"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction")},b("DataStore").get(a,"tooltip"))}function h(a,c){var d=g(a);b("DataStore").set(a,"tooltip",{content:c.content||d.content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick})}function i(a,b){h(a,b),a.setAttribute("data-hover","tooltip")}function j(a,b){}var k={remove:function(a){b("DataStore").remove(a,"tooltip"),a.removeAttribute("data-hover"),a.removeAttribute("data-tooltip-position"),a.removeAttribute("data-tooltip-alignh"),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.hide()})},set:function(a,c,d,e){j(a,c);if(c instanceof b("URI"))a.setAttribute("data-tooltip-uri",c),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.fetchIfNecessary(a)});else{c=k._store({context:a,content:c,position:d,alignH:e});typeof c.content!=="string"?a.setAttribute("data-tooltip-content",b("getElementText")(c.content)):a.setAttribute("data-tooltip-content",c.content);b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.show(a)})}},_store:function(a){var c=a.context,d=a.content,e=a.position;a=a.alignH;j(c,d);b("isTextNode")(d)&&(d=b("getElementText")(d));var f=!1;typeof d!=="string"?d=b("DOM").create("div",{},d):f=d==="";a={alignH:a,content:d,position:e,suppress:f};i(c,a);return a},propsFor:b("tooltipPropsFor"),enableDisplayOnOverflow:function(a){a.removeAttribute("data-tooltip-display"),i(a,{overflowDisplay:!0})},enablePersistOnClick:function(a){a.removeAttribute("data-pitloot-persistOnClick"),i(a,{persistOnClick:!0})},suppress:function(a,b){h(a,{suppress:b})},_get:g};e.exports=k}),null);
__d("createTooltipPortal",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReactDOM").createPortal(a,c)}e.exports=a}),null);
__d("killswitch",["KSConfig"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("KSConfig").killed.has(a)}a.override=function(a,c){c?b("KSConfig").killed.add(a):b("KSConfig").killed["delete"](a)};e.exports=a}),null);
__d("Tooltip.react",["Arbiter","React","ReactDOM","SubscriptionsHandler","TooltipData","createTooltipPortal","ifRequired","killswitch"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=new(b("SubscriptionsHandler"))(),d.state={visible:!1,wasEverVisible:!1},d.tooltipEl=b("React").createRef(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$2.addSubscriptions(b("Arbiter").subscribe("tooltip/requesthide",function(c,d){c=d.context;a.state.visible&&(!c||c===a.tooltipEl.current)&&b("ifRequired")("Tooltip",function(c){c.suspend(),b("ReactDOM").unstable_interactiveUpdates(function(){a.setState({visible:!1})})})}),b("Arbiter").subscribe("tooltip/requestshow",function(c,d){c=d.context;!a.state.visible&&c===a.tooltipEl.current&&b("ifRequired")("Tooltip",function(c){c.suspend(),b("ReactDOM").unstable_interactiveUpdates(function(){a.setState({visible:!0,wasEverVisible:!0})})})}));this.$3()};d.componentDidUpdate=function(a,c){var d=this;c.visible!==this.state.visible&&(this.props.onVisibilityChange&&this.props.onVisibilityChange(this.state.visible),b("ifRequired")("Tooltip",function(a){d.state.visible?a.commitShow(d.tooltipEl.current):a.commitHide(d.tooltipEl.current)}));this.$3()};d.componentWillUnmount=function(){b("TooltipData").remove(b("ReactDOM").findDOMNode(this)),this.$2.release()};d.render=function(){__p&&__p();var a=this.props;a.alignH;a.children;a.delayMountUntilHover;a.display;a.position;var c=a.tooltip;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignH","children","delayMountUntilHover","display","position","tooltip"]);var d=this.$4();return b("React").createElement(this.props.display==="block"?"div":"span",babelHelpers["extends"]({},a,{ref:this.tooltipEl,"data-hover":"tooltip","data-tooltip-content":typeof c==="string"?c:void 0}),d&&c!==null?b("createTooltipPortal")(c,this.$5()):null,this.props.children)};d.$4=function(){var a=this.props.delayMountUntilHover,b=this.state.wasEverVisible;return!a||b};d.$5=function(){this.$1==null&&(this.$1=document.createElement("div"));return this.$1};d.$3=function(){if(!this.$4())return;var a=b("ReactDOM").findDOMNode(this);if(!this.props.tooltip)b("TooltipData").remove(a);else{var c=this.props,d=c.alignH;c=c.position;b("TooltipData").set(a,this.$5(),c,d)}};return c}(b("React").Component);a.defaultProps={delayMountUntilHover:!b("killswitch")("TOOLTIP_DELAY_MOUNT_UNTIL_HOVER"),display:"inline"};e.exports=a}),null);
__d("AsyncRequestPathTraversalTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AsyncRequestPathTraversalLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AsyncRequestPathTraversalLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AsyncRequestPathTraversalLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setOffendingURI=function(a){this.$1.offending_uri=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={offending_uri:!0,time:!0,weight:!0};e.exports=a}),null);
__d("MqttWsClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MqttWsClientLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MqttWsClientLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MqttWsClientLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAttemptNumber=function(a){this.$1.attempt_number=a;return this};c.setConnectionStatus=function(a){this.$1.connection_status=a;return this};c.setDuration=function(a){this.$1.duration=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setFailTotal=function(a){this.$1.fail_total=a;return this};c.setHostname=function(a){this.$1.hostname=a;return this};c.setHref=function(a){this.$1.href=a;return this};c.setOnline=function(a){this.$1.online=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setPublishStatus=function(a){this.$1.publish_status=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSubscribedTopics=function(a){this.$1.subscribed_topics=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSuccessTotal=function(a){this.$1.success_total=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimePassed=function(a){this.$1.time_passed=a;return this};c.setTopic=function(a){this.$1.topic=a;return this};c.setUserSessionID=function(a){this.$1.user_session_id=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_id:!0,attempt_number:!0,connection_status:!0,duration:!0,error_code:!0,error_message:!0,event_type:!0,fail_total:!0,hostname:!0,href:!0,online:!0,platform:!0,publish_status:!0,session_id:!0,subscribed_topics:!0,success_total:!0,time:!0,time_passed:!0,topic:!0,user_session_id:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RealtimeRequestStreamWebClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:RealtimeRequestStreamWebClientLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:RealtimeRequestStreamWebClientLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RealtimeRequestStreamWebClientLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientSessionID=function(a){this.$1.client_session_id=a;return this};c.setClientTimeMs=function(a){this.$1.client_time_ms=a;return this};c.setMessage=function(a){this.$1.message=a;return this};c.setSeverity=function(a){this.$1.severity=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUserFbid=function(a){this.$1.user_fbid=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={client_session_id:!0,client_time_ms:!0,message:!0,severity:!0,time:!0,user_fbid:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccessToken=function(a){this.$1.access_token=a;return this};c.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};c.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=a;return this};c.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};c.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};c.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};c.setCode=function(a){this.$1.code=a;return this};c.setConcluder=function(a){this.$1.concluder=a;return this};c.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};c.setDevicePixelRatio=function(a){this.$1.device_pixel_ratio=a;return this};c.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};c.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};c.setEnded=function(a){this.$1.ended=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExpectedLength=function(a){this.$1.expected_length=a;return this};c.setInitiator=function(a){this.$1.initiator=a;return this};c.setIsLive=function(a){this.$1.is_live=a;return this};c.setIsMuted=function(a){this.$1.is_muted=a;return this};c.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};c.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};c.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};c.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};c.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};c.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};c.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};c.setLength=function(a){this.$1.length=a;return this};c.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};c.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};c.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};c.setManifestType=function(a){this.$1.manifest_type=a;return this};c.setParentID=function(a){this.$1.parent_id=a;return this};c.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};c.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};c.setPlayerVersion=function(a){this.$1.player_version=a;return this};c.setPlayhead=function(a){this.$1.playhead=a;return this};c.setPreloadTime=function(a){this.$1.preload_time=a;return this};c.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};c.setPriorityFloat=function(a){this.$1.priority_float=a;return this};c.setPushed=function(a){this.$1.pushed=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setRepresentationID=function(a){this.$1.representation_id=a;return this};c.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};c.setResource=function(a){this.$1.resource=a;return this};c.setResult=function(a){this.$1.result=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSegmentCount=function(a){this.$1.segment_count=a;return this};c.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};c.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};c.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};c.setSequentialID=function(a){this.$1.sequential_id=a;return this};c.setSession=function(a){this.$1.session=a;return this};c.setState=function(a){this.$1.state=a;return this};c.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};c.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};c.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};c.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};c.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};c.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};c.setTotalFrames=function(a){this.$1.total_frames=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setUpdatePeriod=function(a){this.$1.update_period=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoDuration=function(a){this.$1.video_duration=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};c.setWasDelayed=function(a){this.$1.was_delayed=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={access_token:!0,additional_buffered_ranges:!0,appended_buffer_ms:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,device_pixel_ratio:!0,dropped_frames:!0,dynamic_bitrate:!0,ended:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,parent_id:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("AsyncDOM",["CSS","DOM","FBLogger"],(function(a,b,c,d,e,f){__p&&__p();a={invoke:function(a,c){__p&&__p();for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b("DOM").scry(h||document.documentElement,g)[0]);f!="eval"&&!h&&b("FBLogger")("async_dom").warn("Could not find relativeTo element for %s AsyncDOM operation based on selector: %s",f,g);switch(f){case"eval":new Function(e).apply(h);break;case"hide":b("CSS").hide(h);break;case"show":b("CSS").show(h);break;case"setContent":b("DOM").setContent(h,e);break;case"appendContent":b("DOM").appendContent(h,e);break;case"prependContent":b("DOM").prependContent(h,e);break;case"insertAfter":b("DOM").insertAfter(h,e);break;case"insertBefore":b("DOM").insertBefore(h,e);break;case"remove":b("DOM").remove(h);break;case"replace":b("DOM").replace(h,e);break;default:b("FBLogger")("async_dom").warn("Received invalid command %s for AsyncDOM operation",f)}}}};e.exports=a}),null);
__d("AsyncResponse",["invariant","Bootloader","FBLogger","HTML"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.error=0,this.errorSummary=null,this.errorDescription=null,this.onload=null,this.replay=!1,this.payload=b,this.request=a,this.silentError=!1,this.transientError=!1,this.blockedAction=!1,this.is_last=!0,this.responseHeaders=null}var c=a.prototype;c.getRequest=function(){return this.request};c.getPayload=function(){return this.payload};c.toError=function(){this.error!==0||g(0,5599);var a=this.errorSummary||"",b=this.getErrorDescriptionString()||"",c=new Error(a.toString()+": "+b);Object.assign(c,{code:this.error,description:this.errorDescription||"",descriptionString:b,response:this,summary:a,isSilent:this.silentError,isTransient:this.transientError});return c};c.getError=function(){return this.error};c.getErrorSummary=function(){return this.errorSummary};c.setErrorSummary=function(a){a=a===void 0?null:a;this.errorSummary=a;return this};c.getErrorDescription=function(){return this.errorDescription};c.getErrorDescriptionString=function(){var a=this.getErrorDescription();if(a==null)return null;if(b("HTML").isHTML(a)){var c=new(b("HTML"))(a);return c.getRootNode().textContent}return a.toString()};c.getErrorIsWarning=function(){return!!this.errorIsWarning};c.isTransient=function(){return!!this.transientError};c.isBlockedAction=function(){return!!this.blockedAction};c.getResponseHeader=function(a){__p&&__p();var b=this.responseHeaders;if(!b)return null;b=b.replace(/^\n/,"");a=a.toLowerCase();b=b.split("\r\n");for(var c=0;c<b.length;++c){var d=b[c],e=d.indexOf(": ");if(e<=0)continue;var f=d.substring(0,e).toLowerCase();if(f===a)return d.substring(e+2)}return null};a.defaultErrorHandler=function(c){try{!c.silentError?a.verboseErrorHandler(c):b("FBLogger")("async_response").catching(c.toError()).warn("default error handler called")}catch(a){alert(c)}};a.verboseErrorHandler=function(a,c){b("Bootloader").loadModules(["ExceptionDialog"],function(b){return b.showAsyncError(a,c)},"AsyncResponse")};return a}();e.exports=a}),null);
__d("guid",[],(function(a,b,c,d,e,f){function a(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}e.exports=a}),null);
__d("ArbiterMixin",["Arbiter","guid"],(function(a,b,c,d,e,f){__p&&__p();var g="arbiter$"+b("guid")(),h=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return h.call(this,g)?this[g]:this[g]=new(b("Arbiter"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};e.exports=a}),null);
__d("StreamBlockReader",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){__p&&__p();var c=this;if(!a.getReader)throw new Error("No getReader method found on given object");this.$3=a.getReader();this.$1="";this.$2=null;this.$4=!1;this.$5="utf-8";this.$6="";this.$9=!1;this.$8=function(){return b("Promise").reject("Sorry, you are somehow using this too early.")};this.$7=new(b("Promise"))(function(a,b){c.$8=a})}var c=a.prototype;c.changeEncoding=function(a){if(this.$2)throw new Error("Decoder already in use, encoding cannot be changed");this.$5=a};c.$10=function(){if(!self.TextDecoder)throw new Error("TextDecoder is not supported here");this.$2||(this.$2=new self.TextDecoder(this.$5));return this.$2};c.$11=function(){if(this.$9)throw new Error("Something else is already reading from this reader");this.$9=!0};c.$12=function(){this.$9=!1};c.isDone=function(){return this.$4};c.$13=function(){__p&&__p();var a,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:if(!(this.$6!=="")){f.next=4;break}a=this.$6;this.$6="";return f.abrupt("return",a);case 4:if(!this.isDone()){f.next=6;break}throw new Error("You cannot read from a stream that is done");case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$3.read());case 8:c=f.sent;d=c.done;e=c.value;this.$4=d;d&&this.$8();return f.abrupt("return",e?this.$10().decode(e,{stream:!d}):"");case 14:case"end":return f.stop()}},null,this)};c.readNextBlock=function(){var a;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$11();a=this.$13();this.$12();return b.abrupt("return",a);case 4:case"end":return b.stop()}},null,this)};c.readUntilStringOrEnd=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.readUntilOneOfStringOrEnd_DO_NOT_USE([a]));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};c.readUntilStringOrThrow=function(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}throw new Error("cannot read empty string");case 2:this.$11(),c="",d=0;case 5:if(this.isDone()){f.next=23;break}f.t0=c;f.next=9;return b("regeneratorRuntime").awrap(this.$13());case 9:c=f.t0+=f.sent;if(!(c.length<a.length)){f.next=12;break}return f.abrupt("continue",5);case 12:e=c.substring(d).indexOf(a);if(!(e!==-1)){f.next=20;break}e+=d;this.$6=c.substring(e+a.length);this.$12();return f.abrupt("return",c.substring(0,e));case 20:d=c.length-a.length+1;case 21:f.next=5;break;case 23:this.$6=c;this.$12();throw new Error("Breakpoint not found");case 26:case"end":return f.stop()}},null,this)};c.readUntilOneOfStringOrEnd_DO_NOT_USE=function(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:this.$11(),c="";case 2:if(this.isDone()){g.next=20;break}g.t0=c;g.next=6;return b("regeneratorRuntime").awrap(this.$13());case 6:c=g.t0+=g.sent,d=0;case 8:if(!(d<a.length)){g.next=18;break}e=a[d];f=c.indexOf(e);if(!(f!==-1)){g.next=15;break}this.$6=c.substring(f+e.length);this.$12();return g.abrupt("return",c.substring(0,f));case 15:d++;g.next=8;break;case 18:g.next=2;break;case 20:this.$12();return g.abrupt("return",c);case 22:case"end":return g.stop()}},null,this)};c.waitUntilDone=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",this.$7);case 1:case"end":return a.stop()}},null,this)};return a}();e.exports=a}),null);
__d("mixin",[],(function(a,b,c,d,e,f){__p&&__p();function a(){var a=function(){},b=0,c;while(b<0||arguments.length<=b?void 0:arguments[b]){c=b<0||arguments.length<=b?void 0:arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a.prototype[d]=c[d]);b+=1}return a}e.exports=a}),null);
__d("FetchStreamTransport",["regeneratorRuntime","ArbiterMixin","FBLogger","FetchStreamConfig","StreamBlockReader","TimeSlice","URI","mixin","nullthrows"],(function $module_FetchStreamTransport(global,require,requireDynamic,requireLazy,module,exports){__p&&__p();var instance_count=0,FetchStreamTransport=function(_mixin){"use strict";__p&&__p();babelHelpers.inheritsLoose(FetchStreamTransport,_mixin);function FetchStreamTransport(uri){__p&&__p();var _this;if(!self.ReadableStream||!self.fetch||!Request||!TextDecoder)throw new Error("fetch stream transport is not supported here");_this=_mixin.call(this)||this;_this.$FetchStreamTransport6=null;_this.$FetchStreamTransport1=uri;_this.$FetchStreamTransport3=!1;_this.$FetchStreamTransport4=!1;_this.$FetchStreamTransport5=!1;_this.$FetchStreamTransport2=++instance_count;return babelHelpers.assertThisInitialized(_this)||babelHelpers.assertThisInitialized(_this)}var _proto=FetchStreamTransport.prototype;_proto.hasFinished=function hasFinished(){return this.$FetchStreamTransport5};_proto.getRequestURI=function getRequestURI(){return new(require("URI"))(this.$FetchStreamTransport1).addQueryData({__a:1,__adt:this.$FetchStreamTransport2,__req:"fetchstream_"+this.$FetchStreamTransport2,ajaxpipe_fetch_stream:1})};_proto.send=function send(){if(this.$FetchStreamTransport3)throw new Error("FetchStreamTransport instances cannot be re-used.");this.$FetchStreamTransport3=!0;var req=new Request(this.getRequestURI().toString(),{mode:"same-origin",credentials:"include"});this.$FetchStreamTransport6=require("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on first response");var fetchPromise=self.fetch(req,{redirect:"follow"});this.$FetchStreamTransport7(fetchPromise)};_proto.$FetchStreamTransport7=function $FetchStreamTransport7(fetchPromise){__p&&__p();var _this2=this,response,reader,first,_loop,_ret;return require("regeneratorRuntime").async(function $FetchStreamTransport7$(_context2){__p&&__p();while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return require("regeneratorRuntime").awrap(fetchPromise);case 3:response=_context2.sent;_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2["catch"](0),this.abort();case 9:if(!(!response||!response.body||!response.ok)){_context2.next=12;break}this.abort();return _context2.abrupt("return");case 12:reader=new(require("StreamBlockReader"))(response.body),first=!0,_loop=function _loop(){__p&&__p();var nextData;return require("regeneratorRuntime").async(function _loop$(_context){__p&&__p();while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return require("regeneratorRuntime").awrap(reader.readUntilStringOrEnd(require("FetchStreamConfig").delim));case 2:nextData=_context.sent;if(!_this2.$FetchStreamTransport4){_context.next=5;break}return _context.abrupt("return","break");case 5:require("nullthrows")(_this2.$FetchStreamTransport6)(function(){__p&&__p();if(first&&nextData.startsWith("<")){require("FBLogger")("FetchStreamTransport").mustfix("Endpoint: %s is sending a raw HTML response instead of properly formatted payload",_this2.$FetchStreamTransport1.toString());var node=document.createElement("div");node.innerHTML=nextData;var scripts=node.getElementsByTagName("script");for(var i=0;i<scripts.length;i++)eval(scripts[i].innerHTML);_this2.$FetchStreamTransport5=!0;return}first=!1;var parsedResponse=JSON.parse(nextData);reader.isDone()||parsedResponse.finished?_this2.$FetchStreamTransport5=!0:_this2.$FetchStreamTransport6=require("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on next response");_this2.inform("response",parsedResponse.content)});case 6:case"end":return _context.stop()}},null,this)};case 15:if(!(!this.$FetchStreamTransport5&&!this.$FetchStreamTransport4)){_context2.next=23;break}_context2.next=18;return require("regeneratorRuntime").awrap(_loop());case 18:_ret=_context2.sent;if(!(_ret==="break")){_context2.next=21;break}return _context2.abrupt("break",23);case 21:_context2.next=15;break;case 23:case"end":return _context2.stop()}},null,this,[[0,6]])};_proto.abort=function abort(){__p&&__p();var _this3=this;if(this.$FetchStreamTransport4||this.$FetchStreamTransport5)return;this.$FetchStreamTransport4=!0;this.$FetchStreamTransport5=!0;if(this.$FetchStreamTransport6){var continuation=this.$FetchStreamTransport6;continuation(function(){_this3.inform("abort")})}else this.inform("abort")};return FetchStreamTransport}(require("mixin")(require("ArbiterMixin")));module.exports=FetchStreamTransport}),null);
__d("HTTPErrors",["emptyFunction"],(function(a,b,c,d,e,f){a={get:b("emptyFunction"),getAll:b("emptyFunction")};e.exports=a}),null);
__d("JSONPTransport",["ArbiterMixin","DOM","HTML","TimeSlice","URI","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g={},h=2,i="jsonp",j="iframe";function k(a){delete g[a]}c=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(d,c);function d(a,b){var d;d=c.call(this)||this;d._type=a;d._uri=b;d._hasResponse=!1;g[d.getID()]=babelHelpers.assertThisInitialized(d);return d}var e=d.prototype;e.getID=function(){return this._id||(this._id=h++)};e.hasFinished=function(){return!(this.getID()in g)};e.getRequestURI=function(){return new(b("URI"))(this._uri).addQueryData({__a:1,__adt:this.getID(),__req:"jsonp_"+this.getID()})};e.getTransportFrame=function(){if(this._iframe)return this._iframe;var a="transport_frame_"+this.getID();a=b("HTML")('<iframe class="hidden_elem" name="'+a+'" src="javascript:void(0)" />');return this._iframe=b("DOM").appendContent(document.body,a)[0]};e.send=function(){this._type===i?setTimeout(function(){b("DOM").appendContent(document.body,b("DOM").create("script",{src:this.getRequestURI().toString(),type:"text/javascript"}))}.bind(this),0):(this.getTransportFrame().onload=this._checkForErrors.bind(this),this.getTransportFrame().src=this.getRequestURI().toString()),this._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};e.createContinuationForFileForm_DO_NOT_USE=function(){this._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};e.handleResponse=function(a){var c=this;this._continuation(function(){c.inform("response",a),c.hasFinished()?setTimeout(c._cleanup.bind(c),0):c._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for next response")})};e.abort=function(){if(this._aborted)return;this._aborted=!0;this._cleanup();k(this.getID());this.inform("abort");this._continuation&&b("TimeSlice").cancel(this._continuation)};e._checkForErrors=function(){this._hasResponse||this.abort()};e._cleanup=function(){this._iframe&&(b("DOM").remove(this._iframe),this._iframe=null)};d.respond=function(b,c,d){var e=g[b];if(e)e._hasResponse=!0,d||k(b),e._type==j&&(typeof c==="string"?c=JSON.parse(c):c=JSON.parse(JSON.stringify(c))),e.handleResponse(c);else{e=a.ErrorSignal;e&&!d&&e.logJSError("ajax",{error:"UnexpectedJsonResponse",extra:{id:b,uri:c.payload&&c.payload.uri||""}})}};return d}(b("mixin")(b("ArbiterMixin")));c.respond=b("TimeSlice").guard(c.respond,"JSONPTransport.respond",{root:!0});e.exports=c}),null);
__d("bind",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){__p&&__p();var c=Array.prototype.slice.call(arguments,2);if(typeof b!=="string")return Function.prototype.bind.apply(b,[a].concat(c));function d(){var d=c.concat(Array.prototype.slice.call(arguments));if(a[b])return a[b].apply(a,d)}d.toString=function(){return"bound lazily: "+a[b]};return d}e.exports=a}),null);
__d("errorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){throw new Error('errorCode("'+a+'"): This should not happen. Oh noes!')}e.exports=a}),null);
__d("executeAfter",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments),b.apply(c||this,arguments)}}e.exports=a}),null);
__d("FbtReactUtil",[],(function(a,b,c,d,e,f){a=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;var g=!1;b={REACT_ELEMENT_TYPE:a,defineProperty:function(a,b,c){g?Object.defineProperty(a,b,{configurable:!1,enumerable:!1,writable:!1,value:c}):a[b]=c}};e.exports=b}),null);
__d("FbtResultWWW",["FBLogger","FbtResultBase","killswitch"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){b("FBLogger")("fbt").blameToPreviousFile().mustfix("Error using fbt string. Used method %s on Fbt string. Fbt string is designed to be immutable and should not be manipulated.",a)}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.onStringSerializationError=function(a){var c="Context not logged.";if(!b("killswitch")("JS_RELIABILITY_FBT_LOGGING"))try{a=JSON.stringify(a);a!=null&&(c=a.substr(0,250))}catch(a){c=a.message}b("FBLogger")("fbt").blameToPreviousFile().mustfix("Converting to a string will drop content data. %s",c)};return c}(b("FbtResultBase"));c=a.usingStringProxyMethod(function(a){return function(){g(a);return String.prototype[a].apply(this,arguments)}});e.exports=c}),null);
__d("FbtResultBaseImpl",["FbtResultWWW"],(function(a,b,c,d,e,f){"use strict";e.exports=b("FbtResultWWW")}),null);
__d("FbtResult",["FbtReactUtil","FbtResultBaseImpl"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){return a.content};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$$typeof=b("FbtReactUtil").REACT_ELEMENT_TYPE;d.key=null;d.ref=null;d.type=g;d.props={content:c};return d}return c}(b("FbtResultBaseImpl"));e.exports=a}),null);
__d("FbtTableAccessor",[],(function(a,b,c,d,e,f){"use strict";a={getEnumResult:function(a){return[a,null]},getGenderResult:function(a,b,c){return[a,b]},getNumberResult:function(a,b,c){return[a,b]},getPronounResult:function(a){return[[a,"*"],null]}};e.exports=a}),null);
__d("FbtTranslations",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return null}function b(){return!1}e.exports={getTranslatedPayload:a,isComponentScript:b}}),null);
__d("InlineFbtResult",["cx","FbtReactUtil","FbtResultBaseImpl"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,c,d,e){var f="_4qba";e!=null&&e!=""&&(c==="TRANSLATION"?f="_4qbb":c==="APPROVE"?f="_4qbc":c==="REPORT"&&(f="_4qbd"));return{$$typeof:b("FbtReactUtil").REACT_ELEMENT_TYPE,type:"em",key:null,ref:null,props:{className:f,"data-intl-hash":e,"data-intl-translation":d,"data-intl-trid":"",children:a,suppressHydrationWarning:!0},_owner:null}}var i=function(a){return h(a.content,a.inlineMode,a.translation,a.hash)};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;g=a.call(this,c)||this;g.$$typeof=b("FbtReactUtil").REACT_ELEMENT_TYPE;g.key=null;g.ref=null;g.type=i;g.props={content:c,inlineMode:d,translation:e,hash:f};return g}return c}(b("FbtResultBaseImpl"));e.exports=a}),null);
__d("FbtNumberType",["IntlNumberTypeConfig","IntlVariations"],(function(a,b,c,d,e,f){a=new Function("IntlVariations",'"use strict"; return (function(n) {'+b("IntlNumberTypeConfig").impl+"});")(b("IntlVariations"));e.exports={getVariation:a}}),null);
__d("IntlNumberType",["FbtNumberType"],(function(a,b,c,d,e,f){a={get:function(a){return b("FbtNumberType")}};e.exports=a}),null);
__d("IntlVariationResolverImpl",["invariant","IntlNumberType","IntlVariations","IntlViewerContext"],(function(a,b,c,d,e,f,g){var h="_1";a={EXACTLY_ONE:h,getNumberVariations:function(a){var c=b("IntlNumberType").get(b("IntlViewerContext").locale).getVariation(a);c&b("IntlVariations").BITMASK_NUMBER||g(0,481);return a===1?[h,c,"*"]:[c,"*"]},getGenderVariations:function(a){a&b("IntlVariations").BITMASK_GENDER||g(0,482);return[a,"*"]}};e.exports=a}),null);
__d("IntlVariationResolver",["IntlHoldoutGK","IntlVariationResolverImpl"],(function(a,b,c,d,e,f){var g=b("IntlVariationResolverImpl").EXACTLY_ONE;a={getNumberVariations:function(a){return b("IntlHoldoutGK").inIntlHoldout?a===1?[g,"*"]:["*"]:b("IntlVariationResolverImpl").getNumberVariations(a)},getGenderVariations:function(a){return b("IntlHoldoutGK").inIntlHoldout?["*"]:b("IntlVariationResolverImpl").getGenderVariations(a)}};e.exports=a}),null);
__d("NumberFormatConsts",["NumberFormatConfig"],(function(a,b,c,d,e,f){a={get:function(a){return b("NumberFormatConfig")}};e.exports=a}),null);
__d("escapeRegex",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")}e.exports=a}),null);
__d("intlNumUtils",["IntlViewerContext","NumberFormatConsts","escapeRegex"],(function(a,b,c,d,e,f){__p&&__p();var g=3;f=["\u0433\u0440\u043d.","\u0434\u0435\u043d.","\u043b\u0432.","\u043c\u0430\u043d.","\u0564\u0580.","\u062c.\u0645.","\u062f.\u0625.","\u062f.\u0627.","\u062f.\u0628.","\u062f.\u062a.","\u062f.\u062c.","\u062f.\u0639.","\u062f.\u0643.","\u062f.\u0644.","\u062f.\u0645.","\u0631.\u0633.","\u0631.\u0639.","\u0631.\u0642.","\u0631.\u064a.","\u0644.\u0633.","\u0644.\u0644.","\u0783.","B/.","Bs.","Fr.","kr.","L.","p.","S/."];var h={};function i(a){h[a]||(h[a]=new RegExp(a,"i"));return h[a]}var j=i(f.reduce(function(a,c,d){return a+(d?"|":"")+"("+b("escapeRegex")(c)+")"},""));function k(a,c,d,e,f,h,j){__p&&__p();d===void 0&&(d="");e===void 0&&(e=".");f===void 0&&(f=0);h===void 0&&(h={primaryGroupSize:g,secondaryGroupSize:g});var k=h.primaryGroupSize||g;h=h.secondaryGroupSize||k;j=j&&j.digits;var m;c==null?m=a.toString():typeof a==="string"?m=q(a,c):m=o(a,c);a=m.split(".");c=a[0];m=a[1];if(Math.abs(parseInt(c,10)).toString().length>=f){a="$1"+d+"$2$3";f="(\\d)(\\d{"+(k-0)+"})($|\\D)";k=c.replace(i(f),a);if(k!=c){c=k;f="(\\d)(\\d{"+(h-0)+"})("+b("escapeRegex")(d)+")";h=i(f);while((k=c.replace(h,a))!=c)c=k}}j!=null&&(c=l(c,j),m=m&&l(m,j));d=c;m&&(d+=e+m);return d}function l(a,b){var c="";for(var d=0;d<a.length;++d){var e=b[a.charCodeAt(d)-48];c+=e!==void 0?e:a[d]}return c}function a(a,c){var d=b("NumberFormatConsts").get(b("IntlViewerContext").locale);return k(a,c,"",d.decimalSeparator,d.minDigitsForThousandsSeparator,d.standardDecimalPatternInfo,d.numberingSystemData)}function m(a,c){var d=b("NumberFormatConsts").get(b("IntlViewerContext").locale);return k(a,c,d.numberDelimiter,d.decimalSeparator,d.minDigitsForThousandsSeparator,d.standardDecimalPatternInfo,d.numberingSystemData)}function n(a){return a&&Math.floor(Math.log10(Math.abs(a)))}function c(a,b,c){__p&&__p();var d=n(a),e=a;d<c&&(e=a*Math.pow(10,-d+c));a=Math.pow(10,n(e)-c+1);e=Math.round(e/a)*a;if(d<c){e/=Math.pow(10,-d+c);if(b==null)return m(e,c-d-1)}return m(e,b)}function o(a,b){__p&&__p();b=b==null?0:b;var c=Math.pow(10,b);a=a;a=Math.round(a*c)/c;a+="";if(!b)return a;if(a.indexOf("e-")!==-1)return a;c=a.indexOf(".");var d;c==-1?(a+=".",d=b):d=b-(a.length-c-1);for(var b=0,c=d;b<c;b++)a+="0";return a}var p=function(a,b){a=a;for(var c=0;c<b;c++)a+="0";return a};function q(a,b){var c=a.indexOf("."),d=c===-1?a:a.slice(0,c);a=c===-1?"":a.slice(c+1);return b!=null?d+"."+p(a.slice(0,b),b-a.length):d}function r(a,c,d){__p&&__p();d===void 0&&(d="");var e=t(),f=a;e&&(f=a.split("").map(function(a){return e[a]||a}).join("").trim());f=f.replace(/^[^\d]*\-/,"\x02");f=f.replace(j,"");a=b("escapeRegex")(c);c=b("escapeRegex")(d);d=i("^[^\\d]*\\d.*"+a+".*\\d[^\\d]*$");if(!d.test(f)){d=i("(^[^\\d]*)"+a+"(\\d*[^\\d]*$)");if(d.test(f)){f=f.replace(d,"$1\x01$2");return s(f)}d=i("^[^\\d]*[\\d "+b("escapeRegex")(c)+"]*[^\\d]*$");d.test(f)||(f="");return s(f)}d=i("(^[^\\d]*[\\d "+c+"]*)"+a+"(\\d*[^\\d]*$)");f=d.test(f)?f.replace(d,"$1\x01$2"):"";return s(f)}function s(a){a=a.replace(/[^0-9\u0001\u0002]/g,"").replace("\x01",".").replace("\x02","-");var b=Number(a);return a===""||isNaN(b)?null:b}function t(){var a=b("NumberFormatConsts").get(b("IntlViewerContext").locale),c={};a=a.numberingSystemData&&a.numberingSystemData.digits;if(a==null)return null;for(var d=0;d<a.length;d++)c[a.charAt(d)]=d.toString();return c}function d(a){var c=b("NumberFormatConsts").get(b("IntlViewerContext").locale);return r(a,c.decimalSeparator||".",c.numberDelimiter)}var u={formatNumber:a,formatNumberRaw:k,formatNumberWithThousandDelimiters:m,formatNumberWithLimitedSigFig:c,parseNumber:d,parseNumberRaw:r,truncateLongNumber:q,getFloatString:function(a,b,c){a=String(a);a=a.split(".");b=u.getIntegerString(a[0],b);return a.length===1?b:b+c+a[1]},getIntegerString:function(a,b){b=b;b===""&&(b=",");a=String(a);var c=/(\d+)(\d{3})/;while(c.test(a))a=a.replace(c,"$1"+b+"$2");return a}};e.exports=u}),null);
__d("IntlPhonologicalRewrites",["IntlPhonologicalRules"],(function(a,b,c,d,e,f){a={get:function(a){return b("IntlPhonologicalRules")}};e.exports=a}),null);
__d("IntlPunctuation",["IntlPhonologicalRewrites","IntlViewerContext"],(function(a,b,c,d,e,f){__p&&__p();d="[.!?\u3002\uff01\uff1f\u0964\u2026\u0eaf\u1801\u0e2f\uff0e]";var g=new RegExp(d+"[)\"'\xbb\u0f3b\u0f3d\u2019\u201d\u203a\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u3019\u301b\u301e\u301f\ufd3f\uff07\uff09\uff3d\\s]*$"),h=[],i=null,j=b("IntlPhonologicalRewrites").get(b("IntlViewerContext").locale);function k(){__p&&__p();b("IntlViewerContext").locale&&b("IntlViewerContext").locale!==i&&(h=[],i=b("IntlViewerContext").locale,j=b("IntlPhonologicalRewrites").get(i));if(!h.length)for(var a in j.patterns){var c=j.patterns[a];for(var d in j.meta){var e=new RegExp(d.slice(1,-1),"g"),f=j.meta[d];a=a.replace(e,f);c=c.replace(e,f)}c==="javascript"&&(c=function(a){return a.slice(1).toLowerCase()});h.push([new RegExp(a.slice(1,-1),"g"),c])}return h}function a(a){var b=k();for(var c=0;c<b.length;c++){var d=b[c],e=d[0];d=d[1];a=a.replace(e,d)}return a.replace(/\x01/g,"")}function c(a){return typeof a!=="string"?!1:g.test(a)}e.exports={PUNCT_CHAR_CLASS:d,endsInPunct:c,applyPhonologicalRules:a}}),null);
__d("substituteTokens",["invariant","IntlPunctuation"],(function(a,b,c,d,e,f,g){__p&&__p();var h=new RegExp("\\{([^}]+)\\}("+b("IntlPunctuation").PUNCT_CHAR_CLASS+"*)","g");function i(a){return a}function a(a,c){__p&&__p();var d=c;if(!d)return a;typeof d==="object"||g(0,6041,a);var e=[],f=[];c=a.replace(h,function(a,c,g){a=d[c];if(a&&typeof a==="object"){e.push(a);f.push(c);return"\x17"+g}else if(a===null)return"";return a+(b("IntlPunctuation").endsInPunct(a)?"":g)}).split("\x17").map(b("IntlPunctuation").applyPhonologicalRules);if(c.length===1)return c[0];a=[c[0]];for(var j=0;j<e.length;j++)a.push(i(e[j]),c[j+1]);return a}e.exports=a}),null);
__d("fbt",["invariant","Banzai","FbtLogger","FbtQTOverrides","FbtTableAccessor","FbtResult","FbtResultGK","GenderConst","FbtTranslations","InlineFbtResult","IntlViewerContext","intlNumUtils","substituteTokens","IntlVariationResolver"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("FbtLogger").logger,i=b("FbtQTOverrides").overrides,j=b("FbtTranslations").getTranslatedPayload,k=b("FbtTranslations").isComponentScript,l=b("IntlVariationResolver").getNumberVariations,m=b("IntlVariationResolver").getGenderVariations,n=!1,o={INDEX:0,SUBSTITUTION:1},p={NUMBER:0,GENDER:1},q={OBJECT:0,POSSESSIVE:1,REFLEXIVE:2,SUBJECT:3},r={},s=function(){};s._=function(a,c,d){__p&&__p();if(d&&(d.hk||d.ehk)){if(n)return{text:a,fbt:!0,hashKey:d.hk};d=j(d.hk,d.ehk,c)||{table:a,args:c};a=d.table;c=d.args}d={};var e=a;a.__vcg&&(c=c||[],c.unshift([m(b("IntlViewerContext").GENDER),null]));c&&(typeof e!=="string"&&(e=this._accessTable(a,c,0)),d=Object.assign.apply(Object,[{}].concat(c.map(function(a){return a[o.SUBSTITUTION]||{}}))),e!==null||g(0,479));a=e;c=null;var f=k()?"\nNote: Certain fbt constructs such as fbt.plural() and the third positional `variations` argument to fbt.param() are currently disallowed":"";typeof e==="string"||Array.isArray(e)||g(0,480,JSON.stringify(e),f);if(Array.isArray(e)){a=e[0];c=e[1];f="1_"+c;a=i[f]||a;i[f]&&s.logQTImpression(c);s.logImpression(c)}e=r[a];f=this._hasKeys(d);if(e&&!f)return e;else{e=b("substituteTokens")(a,d);d=this._wrapContent(e,a,c);f||(r[a]=d);return d}};s._hasKeys=function(a){for(var b in a)return!0;return!1};s._accessTable=function(a,b,c){__p&&__p();if(c>=b.length)return a;else if(a==null)return null;var d=null,e=b[c];e=e[o.INDEX];if(Array.isArray(e))for(var f=0;f<e.length;++f){var g=a[e[f]];d=this._accessTable(g,b,c+1);if(d!=null)break}else a=e!==null?a[e]:a,d=this._accessTable(a,b,c+1);return d};s._enum=function(a,c){return b("FbtTableAccessor").getEnumResult(a)};s._subject=function(a){return b("FbtTableAccessor").getGenderResult(m(a),null,a)};s._param=function(a,c,d){__p&&__p();var e,f=null;e=(e={},e[a]=c,e);if(d)if(d[0]===p.NUMBER){var h=d.length>1?d[1]:c;typeof h==="number"||g(0,484);f=l(h);typeof c==="number"&&(e[a]=b("intlNumUtils").formatNumberWithThousandDelimiters(c));return b("FbtTableAccessor").getNumberResult(f,e,h)}else if(d[0]===p.GENDER){d.length>1||g(0,485);a=d[1];f=m(a);return b("FbtTableAccessor").getGenderResult(f,e,a)}else g(0,486);else return[f,e]};s._plural=function(a,c,d){var e=l(a),f={};c&&(typeof d==="number"?f[c]=b("intlNumUtils").formatNumberWithThousandDelimiters(d):f[c]=d||b("intlNumUtils").formatNumberWithThousandDelimiters(a));return b("FbtTableAccessor").getNumberResult(e,f,a)};s._pronoun=function(a,c,d){c!==b("GenderConst").NOT_A_PERSON||!d||!d.human||g(0,487);d=t(a,c);return b("FbtTableAccessor").getPronounResult(d)};function t(a,c){switch(c){case b("GenderConst").NOT_A_PERSON:return a===q.OBJECT||a===q.REFLEXIVE?b("GenderConst").NOT_A_PERSON:b("GenderConst").UNKNOWN_PLURAL;case b("GenderConst").FEMALE_SINGULAR:case b("GenderConst").FEMALE_SINGULAR_GUESS:return b("GenderConst").FEMALE_SINGULAR;case b("GenderConst").MALE_SINGULAR:case b("GenderConst").MALE_SINGULAR_GUESS:return b("GenderConst").MALE_SINGULAR;case b("GenderConst").MIXED_SINGULAR:case b("GenderConst").FEMALE_PLURAL:case b("GenderConst").MALE_PLURAL:case b("GenderConst").NEUTER_PLURAL:case b("GenderConst").UNKNOWN_PLURAL:return b("GenderConst").UNKNOWN_PLURAL;case b("GenderConst").NEUTER_SINGULAR:case b("GenderConst").UNKNOWN_SINGULAR:return a===q.REFLEXIVE?b("GenderConst").NOT_A_PERSON:b("GenderConst").UNKNOWN_PLURAL}return b("GenderConst").NOT_A_PERSON}s._name=function(a,c,d){var e=m(d),f={};f[a]=c;return b("FbtTableAccessor").getGenderResult(e,f,d)};s.logImpression=function(a){h&&h.logImpression(a);return a};s.logQTImpression=function(a){b("Banzai").post("intl_qt_event",{hash:a});return a};s._wrapContent=function(a,c,d){if(!b("FbtResultGK").shouldReturnFbtResult&&b("FbtResultGK").inlineMode!=="REPORT")return a;a=typeof a==="string"?[a]:a;return b("FbtResultGK").inlineMode&&b("FbtResultGK").inlineMode!=="NO_INLINE"?new(b("InlineFbtResult"))(a,b("FbtResultGK").inlineMode,c,d):new(b("FbtResult"))(a)};s.enableJsonExportMode=function(){n=!0};s.disableJsonExportMode=function(){n=!1};e.exports=s}),null);
__d("AsyncRequest",["errorCode","fbt","invariant","ix","Promise","requireDeferred","Arbiter","ArtilleryAsyncRequestTracingAnnotator","AsyncDOM","AsyncRequestConfig","AsyncResponse","Bootloader","CSS","Deferred","DTSG","DTSG_ASYNC","Env","ErrorUtils","Event","FBLogger","FetchStreamTransport","HTTPErrors","JSCC","Parent","PHPQuerySerializer","ProfilingCounters","ResourceTimingsStore","ResourceTypes","ServerJS","SessionName","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","bind","bx","clearTimeout","emptyFunction","evalGlobal","executeAfter","ge","getAsyncHeaders","getAsyncParams","gkx","goURI","ifRequired","isBonfireURI","isEmpty","isFacebookURI","isMessengerDotComURI","isWorkplaceDotComURI","killswitch","promiseDone","qex","replaceTransportMarkers","setTimeout","setTimeoutAcrossTransitions"],(function $module_AsyncRequest(global,require,requireDynamic,requireLazy,module,exports,errorCode,fbt,invariant,ix){"use strict";__p&&__p();var AsyncRequestPathTraversalTypedLoggerDeferred=require("requireDeferred")("AsyncRequestPathTraversalTypedLogger"),nineteenSecInMs=19e3;function hasUnloaded(){try{return!window.domready}catch(_unused){return!0}}function supportsProgress(transport){return"onprogress"in transport}function supportsUploadProgress(transport){return"upload"in transport&&"onprogress"in transport.upload}function supportsCrossOrigin(transport){return"withCredentials"in transport}function isNetworkError(transport){return transport.status in{0:1,12029:1,12030:1,12031:1,12152:1}}function validateResponseHandler(handler){var valid=!handler||typeof handler==="function";valid||require("FBLogger")("asyncresponse").mustfix("AsyncRequest response handlers must be functions. Pass a function, or use bind() to build one.");return valid}var last_id=2,id_threshold=last_id;require("Arbiter").subscribe("page_transition",function(_,message){id_threshold=message.id});var AsyncRequest=function(){__p&&__p();function AsyncRequest(uri){__p&&__p();var _this=this;this._allowIrrelevantRequests=!1;this._delayPreDisplayJS=!1;this._shouldReplaceTransportMarkers=require("gkx")("678674");this._dispatchErrorResponse=function(asyncResponse,errorHandler){__p&&__p();var error=asyncResponse.getError();_this.clearStatusIndicator();if(!_this._isRelevant()||error===1010){_this.abort();return}if(_this._isServerDialogErrorCode(error)){var is_confirmation=error==1357008||error==1357007;_this.interceptHandler(asyncResponse);error==1357041?_this._solveQuicksandChallenge(asyncResponse):error==1357007?_this._displayServerDialog(asyncResponse,is_confirmation,!0):_this._displayServerDialog(asyncResponse,is_confirmation)}else if(_this.initialHandler(asyncResponse)!==!1){require("clearTimeout")(_this.timer);try{errorHandler(asyncResponse)}catch(e){_this.finallyHandler(asyncResponse);throw e}_this.finallyHandler(asyncResponse)}};this._onStateChange=function(){__p&&__p();var transport=_this.transport;if(!transport)return;try{AsyncRequest._inflightCount--;require("ResourceTimingsStore").measureResponseReceived(require("ResourceTypes").XHR,_this.resourceTimingStoreUID);try{typeof transport.getResponseHeader!=="undefined"&&transport.getResponseHeader("X-FB-Debug")&&(_this._xFbServer=transport.getResponseHeader("X-FB-Debug"))}catch(_unused2){}if(transport.status>=200&&transport.status<300)AsyncRequest.lastSuccessTime=Date.now(),_this._handleXHRResponse(transport);else if(require("UserAgent_DEPRECATED").webkit()&&typeof transport.status==="undefined")_this._invokeErrorHandler(1002);else if(require("AsyncRequestConfig").retryOnNetworkError&&isNetworkError(transport)&&_this.remainingRetries>0&&!_this._requestTimeout){_this.remainingRetries--;delete _this.transport;_this.send(!0);return}else _this._invokeErrorHandler();_this.getOption("asynchronous_DEPRECATED")!==!1&&delete _this.transport}catch(exception){if(hasUnloaded())return;delete _this.transport;_this.remainingRetries>0?(_this.remainingRetries--,_this.send(!0)):(_this.getOption("suppressErrorAlerts")||require("FBLogger")("AsyncRequest").catching(exception).mustfix("AsyncRequest exception when attempting to handle a state change"),_this._invokeErrorHandler(1007))}};this.continuation=require("TimeSlice").getPlaceholderReusableContinuation();this.transport=null;this.method="POST";this.uri="";this.timeout=null;this.timer=null;this.initialHandler=require("emptyFunction");this.handler=null;this.uploadProgressHandler=null;this.errorHandler=require("AsyncResponse").defaultErrorHandler;this.transportErrorHandler=null;this.timeoutHandler=null;this.interceptHandler=require("emptyFunction");this.finallyHandler=require("emptyFunction");this.abortHandler=require("emptyFunction");this.serverDialogCancelHandler=null;this.relativeTo=null;this.statusElement=null;this.statusClass="";this.data={};this.headers={};this.file=null;this.context={};this.readOnly=!1;this.writeRequiredParams=[];this.remainingRetries=0;this.userActionID="-";this.logErrorsEnabled=require("AsyncRequestConfig").logAsyncRequest;this.allowInteractionServerTracing=!0;this.resourceTimingStoreUID=require("ResourceTimingsStore").getUID(require("ResourceTypes").XHR,uri!=null?uri.toString():"");this._warningList=[500,1010,1004];this.option={asynchronous_DEPRECATED:!0,suppressErrorHandlerWarning:!1,suppressEvaluation:!1,suppressErrorAlerts:!1,retries:0,jsonp:!1,bundle:!1,useIframeTransport:!1,handleErrorAfterUnload:!1,useFetchWithIframeFallback:!1};this.transportErrorHandler=require("bind")(this,"errorHandler");uri!==void 0&&this.setURI(uri);this.setAllowCrossPageTransition(require("AsyncRequestConfig").asyncRequestsSurviveTransitionsDefault||!1)}var _proto=AsyncRequest.prototype;_proto._dispatchResponse=function _dispatchResponse(asyncResponse){__p&&__p();this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(1010);return}if(this.initialHandler(asyncResponse)===!1)return;require("clearTimeout")(this.timer);if(asyncResponse.jscc_map){var jsccMap=require("JSCC").parse(asyncResponse.jscc_map);require("JSCC").init(jsccMap)}var suppress_js,handler=this.getHandler();if(handler)try{suppress_js=this._shouldSuppressJS(handler(asyncResponse))}catch(e){asyncResponse.is_last&&this.finallyHandler(asyncResponse);throw e}suppress_js||this._handleJSResponse(asyncResponse);asyncResponse.is_last&&this.finallyHandler(asyncResponse)};_proto._shouldSuppressJS=function _shouldSuppressJS(handler_return_value){return handler_return_value===AsyncRequest.suppressOnloadToken};_proto._handlePreDisplayServerJS=function _handlePreDisplayServerJS(serverJS,preDisplayJSMods){__p&&__p();var _displayStarted=!1,preDisplayPromises=[],registerToBlockDisplayUntilDone_DONOTUSE=function registerToBlockDisplayUntilDone_DONOTUSE(){if(_displayStarted){require("FBLogger")("AsyncResponse").warn("registerToBlockDisplayUntilDone_DONOTUSE called after AsyncResponse display started. This is a no-op.");return function(){}}var timeoutId,deferrable=new(require("Deferred"))();preDisplayPromises.push(deferrable.getPromise());return require("TimeSlice").guard(function(){timeoutId&&require("clearTimeout")(timeoutId),deferrable.resolve()},"AsyncRequestDisplayBlockingEvent",{propagationType:require("TimeSlice").PropagationType.EXECUTION})};serverJS.handle(preDisplayJSMods,{bigPipeContext:{registerToBlockDisplayUntilDone_DONOTUSE:registerToBlockDisplayUntilDone_DONOTUSE}});_displayStarted=!0;return preDisplayPromises};_proto._hasEvalDomOp=function _hasEvalDomOp(domOps){return domOps&&domOps.length?domOps.some(function(op){return op[0]==="eval"}):!1};_proto._handleJSResponse=function _handleJSResponse(asyncResponse){__p&&__p();var relativeTo=this.getRelativeTo(),domOps=asyncResponse.domops,dtsgToken=asyncResponse.dtsgToken,dtsgAsyncGetToken=asyncResponse.dtsgAsyncGetToken,jsMods=asyncResponse.jsmods,serverJS,savedServerJSInstance=asyncResponse.savedServerJSInstance;savedServerJSInstance&&savedServerJSInstance instanceof require("ServerJS")?serverJS=savedServerJSInstance:serverJS=new(require("ServerJS"))();serverJS.setRelativeTo(relativeTo);if(jsMods){var preDisplayJSMods={};preDisplayJSMods.define=jsMods.define;preDisplayJSMods.instances=jsMods.instances;preDisplayJSMods.markup=jsMods.markup;delete jsMods.define;delete jsMods.instances;delete jsMods.markup;this._hasEvalDomOp(domOps)&&(preDisplayJSMods.elements=jsMods.elements,delete jsMods.elements);serverJS.handle(preDisplayJSMods)}dtsgToken&&require("DTSG").setToken(dtsgToken);dtsgAsyncGetToken&&require("DTSG_ASYNC").setToken(dtsgAsyncGetToken);domOps&&require("AsyncDOM").invoke(domOps,relativeTo);jsMods&&serverJS.handle(jsMods);this._handleJSRegisters(asyncResponse,"onload");this._handleJSRegisters(asyncResponse,"onafterload")};_proto._handleJSRegisters=function _handleJSRegisters(asyncResponse,phase){var registers=asyncResponse[phase];if(registers)for(var ii=0;ii<registers.length;ii++)require("ErrorUtils").applyWithGuard(new Function(registers[ii]),this)};_proto.invokeResponseHandler=function invokeResponseHandler(interpreted){__p&&__p();if(typeof interpreted.redirect!=="undefined"){require("setTimeout")(function(){this.setURI(interpreted.redirect).send()}.bind(this),0);return}if(interpreted.bootloadOnly!==void 0){var toBootload=typeof interpreted.bootloadOnly==="string"?JSON.parse(interpreted.bootloadOnly):interpreted.bootloadOnly,_loop=function _loop(){__p&&__p();if(_isArray){if(_i>=_iterator.length)return"break";_ref=_iterator[_i++]}else{_i=_iterator.next();if(_i.done)return"break";_ref=_i.value}var rsrcs=_ref;require("TimeSlice").guard(function(){require("Bootloader").loadPredictedResourceMap(rsrcs)},"Bootloader.loadPredictedResourceMap",{root:!0})()};for(var _iterator=toBootload,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref,_ret=_loop();if(_ret==="break")break}return}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler&&!this.preBootloadHandler&&this.initialHandler===require("emptyFunction")&&this.finallyHandler===require("emptyFunction"))return;var response=interpreted.asyncResponse;if(typeof response!=="undefined"){this._artilleryHandle!=null&&this._artilleryHandle(response);if(!this._isRelevant()){this._invokeErrorHandler(1010);return}response.inlinejs&&require("evalGlobal")(response.inlinejs);response.lid&&(this._responseTime=Date.now(),global.CavalryLogger&&(this.cavalry=global.CavalryLogger.getInstance(response.lid)),this.lid=response.lid);ix.add(response.ixData);require("bx").add(response.bxData);require("gkx").add(response.gkxData);require("qex").add(response.qexData);response.resource_map&&require("Bootloader").setResourceMap(response.resource_map);response.bootloadable&&require("Bootloader").enableBootload(response.bootloadable);var dispatch,arbiter_event;if(response.getError()&&!response.getErrorIsWarning()){var handler=this.getErrorHandler().bind(this);dispatch=require("ErrorUtils").guard(this._dispatchErrorResponse,"AsyncRequest#_dispatchErrorResponse for "+this.getURI());dispatch=dispatch.bind(this,response,handler);this._logError(response);arbiter_event="error"}else{dispatch=require("ErrorUtils").guard(this._dispatchResponse.bind(this),"AsyncRequest#_dispatchResponse for "+this.getURI());dispatch=dispatch.bind(this,response);arbiter_event="response";var domOps=response.domops;if(!this._delayPreDisplayJS&&response.jsmods&&response.jsmods.pre_display_requires&&!this._hasEvalDomOp(domOps)&&!require("killswitch")("ASYNC_REQUEST_EARLY_RENDERING_OF_PREDISPLAY_PRIORITY_JS")){var jsMods=response.jsmods,preDisplayJSMods={};preDisplayJSMods.define=jsMods.define;preDisplayJSMods.instances=jsMods.instances;preDisplayJSMods.markup=jsMods.markup;delete jsMods.define;delete jsMods.instances;delete jsMods.markup;preDisplayJSMods.pre_display_requires=jsMods.pre_display_requires;delete jsMods.pre_display_requires;var serverJS=new(require("ServerJS"))();serverJS.setRelativeTo(this.getRelativeTo());response.savedServerJSInstance=serverJS;var preDisplayPromises=this._handlePreDisplayServerJS(serverJS,preDisplayJSMods);if(preDisplayPromises&&preDisplayPromises.length){var realDispatch=dispatch;dispatch=function dispatch(){require("promiseDone")(require("Promise").all(preDisplayPromises).then(realDispatch))}}}}dispatch=require("executeAfter")(dispatch,function(){require("Arbiter").inform("AsyncRequest/"+arbiter_event,{request:this,response:response})}.bind(this));this.preBootloadHandler&&this.preBootloadHandler(response);response.css=response.css||[];response.js=response.js||[];require("Bootloader").loadResources(response.css.concat(response.js),require("AsyncRequestConfig").immediateDispatch?dispatch:function(){require("setTimeout")(dispatch,0)},this.getURI())}else typeof interpreted.transportError!=="undefined"?this._xFbServer?this._invokeErrorHandler(1008):this._invokeErrorHandler(1012):this._invokeErrorHandler(1007)};_proto._logError=function _logError(response){__p&&__p();if(this.logErrorsEnabled&&!this.getOption("suppressErrorAlerts")){var message;try{message=JSON.stringify(response)}catch(_unused3){try{message=JSON.stringify({error:response.error,errorSummary:response.errorSummary,errorDescription:response.errorDescription})}catch(ex){require("FBLogger")("AsyncRequest").catching(ex).mustfix("Failed to stringify message");return}}require("FBLogger")("asyncresponse").mustfix("Async error response %s",message)}};_proto._invokeErrorHandler=function _invokeErrorHandler(explicitError){__p&&__p();var transport=this.transport;if(!transport)return;var error;if(this.responseText==="")error=1002;else if(this._requestAborted)error=1011;else{try{error=explicitError||transport.status||1004}catch(_unused4){error=1005}!1===navigator.onLine&&(error=1006)}var desc,summary,silent=!0;if(error===1006)summary=fbt._("No Network Connection"),desc=fbt._("Your browser appears to be offline. Please check your internet connection and try again.");else if(error>=300&&error<=399){summary=fbt._("Redirection");desc=fbt._("Your access to Facebook was redirected or blocked by a third party at this time, please contact your ISP or reload.");var location=transport.getResponseHeader("Location");location&&require("goURI")(location,!0);silent=!0}else summary=fbt._("Oops"),desc=fbt._("Something went wrong. We're working on getting this fixed as soon as we can. You may be able to try again.");var async_response=new(require("AsyncResponse"))(this,transport);Object.assign(async_response,{error:error,errorSummary:summary,errorDescription:desc,silentError:silent});this._logError(async_response);require("setTimeout")(function(){require("Arbiter").inform("AsyncRequest/error",{request:this,response:async_response})}.bind(this),0);if(hasUnloaded()&&!this.getOption("handleErrorAfterUnload"))return;if(!this.transportErrorHandler){require("FBLogger")("asyncresponse").mustfix("Async request to %s failed with a %d error, but there was no error handler available to deal with it.",this.getURI(),error);return}var error_handler=this.getTransportErrorHandler().bind(this);!(this.getOption("suppressErrorAlerts")||this._warningList.indexOf(error)>-1)?require("FBLogger")("asyncresponse").mustfix("Async request failed with error %s: %s when requesting %s",error,desc.toString(),this.getURI()):this._warningList.indexOf(error)>-1&&require("FBLogger")("asyncresponse").warn("Async request failed with error %s: %s when requesting %s",error,desc.toString(),this.getURI());require("ErrorUtils").applyWithGuard(this._dispatchErrorResponse,this,[async_response,error_handler])};_proto._isServerDialogErrorCode=function _isServerDialogErrorCode(error){return error==1357008||error==1357007||error==1357041||error==1442002||error==1357001};_proto._solveQuicksandChallenge=function _solveQuicksandChallenge(async_response){var payload=async_response.getPayload();require("Bootloader").loadModules(["QuickSandSolver"],function(QuickSandSolver){QuickSandSolver.solveAndSendRequestBack(this,payload)}.bind(this),"AsyncRequest")};_proto._displayServerDialog=function _displayServerDialog(async_response,is_confirmation,allow_get){__p&&__p();allow_get===void 0&&(allow_get=!1);var payload=async_response.getPayload();if(payload.__dialog!==void 0){this._displayServerLegacyDialog(async_response,is_confirmation);return}var json=payload.__dialogx;new(require("ServerJS"))().handle(json);require("Bootloader").loadModules(["ConfirmationDialog"],function(ConfirmationDialog){ConfirmationDialog.setupConfirmation(async_response,this,allow_get)}.bind(this),"AsyncRequest")};_proto._displayServerLegacyDialog=function _displayServerLegacyDialog(async_response,is_confirmation){__p&&__p();var model=async_response.getPayload().__dialog;require("Bootloader").loadModules(["Dialog"],function(Dialog){var dialog=new Dialog(model);is_confirmation&&dialog.setHandler(this._displayConfirmationHandler.bind(this,dialog));dialog.setCancelHandler(function(){var handler=this.getServerDialogCancelHandler();try{handler&&handler(async_response)}catch(e){throw e}finally{this.finallyHandler(async_response)}}.bind(this)).setCausalElement(this.relativeTo).show()}.bind(this),"AsyncRequest")};_proto._displayConfirmationHandler=function _displayConfirmationHandler(dialog){this.data.confirmed=1,Object.assign(this.data,dialog.getFormData()),this.send()};_proto.setJSONPTransport=function setJSONPTransport(transport){transport.subscribe("response",this._handleJSONPResponse.bind(this)),transport.subscribe("abort",this._handleJSONPAbort.bind(this)),this.transport=transport};_proto._handleJSONPResponse=function _handleJSONPResponse(_,data){var transport=this.transport;if(!transport)return;data.bootloadOnly||(this.is_first=this.is_first===void 0);var interpreted=this._interpretResponse(data);interpreted.asyncResponse&&(interpreted.asyncResponse.is_first=this.is_first,interpreted.asyncResponse.is_last=transport.hasFinished());this.invokeResponseHandler(interpreted);transport.hasFinished()&&delete this.transport};_proto._handleJSONPAbort=function _handleJSONPAbort(){this._invokeErrorHandler(),delete this.transport};_proto._handleXHRResponse=function _handleXHRResponse(transport){__p&&__p();var interpreted;if(this.getOption("suppressEvaluation"))interpreted={asyncResponse:new(require("AsyncResponse"))(this,transport)};else{var text=transport.responseText;try{var safe_text=this._unshieldResponseText(text),_response=eval("("+safe_text+")");interpreted=this._interpretResponse(_response)}catch(error){interpreted=error.message,require("FBLogger")("async_request").catching(error).warn("Faild to handle repsonse")}}this.invokeResponseHandler(interpreted)};_proto._unshieldResponseText=function _unshieldResponseText(text){var shield="for (;;);",shieldlen=shield.length;if(text.length<=shieldlen)throw new Error("Response too short on async to "+this.getURI());var offset=0;while(text.charAt(offset)==" "||text.charAt(offset)=="\n")offset++;offset&&text.substring(offset,offset+shieldlen)==shield;return text.substring(offset+shieldlen)};_proto._interpretResponse=function _interpretResponse(response){__p&&__p();if(response.redirect)return{redirect:response.redirect};if(response.bootloadOnly)return{bootloadOnly:response.bootloadOnly};var isServerDialog=response.error&&this._isServerDialogErrorCode(response.error);this._shouldReplaceTransportMarkers&&response.payload&&!isServerDialog&&require("replaceTransportMarkers")({relativeTo:this.getRelativeTo(),bigPipeContext:null},response.payload);var r=new(require("AsyncResponse"))(this);if(response.__ar!=1)require("FBLogger")("AsyncRequest").warn("AsyncRequest to endpoint %s returned a JSON response, but it is not properly formatted. The endpoint needs to provide a response using the AsyncResponse class in PHP.",this.getURI()),r.payload=response;else{Object.assign(r,response);var transport=this.transport;transport&&transport.getAllResponseHeaders!==void 0&&(r.responseHeaders=transport.getAllResponseHeaders())}return{asyncResponse:r}};_proto._isMultiplexable=function _isMultiplexable(){__p&&__p();if(this.getOption("jsonp")||this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback")){require("FBLogger")("AsyncRequest").mustfix("You cannot bundle AsyncRequest that uses jsonp or iframe transport.");return!1}if(!require("isFacebookURI")(new(require("URI"))(this.uri))){require("FBLogger")("AsyncRequest").mustfix("You can not bundle AsyncRequest sent to non-facebook URIs.  Uri: %s",this.getURI());return!1}if(!this.getOption("asynchronous_DEPRECATED")){require("FBLogger")("AsyncRequest").mustfix("We cannot bundle synchronous AsyncRequests");return!1}return!0};_proto.handleResponse=function handleResponse(response){var interpreted=this._interpretResponse(response);this.invokeResponseHandler(interpreted)};_proto.setMethod=function setMethod(m){this.method=m.toString().toUpperCase();return this};_proto.getMethod=function getMethod(){return this.method};_proto.setData=function setData(obj){this.data=obj;return this};_proto.setRequestHeader=function setRequestHeader(name,value){this.headers[name]=value;return this};_proto.setRawData=function setRawData(raw_data){this.rawData=raw_data;return this};_proto.getData=function getData(){return this.data};_proto.setContextData=function setContextData(key,value,enabled){enabled=enabled===void 0?!0:enabled;enabled&&(this.context["_log_"+key]=value);return this};_proto._setUserActionID=function _setUserActionID(){this.userActionID=(require("SessionName").getName()||"-")+"/-"};_proto.setURI=function setURI(uri){__p&&__p();typeof uri==="string"&&uri.match(/^\/?u_\d+_\d+/)&&require("FBLogger")("asyncrequest").warn("Invalid URI %s",uri);var uri_obj=new(require("URI"))(uri);if((this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&!require("isFacebookURI")(uri_obj))return this;if(!this._allowCrossOrigin&&!this.getOption("jsonp")&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")&&!uri_obj.isSameOrigin())return this;this._setUserActionID();if(!uri||uri_obj.isEmpty()){require("FBLogger")("async_request").mustfix("URI cannot be empty");return this}this.uri=require("ZeroRewrites").rewriteURI(uri_obj);return this};_proto.getURI=function getURI(){return this.uri.toString()};_proto.delayPreDisplayJS=function delayPreDisplayJS(shouldDelayJS){shouldDelayJS===void 0&&(shouldDelayJS=!0);this._delayPreDisplayJS=shouldDelayJS;return this};_proto.setInitialHandler=function setInitialHandler(fn){this.initialHandler=fn;return this};_proto.setPayloadHandler=function setPayloadHandler(fn){this.setHandler(function(response){return fn(response.payload)});return this};_proto.setHandler=function setHandler(fn){validateResponseHandler(fn)&&(this.handler=fn);return this};_proto.getHandler=function getHandler(){return this.handler||require("emptyFunction")};_proto.setProgressHandler=function setProgressHandler(fn){validateResponseHandler(fn)&&(this.progressHandler=fn);return this};_proto.setUploadProgressHandler=function setUploadProgressHandler(fn){validateResponseHandler(fn)&&(this.uploadProgressHandler=fn);return this};_proto.setErrorHandler=function setErrorHandler(fn){validateResponseHandler(fn)&&(this.errorHandler=fn);return this};_proto.setTransportErrorHandler=function setTransportErrorHandler(fn){this.transportErrorHandler=fn;return this};_proto.getErrorHandler=function getErrorHandler(){return this.errorHandler||require("emptyFunction")};_proto.getTransportErrorHandler=function getTransportErrorHandler(){return this.transportErrorHandler||require("emptyFunction")};_proto.setTimeoutHandler=function setTimeoutHandler(timeout,fn){validateResponseHandler(fn)&&(this.timeout=timeout,this.timeoutHandler=fn);return this};_proto.resetTimeout=function resetTimeout(timeout){if(!(this.timeoutHandler===null))if(timeout===null)this.timeout=null,require("clearTimeout")(this.timer),this.timer=null;else{var clear_on_quickling_event=!this._allowCrossPageTransition;this.timeout=timeout;require("clearTimeout")(this.timer);clear_on_quickling_event?this.timer=require("setTimeout")(this._handleTimeout.bind(this),this.timeout):this.timer=require("setTimeoutAcrossTransitions")(this._handleTimeout.bind(this),this.timeout)}return this};_proto._handleTimeout=function _handleTimeout(){var _this2=this;this.continuation.last(function(){_this2._requestTimeout=!0;var func=_this2.timeoutHandler;_this2.abandon();func&&func(_this2);_this2._logError({timeout:_this2});require("setTimeout")(function(){require("Arbiter").inform("AsyncRequest/timeout",{request:this})}.bind(_this2),0)})};_proto.disableInteractionServerTracing=function disableInteractionServerTracing(){this.allowInteractionServerTracing=!1;return this};_proto.setNewSerial=function setNewSerial(){this.id=++last_id;return this};_proto.setInterceptHandler=function setInterceptHandler(fn){this.interceptHandler=fn;return this};_proto.setFinallyHandler=function setFinallyHandler(fn){this.finallyHandler=fn;return this};_proto.setAbortHandler=function setAbortHandler(fn){this.abortHandler=fn;return this};_proto.getServerDialogCancelHandler=function getServerDialogCancelHandler(){return this.serverDialogCancelHandler};_proto.setServerDialogCancelHandler=function setServerDialogCancelHandler(fn){this.serverDialogCancelHandler=fn;return this};_proto.setPreBootloadHandler=function setPreBootloadHandler(fn){this.preBootloadHandler=fn;return this};_proto.setReadOnly=function setReadOnly(readOnly){typeof readOnly!=="boolean"||(this.readOnly=readOnly);return this};_proto.getReadOnly=function getReadOnly(){return this.readOnly};_proto.setRelativeTo=function setRelativeTo(element){this.relativeTo=element;return this};_proto.getRelativeTo=function getRelativeTo(){return this.relativeTo};_proto.setStatusClass=function setStatusClass(c){this.statusClass=c;return this};_proto.setStatusElement=function setStatusElement(element){this.statusElement=element;return this};_proto.getStatusElement=function getStatusElement(){return require("ge")(this.statusElement)};_proto._isRelevant=function _isRelevant(){if(this._allowCrossPageTransition)return!0;return!this.id?!0:this.id>id_threshold};_proto.clearStatusIndicator=function clearStatusIndicator(){var statusElem=this.getStatusElement();statusElem&&(require("CSS").removeClass(statusElem,"async_saving"),require("CSS").removeClass(statusElem,this.statusClass))};_proto.addStatusIndicator=function addStatusIndicator(){var statusElem=this.getStatusElement();statusElem&&(require("CSS").addClass(statusElem,"async_saving"),require("CSS").addClass(statusElem,this.statusClass))};_proto.specifiesWriteRequiredParams=function specifiesWriteRequiredParams(){return this.writeRequiredParams.every(function(param){this.data[param]=this.data[param]||require("Env")[param]||(require("ge")(param)||{}).value;return this.data[param]!==void 0?!0:!1},this)};_proto.setOption=function setOption(opt,v){typeof this.option[opt]!=="undefined"&&(this.option[opt]=v);return this};_proto.getOption=function getOption(opt){typeof this.option[opt]==="undefined";return this.option[opt]};_proto.abort=function abort(){__p&&__p();var _this3=this;this.continuation.last(function(){__p&&__p();var transport=_this3.transport;if(transport){var old_handler=_this3.getTransportErrorHandler();_this3.setOption("suppressErrorAlerts",!0);_this3.setTransportErrorHandler(require("emptyFunction"));_this3._requestAborted=!0;transport.abort();_this3.setTransportErrorHandler(old_handler)}_this3.abortHandler();AsyncMultiplex.unschedule(_this3)})};_proto.abandon=function abandon(){var _this4=this;this.continuation.last(function(){require("clearTimeout")(_this4.timer);_this4.setOption("suppressErrorAlerts",!0).setHandler(require("emptyFunction")).setErrorHandler(require("emptyFunction")).setTransportErrorHandler(require("emptyFunction")).setProgressHandler(require("emptyFunction")).setUploadProgressHandler(require("emptyFunction"));var transport=_this4.transport;transport&&(_this4._requestAborted=!0,supportsProgress(transport)&&delete transport.onprogress,supportsUploadProgress(transport)&&delete transport.upload.onprogress,transport.abort());_this4.abortHandler();AsyncMultiplex.unschedule(_this4)})};_proto.setNectarData=function setNectarData(nctrParams){nctrParams&&(this.data.nctr===void 0&&(this.data.nctr={}),Object.assign(this.data.nctr,nctrParams));return this};_proto.setNectarModuleDataSafe=function setNectarModuleDataSafe(elem){var setNectarModuleData=this.setNectarModuleData;setNectarModuleData&&setNectarModuleData.call(this,elem);return this};_proto.setAllowCrossPageTransition=function setAllowCrossPageTransition(allow){this._allowCrossPageTransition=!!allow;this.timer&&this.resetTimeout(this.timeout);return this};_proto.getAllowIrrelevantRequests=function getAllowIrrelevantRequests(){return this._allowIrrelevantRequests};_proto.setAllowIrrelevantRequests=function setAllowIrrelevantRequests(allowIrrelevantRequests){this._allowIrrelevantRequests=allowIrrelevantRequests;return this};_proto.setAllowCrossOrigin=function setAllowCrossOrigin(allow){this._allowCrossOrigin=allow;return this};_proto.setAllowCredentials=function setAllowCredentials(allow){this._allowCredentials=allow;return this};_proto.setIsBackgroundRequest=function setIsBackgroundRequest(isBackgroundRequest){this._isBackgroundRequest=isBackgroundRequest;return this};_proto.setReplaceTransportMarkers=function setReplaceTransportMarkers(value){value===void 0&&(value=!0);this._shouldReplaceTransportMarkers=value;return this};_proto.sendAndReturnAbortHandler=function sendAndReturnAbortHandler(){var _this5=this;this.send();return function(){return _this5.abort()}};_proto.send=function send(isRetry){__p&&__p();var _this6=this;isRetry=isRetry||!1;if(!this.uri)return!1;this.errorHandler||!this.getOption("suppressErrorHandlerWarning");this.getOption("jsonp")&&this.method!="GET"&&this.setMethod("GET");(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&this.method!="GET"&&this.setMethod("GET");this.timeoutHandler!==null&&(this.getOption("jsonp")||this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"));if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!="POST")return!1}if(document.location.search.toString().includes(this.uri.toString()))return!1;(this.uri.toString().includes("../")||this.uri.toString().includes("..\\"))&&AsyncRequestPathTraversalTypedLoggerDeferred.onReady(function(logger){new logger().setOffendingURI(_this6.uri.toString()).log()});Object.assign(this.data,require("getAsyncParams")(this.method));this.allowInteractionServerTracing&&(this._artilleryHandle=require("ArtilleryAsyncRequestTracingAnnotator").registerAsyncRequest(this,this.resourceTimingStoreUID));require("isEmpty")(this.context)||(Object.assign(this.data,this.context),this.data.ajax_log=1);require("Env").force_param&&Object.assign(this.data,require("Env").force_param);this._setUserActionID();if(this.getOption("bundle")&&this._isMultiplexable()){AsyncMultiplex.schedule(this);return!0}this.setNewSerial();this.getOption("asynchronous_DEPRECATED")||this.uri.addQueryData({__s:1});require("Arbiter").inform("AsyncRequest/send",{request:this});var uri_str,query;this.method=="GET"&&this.uri.addQueryData({fb_dtsg_ag:require("DTSG_ASYNC").getToken()});this.method=="GET"||this.rawData?(uri_str=this.uri.addQueryData(this.data).toString(),query=this.rawData||""):(this._allowCrossOrigin&&this.uri.addQueryData({__a:1}),uri_str=this.uri.toString(),query=require("PHPQuerySerializer").serialize(this.data));if(this.transport)return!1;if(this.getOption("useFetchWithIframeFallback"))try{var _transport=new(require("FetchStreamTransport"))(this.uri);this.setJSONPTransport(_transport);this._markRequestSent();_transport.send();this.setOption("useIframeTransport",!1);return!0}catch(_unused5){this.setOption("useFetchWithIframeFallback",!1),this.setOption("useIframeTransport",!0)}if(this.getOption("jsonp")||this.getOption("useIframeTransport")){requireLazy(["JSONPTransport"],function(JSONPTransport){var transport=new JSONPTransport(this.getOption("jsonp")?"jsonp":"iframe",this.uri);this.setJSONPTransport(transport);this._markRequestSent();transport.send();require("ProfilingCounters").incrementCounter("ASYNC_REQUEST_COUNT",1)}.bind(this));return!0}var transport=require("ZeroRewrites").getTransportBuilderForURI(this.uri)();if(!transport)return!1;this.schedule("AsyncRequest.send");transport.onreadystatechange=function(){transport.readyState===4&&_this6.continuation.last(_this6._onStateChange)};this.progressHandler&&supportsProgress(transport)&&(transport.onprogress=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this6.continuation(function(){_this6.progressHandler&&_this6.progressHandler.apply(_this6,args)})});this.uploadProgressHandler&&supportsUploadProgress(transport)&&(transport.upload.onprogress=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];_this6.continuation(function(){_this6.uploadProgressHandler&&_this6.uploadProgressHandler.apply(_this6,args)})});isRetry||(this.remainingRetries=this.getOption("retries"));this.transport=transport;try{transport.open(this.method,uri_str,this.getOption("asynchronous_DEPRECATED"))}catch(exception){return!1}if(!this.uri.isSameOrigin()&&!this.getOption("jsonp")&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")){if(!supportsCrossOrigin(transport))return!1;this._canSendCredentials()&&(transport.withCredentials=!0)}this.method=="POST"&&!this.rawData&&transport.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._isBackgroundRequest&&transport.setRequestHeader("X_FB_BACKGROUND_STATE","1");var asyncHeaders=require("getAsyncHeaders")(this.uri);Object.keys(asyncHeaders).forEach(function(name){transport&&transport.setRequestHeader(name,asyncHeaders[name])});require("Arbiter").inform("AsyncRequest/will_send",{request:this});if(transport)for(var headerName in this.headers)Object.prototype.hasOwnProperty.call(this.headers,headerName)&&transport.setRequestHeader(headerName,this.headers[headerName]);this.addStatusIndicator();this._markRequestSent();transport.send(query);this.timeout!==null&&this.resetTimeout(this.timeout);AsyncRequest._inflightCount++;require("ProfilingCounters").incrementCounter("ASYNC_REQUEST_COUNT",1);return!0};_proto.schedule=function schedule(name){this.continuation=require("TimeSlice").getReusableContinuation(name)};_proto._canSendCredentials=function _canSendCredentials(){if(this._allowCredentials===!1)return!1;var uri=new(require("URI"))(this.uri);return require("isFacebookURI")(uri)||require("isMessengerDotComURI")(uri)||require("isWorkplaceDotComURI")(uri)||require("isBonfireURI")(uri)};_proto._markRequestSent=function _markRequestSent(){var _this7=this,fullURI=new(require("URI"))(this.getURI()).getQualifiedURI().toString();require("ResourceTimingsStore").updateURI(require("ResourceTypes").XHR,this.resourceTimingStoreUID,fullURI);require("ResourceTimingsStore").annotate(require("ResourceTypes").XHR,this.resourceTimingStoreUID).addStringAnnotation("uri",fullURI);require("ifRequired")("TimeSliceAutoclosedInteraction",function(TimeSliceAutoclosedInteraction){return TimeSliceAutoclosedInteraction.getInteractionsActiveRightNow().forEach(function(interaction){return interaction.forResourceRequest(_this7.resourceTimingStoreUID).addStringAnnotation("requested_in_continuation","true")})});require("ResourceTimingsStore").measureRequestSent(require("ResourceTypes").XHR,this.resourceTimingStoreUID)};_proto.promisePayload=function promisePayload(isRetry){return this.exec().then(function(response){return response.payload},function(response){throw response.toError()})};_proto.exec=function exec(isRetry){var _this8=this;if(this.getHandler()!==require("emptyFunction")||this.getErrorHandler()!==require("AsyncResponse").defaultErrorHandler)throw new Error("exec is an async function and does not allow previously set handlers");return new(require("Promise"))(function(resolve,reject){_this8.setHandler(resolve).setErrorHandler(reject).send(isRetry)})};AsyncRequest.bootstrap=function bootstrap(href,elem,is_post){__p&&__p();var method="GET",readonly=!0,data={};(is_post||elem&&elem.rel=="async-post")&&(method="POST",readonly=!1,href&&(href=new(require("URI"))(href),data=href.getQueryData(),href.setQueryData({})));var status_elem=require("Parent").byClass(elem,"stat_elem")||elem;if(status_elem&&require("CSS").hasClass(status_elem,"async_saving"))return!1;var async=new AsyncRequest(href).setReadOnly(readonly).setMethod(method).setData(data).setNectarModuleDataSafe(elem).setRelativeTo(elem);elem&&(async.setHandler(function(response){require("Event").fire(elem,"success",{response:response})}),async.setErrorHandler(function(response){require("Event").fire(elem,"error",{response:response})!==!1&&require("AsyncResponse").defaultErrorHandler(response)}));if(status_elem instanceof HTMLElement){async.setStatusElement(status_elem);var status_class=status_elem.getAttribute("data-status-class");status_class&&async.setStatusClass(status_class)}async.send();return!1};AsyncRequest.post=function post(href,data){new AsyncRequest(href).setReadOnly(!1).setMethod("POST").setData(data).send();return!1};AsyncRequest.postStatic=function postStatic(href,data){AsyncRequest.post(href,data)};AsyncRequest.getLastID=function getLastID(){return last_id};AsyncRequest.getInflightCount=function getInflightCount(){return this._inflightCount};return AsyncRequest}();AsyncRequest._inflightCount=0;var _asyncMultiplex,_pendingAsyncMultiplexes=[],AsyncMultiplex=function(){__p&&__p();function AsyncMultiplex(){this._requests=[]}var _proto2=AsyncMultiplex.prototype;_proto2.add=function add(request){this._requests.push(request)};_proto2.remove=function remove(request){var requests=this._requests,requestsSent=this._requestsSent;for(var ii=0,jj=requests.length;ii<jj;ii++)requests[ii]===request&&(requestsSent?requests[ii]=null:requests.splice(ii,1))};_proto2.send=function send(){__p&&__p();this._requestsSent&&invariant(0,4390);this._requestsSent=!0;this._wrapperRequest=null;var requests=this._requests;if(!requests.length)return;var request;if(requests.length===1)request=requests[0];else{var data=requests.filter(Boolean).map(function(request){return[request.uri.getPath(),require("PHPQuerySerializer").serialize(request.data)]});request=this._wrapperRequest=new AsyncRequest("/ajax/proxy.php").setAllowCrossPageTransition(!0).setData({data:data}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this))}request&&request.setOption("bundle",!1).send()};_proto2._handler=function _handler(response){__p&&__p();var _this9=this,responses=response.getPayload().responses;if(responses.length!==this._requests.length)return;var _loop2=function _loop2(ii){__p&&__p();var request=_this9._requests[ii];if(!request)return"continue";var request_path=request.uri.getPath();_this9._wrapperRequest&&(request.id=_this9._wrapperRequest.id);if(responses[ii][0]!==request_path){request.continuation.last(function(){request.invokeResponseHandler({transportError:"Wrong response order in bundled request to "+request_path})});return"continue"}request.continuation.last(function(){request.handleResponse(responses[ii][1])})};for(var ii=0;ii<this._requests.length;ii++){var _ret2=_loop2(ii);if(_ret2==="continue")continue}_pendingAsyncMultiplexes.splice(_pendingAsyncMultiplexes.indexOf(this,1))};_proto2._transportErrorHandler=function _transportErrorHandler(response){var interpreted={transportError:response.errorDescription},paths=this._requests.filter(Boolean).map(function(request){this._wrapperRequest&&(request.id=this._wrapperRequest.id);request.invokeResponseHandler(interpreted);return request.uri.getPath()},this)};AsyncMultiplex.schedule=function schedule(request){request.schedule("AsyncMultiplex.schedule");_asyncMultiplex||(_asyncMultiplex=new AsyncMultiplex(),_pendingAsyncMultiplexes.push(_asyncMultiplex),require("TimeSlice").guard(function(){require("setTimeoutAcrossTransitions")(function(){_asyncMultiplex&&(_asyncMultiplex.send(),_asyncMultiplex=null)},0)},"AsyncMultiplex.schedule",{propagationType:require("TimeSlice").PropagationType.ORPHAN})());_asyncMultiplex.add(request);return _asyncMultiplex};AsyncMultiplex.unschedule=function unschedule(request){_pendingAsyncMultiplexes.forEach(function(asyncMultiplex){asyncMultiplex.remove(request)})};return AsyncMultiplex}();AsyncRequest.suppressOnloadToken={};global.AsyncRequest=AsyncRequest;module.exports=AsyncRequest}),null);
__d("XControllerURIBuilder",["invariant","URI","gkx"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1={},this.$2=a,this.$3=b}var c=a.prototype;c.setInt=function(a,b){return this.__setParam(a,"Int",b)};c.setFBID=function(a,b){return this.__setParam(a,"FBID",b)};c.setFloat=function(a,b){return this.__setParam(a,"Float",b)};c.setString=function(a,b){return this.__setParam(a,"String",b)};c.setExists=function(a,b){b===!1&&(b=void 0);return this.__setParam(a,"Exists",b)};c.setBool=function(a,b){return this.__setParam(a,"Bool",b)};c.setEnum=function(a,b){return this.__setParam(a,"Enum",b)};c.setPath=function(a,b){return this.__setParam(a,"Path",b)};c.setIntVector=function(a,b){return this.__setParam(a,"IntVector",b)};c.setIntKeyset=function(a,b){return this.__setParam(a,"IntKeyset",b)};c.setIntSet=function(a,b){return this.__setParam(a,"IntSet",b.join(","))};c.setFloatVector=function(a,b){return this.__setParam(a,"FloatVector",b)};c.setFloatSet=function(a,b){return this.__setParam(a,"FloatSet",b.join(","))};c.setStringVector=function(a,b){return this.__setParam(a,"StringVector",b)};c.setStringKeyset=function(a,b){return this.__setParam(a,"StringKeyset",b)};c.setStringSet=function(a,b){return this.__setParam(a,"StringSet",b)};c.setFBIDVector=function(a,b){return this.__setParam(a,"FBIDVector",b)};c.setFBIDSet=function(a,b){return this.__setParam(a,"FBIDSet",b)};c.setFBIDKeyset=function(a,b){return this.__setParam(a,"FBIDKeyset",b)};c.setEnumVector=function(a,b){return this.__setParam(a,"EnumVector",b)};c.setEnumSet=function(a,b){return this.__setParam(a,"EnumSet",b)};c.setEnumKeyset=function(a,b){return this.__setParam(a,"EnumKeyset",b)};c.setIntToIntMap=function(a,b){return this.__setParam(a,"IntToIntMap",b)};c.setIntToFloatMap=function(a,b){return this.__setParam(a,"IntToFloatMap",b)};c.setIntToStringMap=function(a,b){return this.__setParam(a,"IntToStringMap",b)};c.setIntToBoolMap=function(a,b){return this.__setParam(a,"IntToBoolMap",b)};c.setStringToIntMap=function(a,b){return this.__setParam(a,"StringToIntMap",b)};c.setStringToFloatMap=function(a,b){return this.__setParam(a,"StringToFloatMap",b)};c.setStringToStringMap=function(a,b){return this.__setParam(a,"StringToStringMap",b)};c.setStringToNullableStringMap=function(a,b){return this.__setParam(a,"StringToNullableStringMap",b)};c.setStringToBoolMap=function(a,b){return this.__setParam(a,"StringToBoolMap",b)};c.setStringToEnumMap=function(a,b){return this.__setParam(a,"StringToEnumMap",b)};c.setEnumToStringVectorMap=function(a,b){return this.__setParam(a,"EnumToStringVectorMap",b)};c.setEnumToBoolMap=function(a,b){return this.__setParam(a,"EnumToBoolMap",b)};c.setEnumToFBIDVectorMap=function(a,b){return this.__setParam(a,"EnumToFBIDVectorMap",b)};c.setHackType=function(a,b){return this.__setParam(a,"HackType",b)};c.setTypeAssert=function(a,b){return this.__setParam(a,"TypeAssert",b)};c.__validateRequiredParamsExistence=function(){for(var a in this.$3)!this.$3[a].required||Object.prototype.hasOwnProperty.call(this.$1,a)||g(0,903,a)};c.setParams=function(a){for(var b in a){this.__assertParamExists(b);var c=this.$3[b].type;this.__setParam(b,c,a[b])}return this};c.__assertParamExists=function(a){a in this.$3||g(0,904,a)};c.__setParam=function(a,b,c){this.__assertParamExists(a);var d=this.$3[a].type;d===b||g(0,905,a,b,d);this.__setParamInt(a,c);return this};c.__setParamInt=function(a,b){this.$1[a]=b};c.getRequest=function(a){return a.setReplaceTransportMarkers().setURI(this.getURI())};c.getURI=function(){__p&&__p();this.__validateRequiredParamsExistence();var a={},c="",d=/^(.*)?\{(\?)?(\*)?(.+?)\}(.*)?$/,e=this.$2.split("/"),f=!1;for(var h=0;h<e.length;h++){var i=e[h];if(i==="")continue;var j=d.exec(i);if(!j)c+="/"+i;else{i=j[2]==="?";var k=j[4],l=this.$3[k];l||g(0,906,k,this.$2);if(i&&f)continue;if(this.$1[k]==null&&i){f=!0;continue}this.$1[k]!=null||g(0,907,k);l=j[1]?j[1]:"";i=j[5]?j[5]:"";c+="/"+l+this.$1[k]+i;a[k]=!0}}this.$2.slice(-1)==="/"&&(c+="/");c===""&&(c="/");j=new(b("URI"))(c);for(var m in this.$1){l=this.$1[m];if(!a[m]&&l!=null){i=this.$3[m];j.addQueryData(m,i&&i.type==="Exists"?null:l)}}return j};c.getLookasideURI=function(){var a="origincache.facebook.com";b("gkx")("676940")&&(a="lookaside.internmc.facebook.com");return this.getURI().setDomain(a).setProtocol("https")};a.create=function(b,c){return function(){return new a(b,c)}};return a}();e.exports=a}),null);
__d("XRequest",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();var h=function a(b,c,d){__p&&__p();var e;switch(b){case"Bool":e=c&&c!=="false"&&c!=="0"||!1;break;case"Int":e=c.toString();/-?\d+/.test(e)||g(0,5041,c);break;case"Float":e=parseFloat(c,10);isNaN(e)&&g(0,5042,c);break;case"FBID":e=c.toString();for(var f=0;f<e.length;++f){var h=e.charCodeAt(f);48<=h&&h<=57||g(0,5043,c)}break;case"String":e=c.toString();break;case"Enum":d===0?e=a("Int",c,null):d===1?e=a("String",c,null):d===2?e=c:g(0,5044,d);break;default:if(h=/^Nullable(\w+)$/.exec(b))c===null?e=null:e=a(h[1],c,d);else if(f=/^(\w+)Vector$/.exec(b)){!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c;var i=f[1];typeof i==="string"||g(0,5045);e=e.map(function(b){return a(i,b,d&&d.member)})}else if(h=/^(\w+)(Set|Keyset)$/.exec(b))!Array.isArray(c)?(e=c.toString(),e=e===""?[]:e.split(",")):e=c,e=e.reduce(function(a,b){a[b]=b;return a},{}),i=h[1],typeof i==="string"||g(0,5045),e=Object.keys(e).map(function(b){return a(i,e[b],d&&d.member)});else if(f=/^(\w+)To(\w+)Map$/.exec(b)){e={};var j=f[1],k=f[2];typeof j==="string"&&typeof k==="string"||g(0,5045);Object.keys(c).forEach(function(b){e[a(j,b,d&&d.key)]=a(k,c[b],d&&d.value)})}else g(0,5046,b)}return e};a=function(){"use strict";__p&&__p();function a(a,b,c){__p&&__p();this.$1=b;this.$2=babelHelpers["extends"]({},c.getQueryData());b=a.split("/").filter(function(a){return a});a=c.getPath().split("/").filter(function(a){return a});for(var d=0;d<b.length;++d){var e=/^\{(\?)?(\*)?(\w+)\}$/.exec(b[d]);if(!e){b[d]===a[d]||g(0,5047,c.getPath());continue}var f=!!e[1],h=!!e[2];!h||d===b.length-1||g(0,5048,i);var i=e[3];Object.prototype.hasOwnProperty.call(this.$1,i)||g(0,5049,i);this.$1[i].required?f&&g(0,5050,i):f||g(0,5057,i);a[d]&&(this.$2[i]=h?a.slice(d).join("/"):a[d])}Object.keys(this.$1).forEach(function(a){!this.$1[a].required||Object.prototype.hasOwnProperty.call(this.$2,a)||g(0,5051)},this)}var b=a.prototype;b.getExists=function(a){return this.$2[a]!==void 0};b.getBool=function(a){return this.$3(a,"Bool")};b.getInt=function(a){return this.$3(a,"Int")};b.getFloat=function(a){return this.$3(a,"Float")};b.getFBID=function(a){return this.$3(a,"FBID")};b.getString=function(a){return this.$3(a,"String")};b.getEnum=function(a){return this.$3(a,"Enum")};b.getOptionalInt=function(a){return this.$4(a,"Int")};b.getOptionalFloat=function(a){return this.$4(a,"Float")};b.getOptionalFBID=function(a){return this.$4(a,"FBID")};b.getOptionalString=function(a){return this.$4(a,"String")};b.getOptionalEnum=function(a){return this.$4(a,"Enum")};b.getIntVector=function(a){return this.$3(a,"IntVector")};b.getFloatVector=function(a){return this.$3(a,"FloatVector")};b.getFBIDVector=function(a){return this.$3(a,"FBIDVector")};b.getStringVector=function(a){return this.$3(a,"StringVector")};b.getEnumVector=function(a){return this.$3(a,"EnumVector")};b.getOptionalIntVector=function(a){return this.$4(a,"IntVector")};b.getOptionalFloatVector=function(a){return this.$4(a,"FloatVector")};b.getOptionalFBIDVector=function(a){return this.$4(a,"FBIDVector")};b.getOptionalStringVector=function(a){return this.$4(a,"StringVector")};b.getOptionalEnumVector=function(a){return this.$4(a,"EnumVector")};b.getIntSet=function(a){return this.$3(a,"IntSet")};b.getFBIDSet=function(a){return this.$3(a,"FBIDSet")};b.getFBIDKeyset=function(a){return this.$3(a,"FBIDKeyset")};b.getStringSet=function(a){return this.$3(a,"StringSet")};b.getEnumKeyset=function(a){return this.$3(a,"EnumKeyset")};b.getOptionalIntSet=function(a){return this.$4(a,"IntSet")};b.getOptionalFBIDSet=function(a){return this.$4(a,"FBIDSet")};b.getOptionalFBIDKeyset=function(a){return this.$4(a,"FBIDKeyset")};b.getOptionalStringSet=function(a){return this.$4(a,"StringSet")};b.getEnumToBoolMap=function(a){return this.$3(a,"EnumToBoolMap")};b.getEnumToEnumMap=function(a){return this.$3(a,"EnumToEnumMap")};b.getEnumToFloatMap=function(a){return this.$3(a,"EnumToFloatMap")};b.getEnumToIntMap=function(a){return this.$3(a,"EnumToIntMap")};b.getEnumToStringMap=function(a){return this.$3(a,"EnumToStringMap")};b.getIntToBoolMap=function(a){return this.$3(a,"IntToBoolMap")};b.getIntToEnumMap=function(a){return this.$3(a,"IntToEnumMap")};b.getIntToFloatMap=function(a){return this.$3(a,"IntToFloatMap")};b.getIntToIntMap=function(a){return this.$3(a,"IntToIntMap")};b.getIntToStringMap=function(a){return this.$3(a,"IntToStringMap")};b.getStringToBoolMap=function(a){return this.$3(a,"StringToBoolMap")};b.getStringToEnumMap=function(a){return this.$3(a,"StringToEnumMap")};b.getStringToFloatMap=function(a){return this.$3(a,"StringToFloatMap")};b.getStringToIntMap=function(a){return this.$3(a,"StringToIntMap")};b.getStringToStringMap=function(a){return this.$3(a,"StringToStringMap")};b.getOptionalEnumToBoolMap=function(a){return this.$4(a,"EnumToBoolMap")};b.getOptionalEnumToEnumMap=function(a){return this.$4(a,"EnumToEnumMap")};b.getOptionalEnumToFloatMap=function(a){return this.$4(a,"EnumToFloatMap")};b.getOptionalEnumToIntMap=function(a){return this.$4(a,"EnumToIntMap")};b.getOptionalEnumToStringMap=function(a){return this.$4(a,"EnumToStringMap")};b.getOptionalIntToBoolMap=function(a){return this.$4(a,"IntToBoolMap")};b.getOptionalIntToEnumMap=function(a){return this.$4(a,"IntToEnumMap")};b.getOptionalIntToFloatMap=function(a){return this.$4(a,"IntToFloatMap")};b.getOptionalIntToIntMap=function(a){return this.$4(a,"IntToIntMap")};b.getOptionalIntToStringMap=function(a){return this.$4(a,"IntToStringMap")};b.getOptionalStringToBoolMap=function(a){return this.$4(a,"StringToBoolMap")};b.getOptionalStringToEnumMap=function(a){return this.$4(a,"StringToEnumMap")};b.getOptionalStringToFloatMap=function(a){return this.$4(a,"StringToFloatMap")};b.getOptionalStringToIntMap=function(a){return this.$4(a,"StringToIntMap")};b.getOptionalStringToStringMap=function(a){return this.$4(a,"StringToStringMap")};b.getEnumToNullableEnumMap=function(a){return this.$3(a,"EnumToNullableEnumMap")};b.getEnumToNullableFloatMap=function(a){return this.$3(a,"EnumToNullableFloatMap")};b.getEnumToNullableIntMap=function(a){return this.$3(a,"EnumToNullableIntMap")};b.getEnumToNullableStringMap=function(a){return this.$3(a,"EnumToNullableStringMap")};b.getIntToNullableEnumMap=function(a){return this.$3(a,"IntToNullableEnumMap")};b.getIntToNullableFloatMap=function(a){return this.$3(a,"IntToNullableFloatMap")};b.getIntToNullableIntMap=function(a){return this.$3(a,"IntToNullableIntMap")};b.getIntToNullableStringMap=function(a){return this.$3(a,"IntToNullableStringMap")};b.getStringToNullableEnumMap=function(a){return this.$3(a,"StringToNullableEnumMap")};b.getStringToNullableFloatMap=function(a){return this.$3(a,"StringToNullableFloatMap")};b.getStringToNullableIntMap=function(a){return this.$3(a,"StringToNullableIntMap")};b.getStringToNullableStringMap=function(a){return this.$3(a,"StringToNullableStringMap")};b.getOptionalEnumToNullableEnumMap=function(a){return this.$4(a,"EnumToNullableEnumMap")};b.getOptionalEnumToNullableFloatMap=function(a){return this.$4(a,"EnumToNullableFloatMap")};b.getOptionalEnumToNullableIntMap=function(a){return this.$4(a,"EnumToNullableIntMap")};b.getOptionalEnumToNullableStringMap=function(a){return this.$4(a,"EnumToNullableStringMap")};b.getOptionalIntToNullableEnumMap=function(a){return this.$4(a,"IntToNullableEnumMap")};b.getOptionalIntToNullableFloatMap=function(a){return this.$4(a,"IntToNullableFloatMap")};b.getOptionalIntToNullableIntMap=function(a){return this.$4(a,"IntToNullableIntMap")};b.getOptionalIntToNullableStringMap=function(a){return this.$4(a,"IntToNullableStringMap")};b.getOptionalStringToNullableEnumMap=function(a){return this.$4(a,"StringToNullableEnumMap")};b.getOptionalStringToNullableFloatMap=function(a){return this.$4(a,"StringToNullableFloatMap")};b.getOptionalStringToNullableIntMap=function(a){return this.$4(a,"StringToNullableIntMap")};b.getOptionalStringToNullableStringMap=function(a){return this.$4(a,"StringToNullableStringMap")};b.$3=function(a,b){this.$5(a,b);var c=this.$1[a];if(!Object.prototype.hasOwnProperty.call(this.$2,a)&&c.defaultValue!=null){c.required&&g(0,5052);return h(b,c.defaultValue,c.enumType)}c.required||b==="Bool"||c.defaultValue!=null||g(0,5053,b,a,b,a);return h(b,this.$2[a],c.enumType)};b.$4=function(a,b){this.$5(a,b);var c=this.$1[a];c.required&&g(0,5054,b,a,b,a);c.defaultValue&&g(0,5052);return Object.prototype.hasOwnProperty.call(this.$2,a)?h(b,this.$2[a],c.enumType):null};b.$5=function(a,b){Object.prototype.hasOwnProperty.call(this.$1,a)||g(0,5055,a),this.$1[a].type===b||g(0,5056,a,b,this.$1[a].type)};return a}();e.exports=a}),null);
__d("XController",["XControllerURIBuilder","XRequest"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.getURIBuilder=function(a){__p&&__p();var c=new(b("XControllerURIBuilder"))(this.$1,this.$2);if(a){var d=this.getRequest(a);Object.keys(this.$2).forEach(function(a){var b=this.$2[a],e="";!b.required&&!Object.prototype.hasOwnProperty.call(b,"defaultValue")&&(e="Optional");e="get"+e+b.type;e=d[e](a);if(e==null||Object.prototype.hasOwnProperty.call(b,"defaultValue")&&e===b.defaultValue)return;b="set"+b.type;c[b](a,e)},this)}return c};c.getRequest=function(a){return new(b("XRequest"))(this.$1,this.$2,a)};a.create=function(b,c){return new a(b,c)};return a}();e.exports=a}),null);
__d("LynxJSMode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ASYNC:"async",ASYNCLAZY:"asynclazy",HOVER:"hover",ORIGIN:"origin"})}),null);
__d("AbstractLinkLynxMode",["FBLynx","LinkshimHandlerConfig","LynxJSMode"],(function(a,b,c,d,e,f){"use strict";a={getMode:function(a){return a?[b("LinkshimHandlerConfig").www_safe_js_mode,null]:[b("LynxJSMode").HOVER,null]},setupDelegation:function(){b("FBLynx").setupDelegation()}};e.exports=a}),null);
__d("isValidReactElement",[],(function(a,b,c,d,e,f){var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function a(a){return!!(typeof a==="object"&&a!==null&&a.$$typeof===g)}e.exports=a}),null);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){b("Bootloader").loadModules(["ReactDOM"],a,"BootloadedReact")};a={isValidElement:function(a){return b("isValidReactElement")(a)},render:function(a,b,c){g(function(d){d.render(a,b,function(){c&&c(this)})})},unmountComponentAtNode:function(a,b){g(function(c){c.unmountComponentAtNode(a),b&&b()})}};e.exports=a}),null);
__d("getOrCreateDOMID",["uniqueID"],(function(a,b,c,d,e,f){function a(a){a.id||(a.id=b("uniqueID")());return a.id}e.exports=a}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();var g={register:function(a,c){a.setAttribute("data-ownerid",b("getOrCreateDOMID")(c))},containsIncludingLayers:function(a,c){c=c;while(c){if(b("containsNode")(a,c))return!0;c=g.getContext(c)}return!1},getContext:function(a){a=a;var c;while(a){if(a.getAttribute&&(c=a.getAttribute("data-ownerid")))return b("ge")(c);a=a.parentNode}return null},parentByClass:function(a,c){a=a;var d;while(a&&!b("CSS").hasClass(a,c))a.getAttribute&&(d=a.getAttribute("data-ownerid"))?a=b("ge")(d):a=a.parentNode;return a}};e.exports=g}),null);
__d("FocusEvent",["Event","Run","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=!1;function i(a,b){if(g[a]){b=g[a].indexOf(b);b>=0&&g[a].splice(b,1);g[a].length===0&&delete g[a]}}function j(a){var b=a.getTarget();if(g[b.id]&&g[b.id].length>0){var c=a.type==="focusin"||a.type==="focus";g[b.id].forEach(function(a){a(c)})}}function k(){if(h)return;b("Event").listen(document.documentElement,"focusout",j);b("Event").listen(document.documentElement,"focusin",j);h=!0}a={listen:function(a,c){__p&&__p();k();var d=b("getOrCreateDOMID")(a);g[d]||(g[d]=[]);g[d].push(c);var e=!1;function f(){e||(i(d,c),h&&(h.remove(),h=null),e=!0)}var h=b("Run").onLeave(function(){b("ge")(d)||f()});return{remove:function(){f()}}}};e.exports=a}),null);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=null;function i(){h||(h=b("Event").listen(window,"blur",function(){g=null,j()}))}function j(){h&&(h.remove(),h=null)}function a(a){g=b("Event").getKeyCode(a),i()}function c(){g=null,j()}if(b("ExecutionEnvironment").canUseDOM){d=document.documentElement;if(d)if(d.addEventListener)d.addEventListener("keydown",a,!0),d.addEventListener("keyup",c,!0);else if(d.attachEvent){f=d.attachEvent;f("onkeydown",a);f("onkeyup",c)}}d={isKeyDown:function(){return!!g},getKeyDownCode:function(){return g}};e.exports=d}),null);
__d("Focus",["cx","CSS","Event","FocusEvent","KeyStatus","TooltipData","ifRequired"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("KeyStatus").isKeyDown,i={set:function(a,c){c===void 0&&(c=!1);if(a){var d=b("ifRequired")("VirtualCursorStatus",function(a){return a.isVirtualCursorTriggered()},function(){return!1});c||h()||d?j(a):i.setWithoutOutline(a)}},setWithoutOutline:function(a){if(a){b("CSS").addClass(a,"_5f0v");var c=b("Event").listen(a,"blur",function(){a&&b("CSS").removeClass(a,"_5f0v"),c.remove()});b("TooltipData").suppress(a,!0);j(a);b("TooltipData").suppress(a,!1)}},relocate:function(a,c){b("CSS").addClass(a,"_5f0v");return b("FocusEvent").listen(a,this.performRelocation.bind(this,a,c))},performRelocation:function(a,c,d){b("CSS").addClass(a,"_5f0v");a=b("ifRequired")("FocusRing",function(a){return a.usingKeyboardNavigation()},function(){return!0});d=d&&a;b("CSS").conditionClass(c,"_3oxt",d);b("CSS").conditionClass(c,"_16jm",d)}};function j(a){try{a.tabIndex=a.tabIndex,a.focus()}catch(a){}}e.exports=i}),null);
__d("isContentEditable",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a=a;while(a instanceof HTMLElement){if(a.contentEditable==="true"||a.contentEditable==="plaintext-only")return!0;a=a.parentElement}return!1}e.exports=a}),null);
__d("isElementInteractive",["isContentEditable"],(function(a,b,c,d,e,f){"use strict";var g=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),h=new Set(["button","checkbox","radio","submit"]);function a(a){if(!a instanceof HTMLElement)return!1;var c=b("isContentEditable")(a),d=g.has(a.nodeName);a=a instanceof HTMLInputElement&&h.has(a.type);return(c||d)&&!a}e.exports=a}),null);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},i=(a={},a[8]=1,a[9]=1,a[13]=1,a[27]=1,a[32]=1,a[37]=1,a[63234]=1,a[38]=1,a[63232]=1,a[39]=1,a[63235]=1,a[40]=1,a[63233]=1,a[46]=1,a);c=function(){"use strict";__p&&__p();function a(){var a=this;this.handlers={};["keyup","keydown","keypress"].forEach(function(b){return document.addEventListener(b,a.onkeyevent.bind(a,"on"+b))})}var c=a.prototype;c.mapKey=function(a){if(/^[0-9]$/.test(a+"")){typeof a!=="number"&&(a=a.charCodeAt(0)-48);return[48+a,96+a]}a+="";var b=h[a.toUpperCase()];return b?b:[a.toUpperCase().charCodeAt(0)]};c.onkeyevent=function(a,c){__p&&__p();c=b("Event").$E(c);var d=this.handlers[c.keyCode]||this.handlers[c.which];if(d)for(var e=0;e<d.length;e++){var f=d[e].callback,g=d[e].filter;try{if(!g||g(c,a)){g=function(){var d=f(c,a),e=c.which||c.keyCode;b("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut").setKey(c.key||"").setKeyChar(String.fromCharCode(e)).setKeyCode(e).addToExtraData("is_trusted",c.isTrusted).log()},"KeyEventController");if(d===!1)return{v:b("Event").kill(c)}}();if(typeof g==="object")return g.v}}catch(a){}}return!0};c.resetHandlers=function(){for(var a in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,a)){var b=this.handlers[a].filter(function(a){return a.preserve()});b.length?this.handlers[a]=b:delete this.handlers[a]}};a.getInstance=function(){return g||(g=new a())};a.defaultFilter=function(c,d){c=b("Event").$E(c);return a.filterEventTypes(c,d)&&a.filterEventTargets(c,d)&&a.filterEventModifiers(c,d)};a.filterEventTypes=function(a,b){return b==="onkeydown"?!0:!1};a.filterEventTargets=function(a,c){c=a.getTarget();return!b("isElementInteractive")(c)||a.keyCode in i&&(b("DOMQuery").isNodeOfType(c,["input","textarea"])&&c.value.length===0||b("isContentEditable")(c)&&b("getElementText")(c).length===0)};a.filterEventModifiers=function(a,b){return a.ctrlKey||a.altKey||a.metaKey||a.repeat?!1:!0};a.registerKey=function(c,d,e,f,g){__p&&__p();e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);g===void 0&&(g=b("emptyFunction").thatReturnsFalse);var h=a.getInstance(),i=c==null?[]:h.mapKey(c);b("isEmpty")(h.handlers)&&b("Run").onLeave(h.resetHandlers.bind(h));var j={};for(var k=0;k<i.length;k++){c=""+i[k];(!h.handlers[c]||f)&&(h.handlers[c]=[]);var l={callback:d,filter:e,preserve:g};j[c]=l;h.handlers[c].push(l)}return{remove:function(){for(var a in j){if(h.handlers[a]&&h.handlers[a].length){var b=h.handlers[a].indexOf(j[a]);b>=0&&h.handlers[a].splice(b,1)}delete j[a]}}}};return a}();e.exports=c}),null);
__d("BasicVector",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.x=a,this.y=b}var b=a.prototype;b.derive=function(b,c){return new a(b,c)};b.toString=function(){return"("+this.x+", "+this.y+")"};b.add=function(a,b){b===void 0&&(b=a.y,a=a.x);a=parseFloat(a);b=parseFloat(b);return this.derive(this.x+a,this.y+b)};b.mul=function(a,b){b===void 0&&(b=a);return this.derive(this.x*a,this.y*b)};b.div=function(a,b){b===void 0&&(b=a);return this.derive(this.x*1/a,this.y*1/b)};b.sub=function(a,b){if(arguments.length===1)return this.add(a.mul(-1));else return this.add(-a,-b)};b.distanceTo=function(a){return this.sub(a).magnitude()};b.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.rotate=function(a){return this.derive(this.x*Math.cos(a)-this.y*Math.sin(a),this.x*Math.sin(a)+this.y*Math.cos(a))};return a}();e.exports=a}),null);
__d("getUnboundedScrollPosition",["Scroll"],(function(a,b,c,d,e,f){"use strict";function a(a){return a===window?{x:window.pageXOffset||b("Scroll").getLeft(document.documentElement),y:window.pageYOffset||b("Scroll").getTop(document.documentElement)}:{x:b("Scroll").getLeft(a),y:b("Scroll").getTop(a)}}e.exports=a}),null);
__d("DOMVector",["BasicVector","getDocumentScrollElement","getElementPosition","getUnboundedScrollPosition","getViewportDimensions"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this,b,c)||this;b.domain=d||"pure";return b}var d=c.prototype;d.derive=function(a,b,d){return new c(a,b,d||this.domain)};d.add=function(b,d){b instanceof c&&b.getDomain()!=="pure"&&(b=b.convertTo(this.domain));return a.prototype.add.call(this,b,d)};d.convertTo=function(a){__p&&__p();if(a!="pure"&&a!="viewport"&&a!="document")return this.derive(0,0);if(a==this.domain)return this.derive(this.x,this.y,this.domain);if(a=="pure")return this.derive(this.x,this.y);if(this.domain=="pure")return this.derive(0,0);var b=c.getScrollPosition("document"),d=this.x,e=this.y;this.domain=="document"?(d-=b.x,e-=b.y):(d+=b.x,e+=b.y);return this.derive(d,e,a)};d.getDomain=function(){return this.domain};c.from=function(a,b,d){return new c(a,b,d)};c.getScrollPosition=function(a){a=a||"document";var c=b("getUnboundedScrollPosition")(window);return this.from(c.x,c.y,"document").convertTo(a)};c.getElementPosition=function(a,c){c=c||"document";a=b("getElementPosition")(a);return this.from(a.x,a.y,"viewport").convertTo(c)};c.getElementDimensions=function(a){return this.from(a.offsetWidth||0,a.offsetHeight||0)};c.getViewportDimensions=function(){var a=b("getViewportDimensions")();return this.from(a.width,a.height,"viewport")};c.getViewportWithoutScrollbarDimensions=function(){var a=b("getViewportDimensions").withoutScrollbars();return this.from(a.width,a.height,"viewport")};c.getDocumentDimensions=function(a){a=b("getDocumentScrollElement")(a);return this.from(a.scrollWidth,a.scrollHeight,"document")};return c}(b("BasicVector"));e.exports=a}),null);
__d("Vector",["DOMVector","Event","Scroll"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){return a.call(this,parseFloat(b),parseFloat(c),d)||this}var d=c.prototype;d.derive=function(a,b,d){return new c(a,b,d||this.domain)};d.setElementPosition=function(a){var b=this.convertTo("document");a.style.left=parseInt(b.x,10)+"px";a.style.top=parseInt(b.y,10)+"px";return this};d.setElementDimensions=function(a){return this.setElementWidth(a).setElementHeight(a)};d.setElementWidth=function(a){a.style.width=parseInt(this.x,10)+"px";return this};d.setElementHeight=function(a){a.style.height=parseInt(this.y,10)+"px";return this};d.scrollElementBy=function(a){a==document.body?window.scrollBy(this.x,this.y):(b("Scroll").setLeft(a,b("Scroll").getLeft(a)+this.x),b("Scroll").setTop(a,b("Scroll").getTop(a)+this.y));return this};c.from=function(a,b,d){return new c(a,b,d)};c.getEventPosition=function(a,c){c=c||"document";a=b("Event").getPosition(a);a=this.from(a.x,a.y,"document");return a.convertTo(c)};c.getTouchEventPosition=function(a,b){b===void 0&&(b="document");a=a.touches[0];a=this.from(a.pageX,a.pageY,"document");return a.convertTo(b)};c.deserialize=function(a){a=a.split(",");return this.from(a[0],a[1])};return c}(b("DOMVector"));e.exports=a}),null);
__d("ViewportBounds",["Arbiter","ArbiterMixin","BlueBar","PageEvents","Vector","emptyFunction","removeFromArray"],(function(a,b,c,d,e,f){__p&&__p();var g={top:[],right:[],bottom:[],left:[]};function a(a){return function(){return g[a].reduce(function(a,b){return Math.max(a,b.getSize())},0)}}function c(a,b){return function(c){return new h(a,c,b)}}var h=function(){"use strict";function a(a,c,d){d===void 0&&(d=!1),this.getSide=b("emptyFunction").thatReturns(a),this.getSize=function(){return typeof c==="function"?c():c},this.isPersistent=b("emptyFunction").thatReturns(d),g[a].push(this),i.inform("change")}var c=a.prototype;c.remove=function(){b("removeFromArray")(g[this.getSide()],this),i.inform("change")};return a}();b("Arbiter").subscribe(b("PageEvents").AJAXPIPE_ONUNLOAD,function(){["top","right","bottom","left"].forEach(function(a){a=g[a];for(var b=a.length-1;b>=0;b--){var c=a[b];c.isPersistent()||c.remove()}})});var i=babelHelpers["extends"]({},b("ArbiterMixin"),{getTop:a("top"),getRight:a("right"),getBottom:a("bottom"),getLeft:a("left"),getElementPosition:function(a){a=b("Vector").getElementPosition(a);a.y-=i.getTop();return a},addTop:c("top"),addRight:c("right"),addBottom:c("bottom"),addLeft:c("left"),addPersistentTop:c("top",!0),addPersistentRight:c("right",!0),addPersistentBottom:c("bottom",!0),addPersistentLeft:c("left",!0)});i.addPersistentTop(function(){if(b("BlueBar").hasFixedBlueBar()){var a=b("BlueBar").getMaybeFixedRoot();return a?a.offsetHeight:0}return 0});e.exports=i}),null);
__d("dispatchEvent",[],(function(a,b,c,d,e,f){function b(b,c){var d;typeof a.Event==="function"?d=new a.Event(c):(d=a.document.createEvent("Event"),d.initEvent(c,!0,!0));b.dispatchEvent(d)}e.exports=b}),null);
__d("getOverlayZIndex",["Style"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){__p&&__p();c=c||document.body;var d=[];while(a&&a!==c)d.push(a),a=a.parentNode;if(a!==c)return 0;for(var a=d.length-1;a>=0;a--){c=d[a];if(b("Style").get(c,"position")!="static"){c=parseInt(b("Style").get(c,"z-index"),10);if(!isNaN(c))return c}}return 0}e.exports=a}),null);
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};e.exports=a}),null);
__d("Layer",["invariant","KeyStatus","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","FBLogger","HTML","KeyEventController","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();b("KeyStatus");var h=[],i=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a,d){__p&&__p();var e;e=c.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else b("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var d=a.prototype;d.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};d._configure=function(a,c){__p&&__p();var d=this;if(c){var e=b("isNode")(c),f=typeof c==="string"||b("HTML").isHTML(c);this.containsReactComponent=b("BootloadedReact").isValidElement(c);!e&&!f&&!this.containsReactComponent&&b("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(f)c=b("HTML")(c).getRootNode();else if(this.containsReactComponent){e=document.createElement("div");var g=!0;b("BootloadedReact").render(c,e,function(){d.inform("reactshow"),g||d.updatePosition()});g=!1;c=this._reactContainer=e}}this._root=this._buildWrapper(a,c);a.attributes&&b("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(b("CSS").addClass.bind(null,this._root));b("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=b("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);b("DataStore").set(this._root,"layer",this);return this};d._getDefaultBehaviors=function(){return[]};d.getCausalElement=function(){return this._causalElement};d.setCausalElement=function(a){this._causalElement=a;return this};d.getInsertParent=function(){return this._insertParent||document.body};d.getRoot=function(){this._root||(this._destroyed?b("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):b("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};d.getContentRoot=function(){return this.getRoot()};d._buildWrapper=function(a,b){return b};d.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(b("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};d.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};d.show=function(){__p&&__p();var c=this;if(this._shown)return this;var d=this.getRoot();d!=null||g(0,5142);this.inform("beforeshow");b("Style").set(d,"visibility","hidden");b("Style").set(d,"overflow","hidden");b("CSS").show(d);b("DOM").appendContent(this.getInsertParent(),d);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){c._shown&&h.push(c)},0)):b("CSS").hide(d);b("Style").set(d,"visibility","");b("Style").set(d,"overflow","");b("Style").set(d,"opacity","1");this.inform("aftershow");return this};d.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};d._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};d.conditionShow=function(a){return a?this.show():this._hide()};d.finishHide=function(){__p&&__p();if(this._shown){this._permanent||b("removeFromArray")(h,this);this._hiding=!1;this._shown=!1;var c=this.getRoot();c!=null||g(0,5143);b("CSS").hide(c);this.inform("hide");a.inform("hide",this)}};d.isShown=function(){return this._shown};d.updatePosition=function(){return!0};d.destroy=function(){__p&&__p();this.containsReactComponent&&b("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var c=this.getRoot();b("DOM").remove(c);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);b("DataStore").remove(c,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return h[h.length-1]};a.informBlur=function(a){__p&&__p();j=null;k=null;var c=h.length;if(!c)return;while(c--){var d=h[c],e=d.getContentRoot();e!=null||g(0,5144);if(b("ContextualThing").containsIncludingLayers(e,a))return;if(d.inform("blur",{target:a})===!1||d.isShown())return}};return a}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));Object.assign(i,b("ArbiterMixin"));Object.assign(i.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});b("Event").listen(document.documentElement,"keydown",function(a){if(b("KeyEventController").filterEventTargets(a,"keydown"))for(var c=h.length-1;c>=0;c--)if(h[c].inform("key",a)===!1)return!1;return!0},b("Event").Priority.URGENT);var j;b("Event").listen(document.documentElement,"mousedown",function(a){j=a.getTarget()});var k;b("Event").listen(document.documentElement,"mouseup",function(a){k=a.getTarget(),b("setImmediate")(function(){j=null,k=null})});b("Event").listen(document.documentElement,"click",function(a){__p&&__p();var c=j,d=k;j=null;k=null;var e=h.length;if(!e)return;e=a.getTarget();if(e!==d||e!==c)return;if(!b("DOM").contains(document.documentElement,e))return;if(e.offsetWidth!=null&&!e.offsetWidth)return;if(b("Parent").byClass(e,"generic_dialog"))return;i.informBlur(e)});e.exports=i}),null);
__d("StaleVideoMonitor",["EventEmitter","EventListener","SubscriptionsHandler","clearTimeout","performanceNow","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g=1500;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$StaleVideoMonitor4=null;d.$StaleVideoMonitor1=new(b("SubscriptionsHandler"))();d.$StaleVideoMonitor2=c.currentTime;d.$StaleVideoMonitor3=b("performanceNow")();d.$StaleVideoMonitor5=c;d.$StaleVideoMonitor1.addSubscriptions(b("EventListener").listen(c,"playing",function(){return d.$StaleVideoMonitor6()}),b("EventListener").listen(c,"play",function(){return d.$StaleVideoMonitor6()}),b("EventListener").listen(c,"timeupdate",function(){return d.$StaleVideoMonitor6()}));return d}var d=c.prototype;d.$StaleVideoMonitor7=function(){__p&&__p();if(this.$StaleVideoMonitor5){if(this.$StaleVideoMonitor5.paused||this.$StaleVideoMonitor5.playbackRate<=0)return;var a=this.$StaleVideoMonitor5.currentTime,c=this.$StaleVideoMonitor5.buffered,d=!1,e;for(e=0;e<c.length;++e){var f=c.start(e),g=c.end(e);if(f>a)break;if(f<=a&&g>=a+1){d=!0;break}}d&&(a===this.$StaleVideoMonitor2?this.emit("stale",b("performanceNow")()-this.$StaleVideoMonitor3,(a-this.$StaleVideoMonitor2)*1e3):this.$StaleVideoMonitor8())}};d.$StaleVideoMonitor9=function(a){var c=this;this.$StaleVideoMonitor10();this.$StaleVideoMonitor4=b("setTimeout")(function(){return c.$StaleVideoMonitor7()},a)};d.$StaleVideoMonitor10=function(){this.$StaleVideoMonitor4!==null&&(b("clearTimeout")(this.$StaleVideoMonitor4),this.$StaleVideoMonitor4=null)};d.$StaleVideoMonitor8=function(){this.$StaleVideoMonitor6()};d.$StaleVideoMonitor6=function(){this.$StaleVideoMonitor5&&(this.$StaleVideoMonitor2=this.$StaleVideoMonitor5.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor9(g))};d.$StaleVideoMonitor11=function(){this.$StaleVideoMonitor1&&this.$StaleVideoMonitor1.release()};d.notifyBuffering=function(){this.$StaleVideoMonitor10()};d.notifyBuffered=function(){this.$StaleVideoMonitor9(g)};d.destroy=function(){this.$StaleVideoMonitor11(),this.$StaleVideoMonitor10(),this.$StaleVideoMonitor5=null};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoQualityClasses",["VideoQualityClassInternal"],(function(a,b,c,d,e,f){e.exports=b("VideoQualityClassInternal").orderedValues}),null);
__d("getBufferedAheadOf",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){var b=1/60,c=a.currentTime;a=a.buffered;for(var d=0;d<a.length;d++){var e=a.start(d)-b,f=a.end(d)+b;if(c>=e&&c<=f)return Math.max(a.end(d)-c,0)}return 0}e.exports=a}),null);
__d("VideoWatchTimeTracker",["getBufferedAheadOf"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$11=this.$2.currentTime,this.$12=0,this.$13=0,this.$14=null,this.STATE_PAUSE="pause",this.STATE_PLAYING="playing",this.STATE_BUFFERING_START="buffering_start",this.STATE_BUFFERING_END="buffering_end"}var c=a.prototype;c.$15=function(){var a=Math.max(this.$2.currentTime-this.$11,0);this.$4+=a;this.$3+=a;this.$11=this.$2.currentTime};c.$16=function(a){if(this.$13>0){a=Math.max(a-this.$13,0);this.$8+=a;this.$7+=a}};c.$17=function(){var a=b("getBufferedAheadOf")(this.$2),c=Math.max(this.$2.currentTime+a-this.$11-this.$12,0);this.$10+=c;this.$9+=c;this.$12=a};c.seekStart=function(){this.$17(),this.$15()};c.seekEnd=function(){this.$11=this.$2.currentTime,this.$12=b("getBufferedAheadOf")(this.$2)};c.pause=function(){this.$14=this.STATE_PAUSE,this.$17(),this.$15()};c.playing=function(){this.$17(),this.$15(),this.$14=this.STATE_PLAYING};c.bufferingStart=function(a){this.$14!=this.STATE_PAUSE?(this.$13=a,this.$6+=1,this.$5+=1):(this.$11=this.$2.currentTime,this.$12=b("getBufferedAheadOf")(this.$2)),this.$14=this.STATE_BUFFERING_START};c.bufferingEnd=function(a){this.$17(),this.$15(),this.$16(a),this.$14=this.STATE_BUFFERING_END,this.$13=0};c.update=function(a){this.$14==this.STATE_PLAYING?(this.$17(),this.$15()):this.$14==this.STATE_BUFFERING_START&&this.$16(a)};c.getWatchTimeSinceLastReport=function(){var a=this.$4;this.$4=0;return a};c.getTotalWatchTime=function(){return this.$3};c.getStallTimeSinceLastReport=function(){var a=this.$8;this.$8=0;return a};c.getTotalStallTime=function(){return this.$7};c.getStallCountSinceLastReport=function(){var a=this.$6;this.$6=0;return a};c.getTotalStallCount=function(){return this.$5};c.getBufferedTimeSinceLastReport=function(){var a=this.$10;this.$10=0;return a};c.getTotalBufferedTime=function(){return this.$9};c.getGuid=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoData",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a||{aspect_ratio:0,original_height:0,original_width:0,video_id:""}}var b=a.prototype;b.hasHD=function(){return!!this.$1.hd_src};b.getEncodingTag=function(){return this.$1.encoding_tag};b.getContentCategory=function(){return this.$1.content_category};b.getVideoID=function(){return this.$1.video_id};b.getVideoURL=function(){return this.$1.video_url};b.getAspectRatio=function(){return this.$1.aspect_ratio};b.getRotation=function(){return this.$1.rotation||0};b.hasSubtitles=function(){return!!this.$1.subtitles_src};b.hasDashManifest=function(){return!!this.$1.dash_manifest};b.getDashManifest=function(){return this.$1.dash_manifest};b.hasHighlightsManifest=function(){return!!this.$1.highlights_manifest};b.getHighlightsManifest=function(){return this.$1.highlights_manifest};b.getDashPrefetchedRepresentationIDs=function(){return this.$1.dash_prefetched_representation_ids};b.getSubtitlesSrc=function(){this.$1.subtitles_src||g(0,1109);return this.$1.subtitles_src};b.getPlayableSrcSD=function(){return this.$1.sd_src_no_ratelimit?this.$1.sd_src_no_ratelimit:this.getPlayableSrcRateLimitedSD()};b.getPlayableSrcHD=function(){return this.$1.hd_src_no_ratelimit?this.$1.hd_src_no_ratelimit:this.getPlayableSrcRateLimitedHD()};b.getPlayableSrcRateLimitedSD=function(){return this.$1.sd_src};b.getPlayableSrcRateLimitedHD=function(){return this.$1.hd_src};b.getLiveManifestUrl=function(){this.isLiveStream()||g(0,1110);return this.getPlayableSrcRateLimitedSD()};b.hasRateLimit=function(){return!!this.$1.sd_src_no_ratelimit};b.getStreamType=function(){this.$1.stream_type||g(0,1111);return this.$1.stream_type};b.isBroadcast=function(){return!!this.$1.is_broadcast};b.isServableViaFbms=function(){return!!this.$1.is_servable_via_fbms};b.isLiveStream=function(){return!!this.$1.is_live_stream};b.isLowLatency=function(){return!!this.$1.is_low_latency};b.getDesiredLatencyMs=function(){return this.$1.desired_latency_ms};b.isPredictiveDash=function(){return!!this.$1.is_predictive_dash};b.isEnabledForCVCv3=function(){return!!this.$1.is_enabled_for_cvc_v3};b.isFacecastAudio=function(){return!!this.$1.is_facecast_audio};b.liveRoutingToken=function(){return this.$1.live_routing_token};b.getHDTag=function(){return this.$1.hd_tag};b.getSDTag=function(){return this.$1.sd_tag};b.getProjection=function(){return this.$1.projection};b.getPlayerVersionOverwrite=function(){return this.$1.player_version_overwrite};b.getFalloverData=function(){var b=this.$1.fallover_data;return b?b.map(function(b){return new a(b)}):[]};b.getSphericalConfig=function(){return this.$1.spherical_config};b.isSpherical=function(){return!!this.$1.is_spherical};b.getOriginalHeight=function(){return this.$1.original_height};b.getOriginalWidth=function(){return this.$1.original_width};b.getOverrideConfig=function(){return this.$1.override_config};b.getRawData=function(){return this.$1};b.getPrefetchCache=function(){return this.$1.prefetch_cache};b.getWidevineCert=function(){return this.$1.widevine_cert};return a}();e.exports=a}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(a){return!!(a&&a.detail&&a.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){function a(a){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState"],(function(a,b,c,d,e,f){__p&&__p();var g=-1,h=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function i(a,b){__p&&__p();a.time_ms=Date.now();b=b.timeStamp;if(b&&h){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,c,d,e,f,h){__p&&__p();var i=this;this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=e;this._fireSeekEvents=f;this._useEventTime=c;this._recentPausedTime=null;var j=this.getVideoElement();if(h){var k=j.pause;j.pause=function(){i._recentPausedTime=j.currentTime;return k.apply(j)}}d&&(this._overwriteVideoCurrentTimeProperty(j),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=g;this._muted=b("getHTMLMediaElementMutedState")(j);this._pausedPosition=g;this._seeking=!1;this._seekSourceTimePosition=g;this._currentTimeAtSeekStart=g;this._volume=j.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=g;a=!1;j.readyState>=j.HAVE_FUTURE_DATA?this._logReadyToPlay():a=!0;if(this.skipSubscriptions())return;e=this.getSubscriptions();a&&e.addSubscriptions(b("EventListener").listen(j,"canplay",this._logReadyToPlay.bind(this)));e.addSubscriptions(b("EventListener").listen(j,"ended",this.onEnded.bind(this)),b("EventListener").listen(j,"pause",this.onPause.bind(this)),b("EventListener").listen(j,"playing",this.onPlaying.bind(this)),b("EventListener").listen(j,"seeked",this.onSeeked.bind(this)),b("EventListener").listen(j,"seeking",this.onSeeking.bind(this)),b("EventListener").listen(j,"play",this.onPlay.bind(this)),b("EventListener").listen(j,"loadedmetadata",this.onLoadedMetadata.bind(this)),b("EventListener").listen(j,"timeupdate",this.onTimeUpdate.bind(this)),b("EventListener").listen(j,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTime){this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(a,b){if(this._loggedEvents[a])return;this._logEvent(a,b)},_logEvent:function(a,b){__p&&__p();this._loggedEvents[a]=!0;b=b?b:{};b.video_id=this.getVideoID();b.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(b,"video_time_position")||(b.video_time_position=this._getVideoCurrentTime());b.time_ms||(b.time_ms=Date.now());b.time=Math.round(b.time_ms/1e3);if(this.getAdClientToken){var c=this.getAdClientToken();c&&(b.ad_client_token=c)}this.getPlayerFormat&&(b.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(b.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(b.player_suborigin=this.getPlayerSuborigin());this._logFunction(a,b)},_logReadyToPlay:function(){this._logOnce(b("VideoPlayerLoggerEvent").READY_TO_PLAY)},__setPendingPlayRequest:function(a){this._pendingPlayRequest=a},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var c=this.getVideoElement();if(this._pendingPlayRequest){var d={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,d);return}d=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);d=c.ended||d&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)?b("VideoPlayerLoggerEvent").FINISHED_PLAYING:b("VideoPlayerLoggerEvent").PAUSED;var e=this._recentPausedTime==null?this._getVideoCurrentTime():this._recentPausedTime;this._recentPausedTime=null;e&&(this._lastPlayedTime=e);e=this._lastPlayedTime;var f=this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition;b("VideoPlayerHTML5Experiments").preventNegativeTimePositions&&(this._lastPlayedTime<0&&(e=0,this._lastStartTimePosition<0&&(f=0)));var h=a.lastPauseReason;if(d===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)e=Math.max(e,c.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(h=h||"unloaded");this._logEvent(d,this._amendEventTime({video_last_start_time_position:f,video_time_position:e,debug_reason:h},a));this._lastStartTimePosition=g},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==g&&b("UserAgent").isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};b("VideoPlayerHTML5Experiments").newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED,a);if(b("VideoPlayerHTML5Experiments").newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=g&&this._lastPlayedTime!=g&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=g);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;b("VideoPlayerHTML5Experiments").superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var c=this.getLastPlayReason();this._pendingPlayRequest=!1;var d=this._loggedEvents[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?b("VideoPlayerLoggerEvent").UNPAUSED:b("VideoPlayerLoggerEvent").STARTED_PLAYING;c=this._amendEventTime({debug_reason:c,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment){var e=this.getVideoElement().currentTime;e=e-a;c.time_ms-=Math.round(e*1e3)}this._logEvent(d,c);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var c=this._seekSourceTimePosition;this._seekSourceTimePosition=g;var d=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=g;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var e={video_seek_source_time_position:c,video_last_start_time_position:c};this._fixOvewrittenGetVideoCurrentTime&&(e.video_seek_source_time_position=d);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==g?e.video_last_start_time_position=this._lastStartTimePosition:e.video_last_start_time_position=c);c=b("VideoPlayerLoggerEvent").SCRUBBED;this._fireSeekEvents&&(c=b("VideoPlayerLoggerEvent").SEEKED,e={seek_from_video_time_position:d});this._logEvent(c,this._amendEventTime(e,a));d=this.getVideoElement();d.paused?this._lastStartTimePosition=g:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=g},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var c=this.getVideoElement(),d={},e=null;if(b("VideoPlayerHTML5Experiments").useFixedVolumeLogging){var f=c.muted,g=this._muted,h=c.volume,i=this._volume;d.current_volume=Math.round(h*100);this._volume=h;this._muted=f;f=f||h==0;g=g||i==0;if(g&&f)return;if(g!=f)f?e=b("VideoPlayerLoggerEvent").MUTED:e=b("VideoPlayerLoggerEvent").UNMUTED;else{if(i==h)return;h<i?e=b("VideoPlayerLoggerEvent").VOLUME_DECREASE:e=b("VideoPlayerLoggerEvent").VOLUME_INCREASE}}else c.muted!==this._muted&&c.volume===this._volume&&c.volume>0?e=c.muted?b("VideoPlayerLoggerEvent").MUTED:b("VideoPlayerLoggerEvent").UNMUTED:(e=c.volume>this._volume?b("VideoPlayerLoggerEvent").VOLUME_INCREASE:b("VideoPlayerLoggerEvent").VOLUME_DECREASE,d.current_volume=Math.round(c.volume*100)),this._muted=c.muted,this._volume=c.volume;this._logEvent(e,this._amendEventTime(d,a))},_amendEventTime:function(a,c){var d=this._useEventTime;b("VideoPlayerHTML5Experiments").fixEventTimeLogging&&(d=d&&c);if(d)return i(a,c);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===g?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return b("VideoPlayerHTML5Experiments").fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();var b=this;this._didOverwriteVideoCurrentTimeProperty=!1;try{var c=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!c)return;if(typeof c.get!=="function"||typeof c.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return c.get.call(this)},set:function(d){b._currentTimeAtSeekStart===g&&(b._currentTimeAtSeekStart=c.get.call(a)),c.set.call(a,d)},configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerShakaGlobalConfig","clearInterval","performanceNow","setInterval"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$MediaBufferingDetector1=c;e.$MediaBufferingDetector2=new(b("SubscriptionsHandler"))();e.$MediaBufferingDetector1.paused||e.$MediaBufferingDetector8();e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"playing",function(){return e.$MediaBufferingDetector9()}),b("Event").listen(e.$MediaBufferingDetector1,"pause",function(){return e.$MediaBufferingDetector10()}),b("Event").listen(e.$MediaBufferingDetector1,"ended",function(){return e.$MediaBufferingDetector11()}),b("Event").listen(e.$MediaBufferingDetector1,"timeupdate",function(){return e.$MediaBufferingDetector12()}));e.$MediaBufferingDetector13("drop_buffering_detection_from_html5_api",!1)&&e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"waiting",function(){return e.$MediaBufferingDetector14()}));return e}var d=c.prototype;d.$MediaBufferingDetector15=function(){var a=b("performanceNow")(),c=this.$MediaBufferingDetector1.currentTime;a=a-this.$MediaBufferingDetector5;c=c-this.$MediaBufferingDetector6;c=c*1e3;c=a-c;var d=b("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;a*.2<Math.abs(c)&&!d?this.$MediaBufferingDetector16():this.$MediaBufferingDetector17();this.$MediaBufferingDetector18()};d.$MediaBufferingDetector18=function(){this.$MediaBufferingDetector5=b("performanceNow")(),this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};d.$MediaBufferingDetector8=function(){var a=this;if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector18();this.$MediaBufferingDetector4=b("setInterval")(function(){return a.$MediaBufferingDetector15()},500)};d.$MediaBufferingDetector19=function(){b("clearInterval")(this.$MediaBufferingDetector4),this.$MediaBufferingDetector4=null};d.$MediaBufferingDetector16=function(){if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!0;this.emit("bufferingStart")};d.$MediaBufferingDetector17=function(){if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!1;this.emit("bufferingEnd")};d.$MediaBufferingDetector9=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector8()};d.$MediaBufferingDetector10=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector11=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector12=function(){this.$MediaBufferingDetector1.paused||(this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector8())};d.$MediaBufferingDetector14=function(){this.$MediaBufferingDetector19(),this.$MediaBufferingDetector16()};d.$MediaBufferingDetector13=function(a,c){return this.$MediaBufferingDetector7?this.$MediaBufferingDetector7.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.destroy=function(){b("VideoPlayerExperiments").fireBufferingEndEventOnDestroy&&this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector2.release()};return c}(b("EventEmitter"));e.exports=a}),null);
__d("classWithMixins",[],(function(a,b,c,d,e,f){function a(a,b){var c=function(){a.apply(this,arguments)};c.prototype=Object.assign(Object.create(a.prototype),b.prototype);return c}e.exports=a}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function(a,b,c,d,e,f){e.exports=b("memoize")(function(){return!!b("DOM").create("video").canPlayType})}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function(a,b,c,d,e,f){a=function(a){if(a){a=b("canVideoPlayType")(b("VideoMimeTypes").h264main30avc);return a!=="probably"}return!b("supportsHTML5Video")()};e.exports=a}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=this,d=i(a,function(){if(!d)return;d.remove();d=null;for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=this,d=h(a,function(){d.remove();for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=h}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("VideoPlayerHTML5Api",["cx","Promise","regeneratorRuntime","AbstractVideoPlayerApi","Arbiter","Bootloader","CSS","Deferred","DOM","DOMDimensions","Event","EventListener","FBLogger","HVideoPlayerMixin","MediaBufferingDetector","Run","StaleVideoMonitor","SubscriptionsHandler","TimeRanges","VideoData","VideoFrameBuffer","VideoPlaybackQuality","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerMemLeakExperiments","VideoPlayerReason","VideoPlayerShakaGlobalConfig","VideoPlayerVersions","VideoQualityClasses","VideoWatchTimeTracker","classWithMixins","clearTimeout","dangerouslyOverrideMediaElementEndedProperty","dispatchEvent","getHTMLMediaElementMutedState","isHTML5VideoImplementationUnavailable","mixin","onCanPlayHTMLMediaElement","requireWeak","seekHTMLMediaElementTo","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("VideoPlaybackQuality").getDroppedFrames,i=b("VideoPlaybackQuality").getTotalFrames,j=null;b("requireWeak")("TVViewerConfigsManager",function(a){return j=a});function k(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function l(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}var m=-1,n=.05,o=476,p=476;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$VideoPlayerHTML5Api39=c;e.$VideoPlayerHTML5Api45=d?d.shakaConfig:null;e.$VideoPlayerHTML5Api16=e.$VideoPlayerHTML5Api39.id;e.preventSeekLoggingInMixin=!0;e.$VideoPlayerHTML5Api64("allow_seek_logging_in_mixin",!1)&&(e.preventSeekLoggingInMixin=!1);c=e.$VideoPlayerHTML5Api65();e.$VideoPlayerHTML5Api57=c.width;e.$VideoPlayerHTML5Api15=c.height;d?e.$VideoPlayerHTML5Api9=d:e.$VideoPlayerHTML5Api9=JSON.parse(e.$VideoPlayerHTML5Api39.getAttribute("data-config"));e.$VideoPlayerHTML5Api5=new(b("MediaBufferingDetector"))(e.$VideoPlayerHTML5Api39,e.$VideoPlayerHTML5Api45);e.$VideoPlayerHTML5Api5.addListener("bufferingStart",function(){return e.$VideoPlayerHTML5Api66()});e.$VideoPlayerHTML5Api5.addListener("bufferingEnd",function(){return e.$VideoPlayerHTML5Api67()});e.$VideoPlayerHTML5Api26=m;e.$VideoPlayerHTML5Api28=b("getHTMLMediaElementMutedState")(e.$VideoPlayerHTML5Api39);e.$VideoPlayerHTML5Api55=e.$VideoPlayerHTML5Api39.volume;e.$VideoPlayerHTML5Api27=!1;e.$VideoPlayerHTML5Api24=null;e.$VideoPlayerHTML5Api32=!1;e.$VideoPlayerHTML5Api3=!1;e.$VideoPlayerHTML5Api34=e.$VideoPlayerHTML5Api39.getAttribute("preload")=="auto";e.$VideoPlayerHTML5Api35=null;e.$VideoPlayerHTML5Api41=new(b("StaleVideoMonitor"))(e.$VideoPlayerHTML5Api39);e.$VideoPlayerHTML5Api41.addListener("stale",function(a,b){return e.$VideoPlayerHTML5Api68(a,b)});e.$VideoPlayerHTML5Api13=!1;e.$VideoPlayerHTML5Api44=!1;e.$VideoPlayerHTML5Api9.lazyPreload&&(e.$VideoPlayerHTML5Api9.onafterloadRegister?b("Run").onAfterLoad(function(){return e.$VideoPlayerHTML5Api39.setAttribute("preload",e.$VideoPlayerHTML5Api9.lazyPreload)}):e.$VideoPlayerHTML5Api39.setAttribute("preload",e.$VideoPlayerHTML5Api9.lazyPreload));e.$VideoPlayerHTML5Api11=e.$VideoPlayerHTML5Api9.disableNativeControls;e.$VideoPlayerHTML5Api48=e.$VideoPlayerHTML5Api9.subtitlesActive;e.$VideoPlayerHTML5Api69();e.preventPauseLoggingInMixin=!1;e.$VideoPlayerHTML5Api46=new(b("SubscriptionsHandler"))();e.$VideoPlayerHTML5Api70();e.$VideoPlayerHTML5Api21=e.$VideoPlayerHTML5Api9.useRateLimited;e.$VideoPlayerHTML5Api71(!1);c=b("VideoQualityClasses").indexOf("hd");e.$VideoPlayerHTML5Api20=e.$VideoPlayerHTML5Api9.minQuality!==null&&b("VideoQualityClasses").indexOf(e.$VideoPlayerHTML5Api9.minQuality)>=c;e.$VideoPlayerHTML5Api29=e.$VideoPlayerHTML5Api9.minQuality;e.$VideoPlayerHTML5Api30=e.$VideoPlayerHTML5Api9.maxQuality;e.$VideoPlayerHTML5Api2=e.$VideoPlayerHTML5Api9.accessToken;e.$VideoPlayerHTML5Api42=e.$VideoPlayerHTML5Api9.startTimestamp;e.$VideoPlayerHTML5Api36=n;e.$VideoPlayerHTML5Api4=e.$VideoPlayerHTML5Api9.autoFullscreenHD;e.$VideoPlayerHTML5Api33=null;e.$VideoPlayerHTML5Api58=!1;e.$VideoPlayerHTML5Api59=!1;e.$VideoPlayerHTML5Api60=e.$VideoPlayerHTML5Api9.unloadShouldCancelPendingRequest;e.$VideoPlayerHTML5Api54=e.$VideoPlayerHTML5Api45?e.$VideoPlayerHTML5Api45.getBool("enable_video_watch_time_tracker",!1)?new(b("VideoWatchTimeTracker"))(e.$VideoPlayerHTML5Api9.playerInstanceKey,e.$VideoPlayerHTML5Api39):null:null;return e}var d=c.prototype;d.setup=function(){this.switchVideo(0),this.initLogger(this.$VideoPlayerHTML5Api72.bind(this),this.$VideoPlayerHTML5Api9.useEventTime,this.$VideoPlayerHTML5Api64("overwrite_video_current_time_property",!1),this.$VideoPlayerHTML5Api64("fix_overwritten_get_video_current_time",!1),this.$VideoPlayerHTML5Api64("fire_seek_events",!1),this.$VideoPlayerHTML5Api64("fix_pause_current_time_in_mixin",!1)),this.$VideoPlayerHTML5Api73()};d.getAdClientToken=function(){this.$VideoPlayerHTML5Api9.ad_client_token};d.$VideoPlayerHTML5Api68=function(a,c){this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").STALE,{stale_detect_time_delta:a,stale_video_current_time_delta:c}),this.$VideoPlayerHTML5Api9.nudgeStaleVideo&&typeof this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs==="number"&&this.seek(this.getCurrentTimePosition()+this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs/1e3),b("VideoPlayerExperiments").showStaleOverlayOnVideoNodeStaled&&this.emit("videoNodeStaled")};d.$VideoPlayerHTML5Api66=function(){this.emit("buffering"),this.$VideoPlayerHTML5Api41.notifyBuffering(),this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.bufferingStart(Date.now())};d.$VideoPlayerHTML5Api67=function(){this.emit("buffered"),this.$VideoPlayerHTML5Api41.notifyBuffered(),this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.bufferingEnd(Date.now())};d.$VideoPlayerHTML5Api74=function(a){this.emit("bufferingProgress",a)};d.$VideoPlayerHTML5Api75=function(a){this.emit("replicaSwitch",a)};d.$VideoPlayerHTML5Api76=function(){this.emit("networkInterrupted")};d.$VideoPlayerHTML5Api77=function(){this.emit("networkResumed")};d.$VideoPlayerHTML5Api78=function(){this.emit("streamInterrupted"),this.$VideoPlayerHTML5Api58=!0};d.$VideoPlayerHTML5Api79=function(){this.emit("seekRangeChanged")};d.$VideoPlayerHTML5Api80=function(){this.emit("streamResumed"),this.$VideoPlayerHTML5Api58=!1};d.$VideoPlayerHTML5Api64=function(a,c){return this.$VideoPlayerHTML5Api45?this.$VideoPlayerHTML5Api45.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.getVideoPlayerShakaConfig=function(){return this.$VideoPlayerHTML5Api45||b("VideoPlayerShakaGlobalConfig")};d.isStreamInterrupted=function(){return this.$VideoPlayerHTML5Api58};d.getVideoID=function(){return this.$VideoPlayerHTML5Api10?this.$VideoPlayerHTML5Api10.getVideoID():this.$VideoPlayerHTML5Api9.video_id};d.getDroppedFrames=function(){return h(this.$VideoPlayerHTML5Api39)};d.getTotalFrames=function(){return i(this.$VideoPlayerHTML5Api39)};d.isDrm=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.isDrm():!1};d.getDebug=function(){return{VideoPlayerHTML5DashPlayer:this.$VideoPlayerHTML5Api40}};d.getDOMElement=function(){return this.$VideoPlayerHTML5Api39};d.getVideoElement=function(){return this.$VideoPlayerHTML5Api39};d.getSubscriptions=function(){return this.$VideoPlayerHTML5Api46};c.onImplementationReady=function(a,b){b()};d.destroy=function(a){if(this.$VideoPlayerHTML5Api13)return;a=a||{};this.$VideoPlayerHTML5Api13=!0;this.$VideoPlayerHTML5Api81();b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api5.destroy();a.renderStillFrame?this.abortLoading(a):(b("VideoPlayerHTML5Experiments").destroyWithoutStillFrame?this.abortLoadingWithoutStillFrame():this.abortLoading(a),this.$VideoPlayerHTML5Api82(),this.$VideoPlayerHTML5Api83&&b("DOM").remove(this.$VideoPlayerHTML5Api83));b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api46.release()};d.getVideoInfo=function(){if(!this.$VideoPlayerHTML5Api10)return null;var a=this.getAvailableVideoQualities();return{isHD:a&&this.getSelectedVideoQuality()==a[a.length-1],streamType:this.$VideoPlayerHTML5Api10.getStreamType(),hasHD:a&&a.length>1,areSubtitlesActive:this.areSubtitlesActive(),areSubtitlesAutogenerated:this.areSubtitlesAutogenerated(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api19,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api40?"DASH manifest":this.$VideoPlayerHTML5Api84(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api10.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api21,projection:this.getVideoProjection(),tagSD:this.$VideoPlayerHTML5Api10.getSDTag(),tagHD:this.$VideoPlayerHTML5Api10.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api10.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api10.isLiveStream()?this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getManifestUrl():this.$VideoPlayerHTML5Api10.getLiveManifestUrl():null,isEnabledForCVCv3:this.$VideoPlayerHTML5Api10.isEnabledForCVCv3()}};c.isImplementationUnavailable=function(a){return b("isHTML5VideoImplementationUnavailable")(a)};d.pause=function(a){this.$VideoPlayerHTML5Api24=a;if(a==="unloaded"&&!this.isPaused()){a=this.$VideoPlayerHTML5Api60||b("VideoPlayerHTML5Experiments").unloadShouldCancelPendingRequest;a&&this.$VideoPlayerHTML5Api18?this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:"unloaded"})):this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"unloaded"}));this.$VideoPlayerHTML5Api59=!0;this.preventPauseLoggingInMixin=!0}this.$VideoPlayerHTML5Api85();this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.pause():this.$VideoPlayerHTML5Api39.pause()};d.$VideoPlayerHTML5Api71=function(a){this.$VideoPlayerHTML5Api18=a};d.preload=function(){this.$VideoPlayerHTML5Api34||(this.$VideoPlayerHTML5Api1&&this.$VideoPlayerHTML5Api86(),this.$VideoPlayerHTML5Api34=!0,this.$VideoPlayerHTML5Api39.setAttribute("preload","auto"))};d.isPreloading=function(){return this.$VideoPlayerHTML5Api34};d.play=function(a){__p&&__p();var c=this;this.$VideoPlayerHTML5Api53||(this.$VideoPlayerHTML5Api53=a);this.$VideoPlayerHTML5Api25=a;if(!this.isPaused()){b("VideoPlayerHTML5Experiments").shouldDispatchPlayingEvent?(b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"play"),b("setTimeout")(function(){return b("dispatchEvent")(c.$VideoPlayerHTML5Api39,"playing")},0)):this.$VideoPlayerHTML5Api87();return}this.$VideoPlayerHTML5Api32=!0;this.$VideoPlayerHTML5Api71(!0);if(this.$VideoPlayerHTML5Api1){b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"play");this.$VideoPlayerHTML5Api86();this.$VideoPlayerHTML5Api3=!0;return}this.$VideoPlayerHTML5Api88()};d.$VideoPlayerHTML5Api85=function(){this.$VideoPlayerHTML5Api3&&this.isPaused()&&b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"pause"),this.$VideoPlayerHTML5Api71(!1),this.$VideoPlayerHTML5Api89()};d.$VideoPlayerHTML5Api89=function(){this.$VideoPlayerHTML5Api32=!1,this.$VideoPlayerHTML5Api3=!1};d.$VideoPlayerHTML5Api90=function(){this.$VideoPlayerHTML5Api39.setAttribute("preload","auto"),this.$VideoPlayerHTML5Api34=!0,this.$VideoPlayerHTML5Api39.load(),this.$VideoPlayerHTML5Api39.muted=this.$VideoPlayerHTML5Api28};d.seek=function(a){var b=this.$VideoPlayerHTML5Api64("clear_buffer_on_seek_back",!1),c=this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.getNumber("clear_buffer_on_seek_back_delta",0);this.$VideoPlayerHTML5Api40&&b&&typeof c==="number"&&this.$VideoPlayerHTML5Api39.currentTime-a>=c&&this.$VideoPlayerHTML5Api40.clearBufferAfterSeekingIfLowerQuality(a);this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.seekStart();this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api64("current_time_during_ready_state_zero_throws",!1))this.$VideoPlayerHTML5Api39.readyState!==0&&(this.$VideoPlayerHTML5Api39.currentTime=a);else try{this.$VideoPlayerHTML5Api39.currentTime=a}catch(a){}this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.seekEnd()};d.removeRotation=function(){b("CSS").removeClass(this.$VideoPlayerHTML5Api39,"_56jr"),b("CSS").removeClass(this.$VideoPlayerHTML5Api39,"_56js"),b("CSS").removeClass(this.$VideoPlayerHTML5Api39,"_56jt"),this.$VideoPlayerHTML5Api39.style.marginLeft="",this.$VideoPlayerHTML5Api39.style.marginTop="",this.$VideoPlayerHTML5Api39.style.width="",this.$VideoPlayerHTML5Api39.style.height=""};d.applyRotation=function(a){__p&&__p();if(!a)return;b("CSS").conditionClass(this.$VideoPlayerHTML5Api39,"_56jr",a==90);b("CSS").conditionClass(this.$VideoPlayerHTML5Api39,"_56js",a==180);b("CSS").conditionClass(this.$VideoPlayerHTML5Api39,"_56jt",a==270);if(a==180)return;a=this.$VideoPlayerHTML5Api15;var c=this.$VideoPlayerHTML5Api57,d=(a-c)/2,e=(c-a)/2;this.$VideoPlayerHTML5Api39.style.marginLeft=e+"px";this.$VideoPlayerHTML5Api39.style.marginTop=d+"px";this.$VideoPlayerHTML5Api39.style.height=c+"px";this.$VideoPlayerHTML5Api39.style.width=a+"px"};d.$VideoPlayerHTML5Api91=function(a){this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.setContext("content_category",a.getContentCategory()||"content_category"),this.$VideoPlayerHTML5Api45&&a.isLowLatency()?this.$VideoPlayerHTML5Api45.setContext("latency_level","low"):this.$VideoPlayerHTML5Api45&&a.isPredictiveDash()&&this.$VideoPlayerHTML5Api45.setContext("latency_level","predictive"),this.$VideoPlayerHTML5Api45&&a.isServableViaFbms()&&this.$VideoPlayerHTML5Api45.setContext("servable_via_fmbs",a.isServableViaFbms())};d.switchVideo=function(a){__p&&__p();var c=this;if(!this.$VideoPlayerHTML5Api9.videoData||this.$VideoPlayerHTML5Api9.videoData.length<=a)return;a=new(b("VideoData"))(this.$VideoPlayerHTML5Api9.videoData[a]);this.$VideoPlayerHTML5Api10=a;a.getOverrideConfig()&&this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.setOverrideConfig(a.getOverrideConfig());this.$VideoPlayerHTML5Api91(a);if((a.hasDashManifest()||a.isLiveStream())&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.isSupported(a)&&!this.$VideoPlayerHTML5Api9.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var d,e;this.$VideoPlayerHTML5Api17=this.$VideoPlayerHTML5Api9.isHighlightEnabled&&a.hasHighlightsManifest();d=a.getDashManifest();a.isLiveStream()&&(e=a.getLiveManifestUrl());var f=a.getDashPrefetchedRepresentationIDs(),g=this.$VideoPlayerHTML5Api9.seekHandler,h=g;g&&(h=function(a){!c.getCurrentTimePosition()?c.$VideoPlayerHTML5Api39.currentTime=a:c.$VideoPlayerHTML5Api18?c.seek(a):g(a)});f=new this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api39,f,{accessToken:this.$VideoPlayerHTML5Api2,config:this.$VideoPlayerHTML5Api9.shakaConfig,minPlayQuality:this.$VideoPlayerHTML5Api29,maxPlayQuality:this.$VideoPlayerHTML5Api30,width:this.$VideoPlayerHTML5Api57,height:this.$VideoPlayerHTML5Api15,manifest:d,manifestUrl:e,isLive:a.isLiveStream(),isServableViaFbms:a.isServableViaFbms(),startTimestamp:this.$VideoPlayerHTML5Api42,videoID:this.getVideoID(),playerInstanceKey:this.$VideoPlayerHTML5Api9.playerInstanceKey,disableStreaming:this.$VideoPlayerHTML5Api9.disableStreaming,playerOrigin:this.$VideoPlayerHTML5Api9.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api9.playerSuborigin,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxHeight,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxWidth,useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Api9.useStrictTrackDimensionsExclusionLogic,isSpherical:this.$VideoPlayerHTML5Api9.isSpherical,getSource:this.$VideoPlayerHTML5Api9.getSource,vpcPlayingStateEmitter:this.$VideoPlayerHTML5Api9.vpcPlayingStateEmitter,seekHandler:h,streamPriorityAdjuster:this.$VideoPlayerHTML5Api9.streamPriorityAdjuster,videoLiveTrace:this.$VideoPlayerHTML5Api9.videoLiveTrace?this.$VideoPlayerHTML5Api9.videoLiveTrace:null,videoLicenseUri:this.$VideoPlayerHTML5Api9.videoLicenseUri?this.$VideoPlayerHTML5Api9.videoLicenseUri:null,prefetchCache:a.getPrefetchCache(),isGraphApiVideoLicenseUri:this.$VideoPlayerHTML5Api9.isGraphApiVideoLicenseUri,widevineCert:a.getWidevineCert(),videoWatchTimeTracker:this.$VideoPlayerHTML5Api54,desiredLatencyMs:a.getDesiredLatencyMs()});f.addListener("seekRangeChanged",function(){return c.$VideoPlayerHTML5Api79()});f.addListener("bufferingStart",function(){return c.$VideoPlayerHTML5Api66()});f.addListener("bufferingEnd",function(){return c.$VideoPlayerHTML5Api67()});f.addListener("bufferingProgress",this.$VideoPlayerHTML5Api74.bind(this));f.addListener("tracksChanged",function(){return c.emit("qualityChange")});f.addListener("streamInterrupted",function(){return c.$VideoPlayerHTML5Api78()});f.addListener("streamResumed",function(){return c.$VideoPlayerHTML5Api80()});f.addListener("replicaSwitch",this.$VideoPlayerHTML5Api75.bind(this));f.addListener("networkInterrupted",function(){return c.$VideoPlayerHTML5Api76()});f.addListener("networkResumed",function(){return c.$VideoPlayerHTML5Api77()});f.addListener("adaptation",function(a){a=a.reason;b("VideoPlayerHTML5Experiments").dropQualityChange||c.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").QUALITY_CHANGE,{reason:a});c.emit("qualityChange")});f.addListener("representation_ended",function(a){c.logRepresentationEnded(a)});f.addListener("blocked_paused_representation_ended",function(){c.onBlockedPausedRepresentationEnded()});f.addListener("debug/dashPlayerEvent",function(a){return c.emit("debug/dashPlayerEvent",a)});f.addListener("error",function(a){return c.$VideoPlayerHTML5Api92(a)});f.addListener("cea608AvailabilityChanged",function(){c.$VideoPlayerHTML5Api93()});f.addListener("cea608CaptionsParsed",function(a){c.$VideoPlayerHTML5Api63||(c.$VideoPlayerHTML5Api63=c.$VideoPlayerHTML5Api94()),c.$VideoPlayerHTML5Api63.then(function(b){b.appendFragments(a),c.$VideoPlayerHTML5Api93()})["catch"](function(a){return b("FBLogger")("video").catching(a).mustfix("Caught error in cea608 stream")})});f.setup();this.$VideoPlayerHTML5Api40=f}else{d=this.$VideoPlayerHTML5Api84();d&&(this.$VideoPlayerHTML5Api39.src=d);this.$VideoPlayerHTML5Api42&&this.seek(this.$VideoPlayerHTML5Api42)}this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.removeSubtitles();a.hasSubtitles()&&this.$VideoPlayerHTML5Api95(this.$VideoPlayerHTML5Api10.getSubtitlesSrc());this.removeRotation();this.applyRotation(a.getRotation())};d.switchToStreamType=function(a){};d.replaceVideoDataFromURL=function(a){};d.getDashAudioConfiguration=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getDashAudioConfiguration():"none"};d.getAudioStreamInfoIDDebug=function(){__p&&__p();if(this.$VideoPlayerHTML5Api40){var a=this.$VideoPlayerHTML5Api40.getDebug();if(a.VideoSource){a=a.VideoSource.getAudioTracks();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.active)return d.streamInfoID}}}return null};d.getVideoTracksDebug=function(){if(this.$VideoPlayerHTML5Api40){var a=this.$VideoPlayerHTML5Api40.getDebug();if(a.VideoSource)return a.VideoSource.getVideoTracks()}return null};d.getCurrentlyPlayingVideoStreamInfoID=function(){var a=this.getCurrentTimePosition();if(this.$VideoPlayerHTML5Api40)return a!=null?this.$VideoPlayerHTML5Api40.getVideoStreamInfoIDForTimePosition(a):null;else return this.$VideoPlayerHTML5Api20?this.$VideoPlayerHTML5Api10.getHDTag():this.$VideoPlayerHTML5Api10.getSDTag()};d.getCurrentlyPlayingAudioStreamInfoID=function(){var a=this.getCurrentTimePosition();return this.$VideoPlayerHTML5Api40&&a!=null?this.$VideoPlayerHTML5Api40.getAudioStreamInfoIDForTimePosition(a):null};d.getLocalEstimator=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getLocalEstimator():null};d.unmute=function(){if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!1;this.$VideoPlayerHTML5Api28=!1;this.emit("unmuteVideo");return}this.$VideoPlayerHTML5Api39.muted=!1};d.mute=function(){if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!0;this.$VideoPlayerHTML5Api28=!0;this.emit("muteVideo");return}this.$VideoPlayerHTML5Api39.muted=!0};d.setRotation=function(a){this.removeRotation(),this.applyRotation(a)};d.setDimensions=function(a,b){this.removeRotation(),this.$VideoPlayerHTML5Api57=a,this.$VideoPlayerHTML5Api15=b,this.applyRotation(this.$VideoPlayerHTML5Api10.getRotation()),this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.updateDimensions(a,b),this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setDimensions(a,b),this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.setDimensions(a),this.emit("dimensionsChange",a,b)};d.setVideoStreamOffset=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setVideoStreamOffset(a)};d.$VideoPlayerHTML5Api96=function(){this.$VideoPlayerHTML5Api39.controls=!this.$VideoPlayerHTML5Api11};d.$VideoPlayerHTML5Api69=function(){this.$VideoPlayerHTML5Api39.controls=this.$VideoPlayerHTML5Api39.controls&&!this.$VideoPlayerHTML5Api11};d.$VideoPlayerHTML5Api70=function(){this.$VideoPlayerHTML5Api14=b("EventListener").listen(this.$VideoPlayerHTML5Api39,"error",this.$VideoPlayerHTML5Api97.bind(this)),b("VideoPlayerMemLeakExperiments").clear_html5_error_handler||this.$VideoPlayerHTML5Api46.addSubscriptions(this.$VideoPlayerHTML5Api14),this.$VideoPlayerHTML5Api46.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Api39,"playing",this.$VideoPlayerHTML5Api98.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"play",this.$VideoPlayerHTML5Api87.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"ended",this.$VideoPlayerHTML5Api99.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"waiting",this.$VideoPlayerHTML5Api100.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"pause",this.$VideoPlayerHTML5Api101.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"volumechange",this.$VideoPlayerHTML5Api102.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"mousedown",this.$VideoPlayerHTML5Api103.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"mouseup",this.$VideoPlayerHTML5Api104.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"timeupdate",this.$VideoPlayerHTML5Api105.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"click",this.$VideoPlayerHTML5Api106.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"loadedmetadata",this.$VideoPlayerHTML5Api107.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"progress",this.$VideoPlayerHTML5Api108.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"seeked",this.$VideoPlayerHTML5Api109.bind(this)),b("EventListener").capture(this.$VideoPlayerHTML5Api39.parentNode,"pause",this.$VideoPlayerHTML5Api110.bind(this)))};d.$VideoPlayerHTML5Api111=function(a){this.preventPauseLoggingInMixin=!1,a.preventDefault(),a.stopPropagation()};d.$VideoPlayerHTML5Api110=function(a){if(a.target!==this.$VideoPlayerHTML5Api39)return;this.$VideoPlayerHTML5Api39.ended||(this.$VideoPlayerHTML5Api59&&this.$VideoPlayerHTML5Api111(a),a.lastPauseReason=this.$VideoPlayerHTML5Api24);this.$VideoPlayerHTML5Api59=!1;this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.pause()};d.$VideoPlayerHTML5Api108=function(){__p&&__p();var a=this.$VideoPlayerHTML5Api39.buffered,b=0,c=0,d=a.length;while(d-->0){var e=a.end(d),f=a.start(d);if(f<=this.$VideoPlayerHTML5Api39.currentTime){c=f;b=e-f;break}}this.$VideoPlayerHTML5Api73();this.$VideoPlayerHTML5Api112("flash/updateBuffer",{duration:b,offset:c})};d.$VideoPlayerHTML5Api81=function(){b("clearTimeout")(this.$VideoPlayerHTML5Api31)};d.$VideoPlayerHTML5Api73=function(){var a=this;this.$VideoPlayerHTML5Api81();this.$VideoPlayerHTML5Api39.networkState===this.$VideoPlayerHTML5Api39.NETWORK_LOADING&&(this.$VideoPlayerHTML5Api31=b("setTimeout")(function(){return a.$VideoPlayerHTML5Api113()},c.networkTimeout))};d.$VideoPlayerHTML5Api113=function(){var a=this.$VideoPlayerHTML5Api39.buffered,c=0;for(var d=0;d<a.length;d++){var e=a.start(d),f=a.end(d);c+=f-e}this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").NETWORK_TIMEOUT,{buffered:c})};d.$VideoPlayerHTML5Api105=function(){var a;this.$VideoPlayerHTML5Api1?a=this.$VideoPlayerHTML5Api1.currentTime:a=this.$VideoPlayerHTML5Api39.currentTime;this.$VideoPlayerHTML5Api112("flash/updateStatus",{position:+a.toFixed(3)})};d.$VideoPlayerHTML5Api106=function(a){if(a.button!==0)return;this.emit("clickVideo");a.preventDefault()};d.isPaused=function(){return b("VideoPlayerHTML5Experiments").fixIE11EndedPausedState?this.$VideoPlayerHTML5Api39.paused||this.$VideoPlayerHTML5Api39.ended:this.$VideoPlayerHTML5Api39.paused};d.$VideoPlayerHTML5Api114=function(){var a=this.$VideoPlayerHTML5Api39.buffered;return a.length>0&&a.start(0)===0&&a.end(0)===this.$VideoPlayerHTML5Api39.duration};d.$VideoPlayerHTML5Api100=function(){if(this.$VideoPlayerHTML5Api64("drop_buffering_detection_from_html5_api",!1))return;this.$VideoPlayerHTML5Api114()||(this.$VideoPlayerHTML5Api56=!0,this.$VideoPlayerHTML5Api112("flash/buffering"))};d.setVolume=function(a){this.$VideoPlayerHTML5Api39.volume=a};d.$VideoPlayerHTML5Api102=function(){this.$VideoPlayerHTML5Api39.muted!==this.$VideoPlayerHTML5Api28&&this.$VideoPlayerHTML5Api39.volume===this.$VideoPlayerHTML5Api55&&this.$VideoPlayerHTML5Api39.volume>0?(this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api39.muted,this.$VideoPlayerHTML5Api55=this.$VideoPlayerHTML5Api39.volume,!this.$VideoPlayerHTML5Api39.muted?this.$VideoPlayerHTML5Api112("flash/unmuteVideo"):this.$VideoPlayerHTML5Api112("flash/muteVideo")):(this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api39.muted,this.$VideoPlayerHTML5Api55=this.$VideoPlayerHTML5Api39.volume,this.$VideoPlayerHTML5Api112("flash/changeVolume",{volume:this.$VideoPlayerHTML5Api39.volume})),this.$VideoPlayerHTML5Api39.muted||this.$VideoPlayerHTML5Api112("flash/turnOffAutoplay",{reason:"unmuted"})};d.$VideoPlayerHTML5Api103=function(a){a.button===0&&(this.$VideoPlayerHTML5Api27=!0)};d.$VideoPlayerHTML5Api104=function(a){a.button===0&&(this.$VideoPlayerHTML5Api27=!1)};d.$VideoPlayerHTML5Api98=function(){this.$VideoPlayerHTML5Api71(!1),this.$VideoPlayerHTML5Api56&&(this.$VideoPlayerHTML5Api56=!1,this.$VideoPlayerHTML5Api112("flash/buffered")),this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.playing()};d.$VideoPlayerHTML5Api87=function(){this.$VideoPlayerHTML5Api19=!0,this.$VideoPlayerHTML5Api96(),this.$VideoPlayerHTML5Api93(),this.$VideoPlayerHTML5Api112("flash/beginPlayback",{position:+this.$VideoPlayerHTML5Api39.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api25}),this.$VideoPlayerHTML5Api73()};d.$VideoPlayerHTML5Api101=function(a){__p&&__p();var c=this.$VideoPlayerHTML5Api64("abort_loading_decisioning_logic",!1);if(this.$VideoPlayerHTML5Api39.ended||c&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)){this.$VideoPlayerHTML5Api19=!1;this.$VideoPlayerHTML5Api71(!1);return}if(this.$VideoPlayerHTML5Api39.seeking&&this.$VideoPlayerHTML5Api24===b("VideoPlayerReason").SEEK)return;if(!this.$VideoPlayerHTML5Api64("ignore_left_button_when_pausing",!0)&&this.$VideoPlayerHTML5Api27)return;if(this.$VideoPlayerHTML5Api24===b("VideoPlayerReason").SEEK){this.$VideoPlayerHTML5Api24=null;return}(this.$VideoPlayerHTML5Api24===null||this.$VideoPlayerHTML5Api24===b("VideoPlayerReason").USER)&&this.$VideoPlayerHTML5Api112("flash/turnOffAutoplay",{reason:"manually_paused"});this.$VideoPlayerHTML5Api24=null;this.$VideoPlayerHTML5Api19=!1;this.$VideoPlayerHTML5Api71(!1);this.$VideoPlayerHTML5Api69();this.$VideoPlayerHTML5Api112("flash/pausePlayback",{position:this.$VideoPlayerHTML5Api39.currentTime.toFixed(2)})};d.$VideoPlayerHTML5Api99=function(){if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api69();this.$VideoPlayerHTML5Api19=!1;this.$VideoPlayerHTML5Api71(!1);this.$VideoPlayerHTML5Api112("flash/finishPlayback");this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.hideSubtitles()};d.$VideoPlayerHTML5Api109=function(){this.emit("seekEnd",{position:+this.$VideoPlayerHTML5Api39.currentTime.toFixed(3)})};d.getEstimatedBandwidth=function(){return this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka?this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.getEstimatedBandwidth():null};d.$VideoPlayerHTML5Api107=function(){this.$VideoPlayerHTML5Api112("flash/updateMetadata")};d.$VideoPlayerHTML5Api92=function(a){this.emit("error",babelHelpers["extends"]({},a,{isPlayback:this.$VideoPlayerHTML5Api32}))};d.$VideoPlayerHTML5Api97=function(){if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api39.error)return;var a=this.$VideoPlayerHTML5Api39.error,b=a.message;b||(b=k(a.code));this.emit("error",{error:l(a.code),isPlayback:this.$VideoPlayerHTML5Api32,message:b})};d.$VideoPlayerHTML5Api72=function(a,c){a===b("VideoPlayerLoggerEvent").STARTED_PLAYING&&this.$VideoPlayerHTML5Api40&&(c.longest_init_response_time=this.$VideoPlayerHTML5Api40.getLongestInitResponseTime()),c.projection=this.getVideoProjection(),this.$VideoPlayerHTML5Api112("flash/logEvent",{logData:babelHelpers["extends"]({event:a},c)})};d.$VideoPlayerHTML5Api112=function(a,c){b("Arbiter").inform(a,babelHelpers["extends"]({divID:this.$VideoPlayerHTML5Api16},c)),this.emit(a.substr("flash/".length),c)};d.getLastPlayReason=function(){return this.$VideoPlayerHTML5Api25};d.getVideoPlayReason=function(){return this.$VideoPlayerHTML5Api53};d.isMuted=function(){return this.$VideoPlayerHTML5Api28};d.setPlaybackRate=function(a){this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.setPlaybackRate(a):this.$VideoPlayerHTML5Api39.playbackRate=a};d.getPlaybackRate=function(){if(this.$VideoPlayerHTML5Api40)return this.$VideoPlayerHTML5Api40.getPlaybackRate();else return this.$VideoPlayerHTML5Api39.playbackRate};d.getPlaybackDuration=function(){return this.$VideoPlayerHTML5Api1?this.$VideoPlayerHTML5Api1.playbackDuration:this.$VideoPlayerHTML5Api39.duration||0};d.getVolume=function(){return this.$VideoPlayerHTML5Api39.volume};d.getCurrentTimePosition=function(){return this.$VideoPlayerHTML5Api39.currentTime};d.getBufferEndPosition=function(){var a=this.$VideoPlayerHTML5Api39.buffered;if(a&&a.length>0){var b=a.length-1;return a.end(b)}return null};d.$VideoPlayerHTML5Api84=function(){if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api20&&this.$VideoPlayerHTML5Api9.fallbackSources.HD?this.$VideoPlayerHTML5Api9.fallbackSources.HD:this.$VideoPlayerHTML5Api9.fallbackSources.SD;if(this.$VideoPlayerHTML5Api20&&this.$VideoPlayerHTML5Api10.hasHD())return this.$VideoPlayerHTML5Api115();else return this.$VideoPlayerHTML5Api116()};d.$VideoPlayerHTML5Api115=function(){if(this.$VideoPlayerHTML5Api21)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedHD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcHD()};d.$VideoPlayerHTML5Api116=function(){if(this.$VideoPlayerHTML5Api21)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedSD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcSD()};d.toggleSubtitles=function(){this.$VideoPlayerHTML5Api48=!this.$VideoPlayerHTML5Api48,this.$VideoPlayerHTML5Api93(),this.emit("toggleSubtitles")};d.hasSubtitles=function(){return this.$VideoPlayerHTML5Api10.hasSubtitles()||!!this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.hasSubtitles()};d.areSubtitlesActive=function(){return this.$VideoPlayerHTML5Api48};d.areSubtitlesAutogenerated=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.areSubtitlesAutogenerated():!1};d.areHLSActive=function(){return!1};d.isRTMP=function(){return!1};d.setSubtitlesStyle=function(a,b,c,d){this.$VideoPlayerHTML5Api49=a,this.$VideoPlayerHTML5Api50=b,this.$VideoPlayerHTML5Api51=c,this.$VideoPlayerHTML5Api52=d};d.$VideoPlayerHTML5Api93=function(){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.hasSubtitles()&&this.$VideoPlayerHTML5Api40.enableSubtitles(this.$VideoPlayerHTML5Api48),this.$VideoPlayerHTML5Api48?this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.showSubtitles():this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.hideSubtitles()};d.$VideoPlayerHTML5Api117=function(){this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api93(),this.emit("loadedSubtitles"),this.$VideoPlayerHTML5Api47.setSubtitlesStyle(this.$VideoPlayerHTML5Api49,this.$VideoPlayerHTML5Api50,this.$VideoPlayerHTML5Api51,this.$VideoPlayerHTML5Api52)};d.$VideoPlayerHTML5Api95=function(a){__p&&__p();var c=this;b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(b,d){c.$VideoPlayerHTML5Api47&&c.$VideoPlayerHTML5Api47.removeSubtitles();var e=c.$VideoPlayerHTML5Api9.subtitleDrawer;d=new d(c.$VideoPlayerHTML5Api39,a);c.$VideoPlayerHTML5Api47=new b(c.$VideoPlayerHTML5Api39,d);c.$VideoPlayerHTML5Api47.setOnSubtitlesReady(function(){return c.$VideoPlayerHTML5Api117()});c.$VideoPlayerHTML5Api47.registerDrawer(e);c.$VideoPlayerHTML5Api47.loadSubtitles()},"VideoPlayerHTML5Api")};d.$VideoPlayerHTML5Api94=function(){__p&&__p();var a=this,c=new(b("Deferred"))();b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(b,d){d=new d(a.$VideoPlayerHTML5Api39);c.resolve(d);a.$VideoPlayerHTML5Api47&&a.$VideoPlayerHTML5Api47.removeSubtitles();var e=a.$VideoPlayerHTML5Api9.subtitleDrawer;a.$VideoPlayerHTML5Api47=new b(a.$VideoPlayerHTML5Api39,d);a.$VideoPlayerHTML5Api47.setOnSubtitlesReady(function(){return a.$VideoPlayerHTML5Api117()});a.$VideoPlayerHTML5Api47.registerDrawer(e);a.$VideoPlayerHTML5Api47.loadSubtitles()},"VideoPlayerHTML5Api");return c.getPromise()};d.setStillFrameEnabled=function(a){this.$VideoPlayerHTML5Api44=!a};d.$VideoPlayerHTML5Api65=function(){__p&&__p();if(this.$VideoPlayerHTML5Api64("use_dimensions_fallbacks",!0)){var a=b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api39);if(a.width!==0&&a.height!==0)return a;else{a=this.$VideoPlayerHTML5Api39.getAttribute("data-video-width");var c=this.$VideoPlayerHTML5Api39.getAttribute("data-video-height");return{width:Number(a)||this.$VideoPlayerHTML5Api39.width||o,height:Number(c)||this.$VideoPlayerHTML5Api39.height||p}}}else return b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api39)};d.getDimensionsForDevice=function(){var a=window.devicePixelRatio||1,b=this.$VideoPlayerHTML5Api65();return{width:b.width*a,height:b.height*a}};d.$VideoPlayerHTML5Api118=function(){__p&&__p();if(this.$VideoPlayerHTML5Api44)return;if(!this.$VideoPlayerHTML5Api43){var a=this.$VideoPlayerHTML5Api65();a=b("DOM").create("canvas",{width:a.width,height:a.height,className:"_3t5i"});b("DOM").insertAfter(this.$VideoPlayerHTML5Api39,a);this.$VideoPlayerHTML5Api43=a=new(b("VideoFrameBuffer"))(a,this.$VideoPlayerHTML5Api39)}else a=this.$VideoPlayerHTML5Api43;b("CSS").show(a.getDOMNode());a.updateFrameBuffer();b("CSS").hide(this.$VideoPlayerHTML5Api39)};d.$VideoPlayerHTML5Api82=function(){if(!this.$VideoPlayerHTML5Api43)return;b("CSS").hide(this.$VideoPlayerHTML5Api43.getDOMNode());b("CSS").show(this.$VideoPlayerHTML5Api39)};d.$VideoPlayerHTML5Api86=function(a){__p&&__p();var c=this;a===void 0&&(a=null);var d=this.$VideoPlayerHTML5Api1;if(!d)return b("Promise").resolve();if(this.$VideoPlayerHTML5Api22)return this.$VideoPlayerHTML5Api23||b("Promise").resolve();var e=[];this.$VideoPlayerHTML5Api22=!0;this.emit("restoringAfterAbort");this.allowNextSeekInMixin();var f=a==null?d.currentTime:a;if(this.$VideoPlayerHTML5Api40){a=function(){return c.$VideoPlayerHTML5Api40&&c.$VideoPlayerHTML5Api40.reload(f)||b("Promise").resolve()};var g;this.$VideoPlayerHTML5Api64("delay_reload_for_unload_promise",!1)&&this.$VideoPlayerHTML5Api12?g=this.$VideoPlayerHTML5Api12.then(a):g=a();e.push(g)}else{a=this.$VideoPlayerHTML5Api84();a&&(this.$VideoPlayerHTML5Api39.src=a);this.$VideoPlayerHTML5Api39.preload=d.preload}var h=new(b("Deferred"))();e.push(h.getPromise());var i=function(){var a=c.$VideoPlayerHTML5Api88();c.$VideoPlayerHTML5Api64("create_restore_abort_loading_promise",!1)?h.resolve(a):h.resolve()};b("seekHTMLMediaElementTo")(this.$VideoPlayerHTML5Api39,f,function(){c.$VideoPlayerHTML5Api82(),c.$VideoPlayerHTML5Api1&&(c.$VideoPlayerHTML5Api39.muted=c.$VideoPlayerHTML5Api1.mutedState,c.$VideoPlayerHTML5Api1=null,c.emit("restoredAfterAbort")),c.$VideoPlayerHTML5Api22=!1,c.$VideoPlayerHTML5Api23=null,b("onCanPlayHTMLMediaElement").once(c.$VideoPlayerHTML5Api39,i)});this.$VideoPlayerHTML5Api23=b("Promise").all(e);return this.$VideoPlayerHTML5Api23};d.abortLoadingWithoutStillFrame=function(){__p&&__p();var a=this;if(this.$VideoPlayerHTML5Api1)return;var c=this.$VideoPlayerHTML5Api39.currentTime,d=this.isMuted(),e=this.$VideoPlayerHTML5Api39.duration,f=this.isPaused(),g=this.$VideoPlayerHTML5Api39.preload;if(b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_live_head_as_current_time",!1)&&this.$VideoPlayerHTML5Api10&&this.$VideoPlayerHTML5Api10.isLiveStream()){var h=this.getSeekableRanges();if(h){var i=h.length()-1;h=h.end(i);c=h}}this.$VideoPlayerHTML5Api34=!1;this.$VideoPlayerHTML5Api1={mutedState:d,currentTime:c,playbackDuration:e,preload:g};f&&this.$VideoPlayerHTML5Api19&&b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"pause");this.emit("abortedLoading");if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api40.unload().then(function(){return a.$VideoPlayerHTML5Api12=null})["catch"](function(){return a.$VideoPlayerHTML5Api12=null});return}this.$VideoPlayerHTML5Api39.preload="none";this.$VideoPlayerHTML5Api39.removeAttribute("src");this.$VideoPlayerHTML5Api39.load()};d.abortLoading=function(a){if(this.$VideoPlayerHTML5Api1)return;a=a||{};a.disableStillFrame||this.$VideoPlayerHTML5Api118();this.abortLoadingWithoutStillFrame()};d.setPreferredVideoQuality=function(a){__p&&__p();var c=this;this.$VideoPlayerHTML5Api33=a;if(!this.$VideoPlayerHTML5Api10)return;if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api40.setPreferredVideoQuality(a);return}b("VideoPlayerHTML5Experiments").newStateChangeCalculation||(this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"toggle_hd"})),this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,{reason:b("VideoPlayerReason").USER}));this.$VideoPlayerHTML5Api20=!this.$VideoPlayerHTML5Api20;var d=this.$VideoPlayerHTML5Api39.currentTime,e=this.$VideoPlayerHTML5Api39.muted,f=this.$VideoPlayerHTML5Api39.volume;a=this.$VideoPlayerHTML5Api84();a&&(this.$VideoPlayerHTML5Api39.src=a);b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api39,function(){c.$VideoPlayerHTML5Api39.currentTime=d,c.$VideoPlayerHTML5Api39.muted=e,c.$VideoPlayerHTML5Api39.volume=f,c.$VideoPlayerHTML5Api88(),c.emit("qualityChange")});this.$VideoPlayerHTML5Api32=!0;this.$VideoPlayerHTML5Api71(!0);this.$VideoPlayerHTML5Api90()};d.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Api33=null,this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.unsetPreferredVideoQuality()};d.getPreferredVideoQuality=function(){return this.$VideoPlayerHTML5Api33};d.getSelectedVideoQuality=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getSelectedVideoQuality():this.$VideoPlayerHTML5Api20?"HD":"SD"};d.getAvailableVideoQualities=function(){if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api9.fallbackSources.HD?["SD","HD"]:["SD"];if(!this.$VideoPlayerHTML5Api10)return[];return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getAvailableVideoQualities():this.$VideoPlayerHTML5Api10.hasHD()?["SD","HD"]:["SD"]};d.getIsAbrEnabled=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getIsAbrEnabled():!1};d.canAutoSelectVideoQuality=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.canAutoSelectVideoQuality():!1};d.setPreloadDisabled=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setPreloadDisabled(a)};d.restoreStreamBufferSize=function(){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.restoreStreamBufferSize()};d.setSmartBufferAdjustmentEnabled=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setSmartBufferAdjustmentEnabled(a)};c.getPlayerVersion=function(){return b("VideoPlayerVersions").PLEASANTVILLE};d.getUpdatedPlayerVersion=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getPlayerVersion()||c.getPlayerVersion():c.getPlayerVersion()};d.getVideoNodeSource=function(){return this.$VideoPlayerHTML5Api39.src||""};d.getVideoProjection=function(){if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35;if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api40.getVideoProjection();if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35}this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api10.getProjection();return this.$VideoPlayerHTML5Api35};d.$VideoPlayerHTML5Api119=function(){this.$VideoPlayerHTML5Api7=this.getCurrentTimePosition()};d.$VideoPlayerHTML5Api120=function(){this.$VideoPlayerHTML5Api7?(this.$VideoPlayerHTML5Api36=this.$VideoPlayerHTML5Api7,this.$VideoPlayerHTML5Api7=null):this.$VideoPlayerHTML5Api36=n};d.$VideoPlayerHTML5Api121=function(){this.$VideoPlayerHTML5Api8=this.getVolume(),this.$VideoPlayerHTML5Api6=this.isMuted()};d.$VideoPlayerHTML5Api122=function(){this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api6&&(this.setVolume(this.$VideoPlayerHTML5Api8),this.$VideoPlayerHTML5Api6?this.mute():this.unmute(),this.$VideoPlayerHTML5Api8=null,this.$VideoPlayerHTML5Api6=null)};d.reloadDashManifest=function(){var a=this.$VideoPlayerHTML5Api40;if(a){this.$VideoPlayerHTML5Api119();this.abortLoading();return this.$VideoPlayerHTML5Api123(function(){return a.refreshDashManifest()},this.$VideoPlayerHTML5Api36)}return b("Promise").reject()};d.reloadLiveVODHighlightsManifest=function(){var a=this.$VideoPlayerHTML5Api40;if(a){this.$VideoPlayerHTML5Api119();this.abortLoading();return this.$VideoPlayerHTML5Api123(function(){return a.refreshLiveVODHighlightsManifest()},this.$VideoPlayerHTML5Api36)}return b("Promise").reject()};d.$VideoPlayerHTML5Api123=function(a,b){var c=this;return a().then(function(){c.$VideoPlayerHTML5Api86(b),c.$VideoPlayerHTML5Api120()})};d.switchReplicaSet=function(a,c){__p&&__p();var d=this,e=this.$VideoPlayerHTML5Api40,f={failover_response_code:c.status,original_url:"",replica:a},g="";if(e){g=e.getManifestUrl()||g;f.original_url=g;this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REPLICA_SWITCH,{error_code:c.status,error_user_info:{failover_response_code:c.status,url:c.url||"",replica:a}});try{this.abortLoading(),e.switchReplicaSet(a)}catch(a){this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_FAILED,{reason:a.toString(),error_user_info:f});return}this.$VideoPlayerHTML5Api86().then(function(){d.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_SUCCESS,{error_code:c.status,error_user_info:f})})["catch"](function(a){d.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_FAILED,{reason:a.toString(),error_user_info:f})})}};d.isPlayingVODHighlights=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.isPlayingLiveVODHighlights():!1};d.$VideoPlayerHTML5Api88=function(){__p&&__p();var a=this,c=b("Promise").resolve();if(this.$VideoPlayerHTML5Api32){if(this.$VideoPlayerHTML5Api3)var d=b("EventListener").capture(this.$VideoPlayerHTML5Api39.parentNode,"play",function(a){b("Event").kill(a),d.remove()});this.$VideoPlayerHTML5Api39.ended&&!this.$VideoPlayerHTML5Api39.paused&&b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"play");if(this.$VideoPlayerHTML5Api40){var e=this.$VideoPlayerHTML5Api40,f=j&&j.isReady()&&j.get("www_videos_shaka_wait_for_buffered");c=f?this.$VideoPlayerHTML5Api124():e.play()}else b("VideoPlayerHTML5Experiments").preloadOnPlay&&(this.$VideoPlayerHTML5Api39.preload="auto"),c=this.$VideoPlayerHTML5Api39.play();c&&c["catch"]&&c["catch"](function(c){c.name==="NotAllowedError"&&(a.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,{reason:"not_allowed"}),a.$VideoPlayerHTML5Api112("flash/playbackNotAllowed")),a.$VideoPlayerHTML5Api71(!1)})}this.$VideoPlayerHTML5Api89();return c};d.isLiveVODHighlightsAvailable=function(){return this.$VideoPlayerHTML5Api17};d.setEnableLiveheadCatchup=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){return!!(this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.isFBWasLive())};d.isFBIsLiveTemplated=function(){return!!(this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.isFBIsLiveTemplated())};d.isFBMS=function(){return!!(this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.isFBMS())};d.isLiveheadCatchupEnabled=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.isLiveheadCatchupEnabled():!1};d.getSeekableRanges=function(){__p&&__p();if(this.$VideoPlayerHTML5Api40)return this.$VideoPlayerHTML5Api40.getSeekableRanges();var a=[];if(this.$VideoPlayerHTML5Api39){var c=this.$VideoPlayerHTML5Api39.seekable;for(var d=0;d<c.length;++d)a.push({startTime:c.start(d),endTime:c.end(d)})}a.length===0&&a.push({startTime:0,endTime:0});return new(b("TimeRanges"))(a)};d.$VideoPlayerHTML5Api124=function(){__p&&__p();var a,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:a=3;case 1:if(!(!this.$VideoPlayerHTML5Api13&&this.$VideoPlayerHTML5Api40)){f.next=12;break}if(!(this.$VideoPlayerHTML5Api39.buffered.length>0)){f.next=8;break}c=this.$VideoPlayerHTML5Api39.buffered.start(0);d=this.$VideoPlayerHTML5Api39.buffered.end(0);e=Math.round(d-c)>=a;if(!(e&&this.$VideoPlayerHTML5Api40)){f.next=8;break}return f.abrupt("return",this.$VideoPlayerHTML5Api40.play());case 8:f.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return b("setTimeout")(a,100)}));case 10:f.next=1;break;case 12:return f.abrupt("return",null);case 13:case"end":return f.stop()}},null,this)};c.getStartMutedFromConfig=function(a){return a.muted};c.getStreamTypeFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.getStreamType()};c.getIsServableViaFbmsFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isServableViaFbms()};c.getIsPlayingLiveFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isLiveStream()};c.getIsFacecastAudioFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isFacecastAudio()};c.getIsSpherical=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isSpherical()};return c}(b("classWithMixins")(b("AbstractVideoPlayerApi"),b("mixin")(b("HVideoPlayerMixin"))));a.networkTimeout=5e3;e.exports=a}),null);
__d("MosUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getQualityLabel:function(a,b){if(a===0||b===0)return 0;if(a<b){var c=a;a=b;b=c}c=a/b;return c>16/9?Math.round(a/(16/9)):b},getMosValue:function(a,b){__p&&__p();var c=null,d=null,e=null,f=null;for(var g=0;g<a.length;g++){var h=a[g].qualityLabel;if(h<=b)e=a[g].mosValue,c=h;else{f=a[g].mosValue;d=h;break}}if(c===null&&d===null)return 0;else if(c===null&&f!==null)return f;else if(d===null&&e!==null)return e;else if(f!==null&&e!==null&&c!==null&&d!==null){h=e+(b-c)*(f-e)/(d-c);return h<0?0:h>100?100:h}return 0},parsePlaybackMos:function(a){__p&&__p();a=a.split(",");var b=[];for(var c=0;c<a.length;c++){var d=a[c].split(":");if(d.length!==2)return null;var e=Number(d[0]);d=Number(d[1]);if(isNaN(e)||isNaN(d))return null;b.push({qualityLabel:e,mosValue:d})}return b},filterTracksWithExpensiveMos:function(a,b,c,d,e,f){__p&&__p();if(a.length<2)return a;var h=a.map(function(a){return{track:a,mosValue:a.playbackResolutionMos?g.getMosValue(a.playbackResolutionMos,g.getQualityLabel(b,c)):-1}}),i=[],j=e;for(var k=h.length-1;k>0;k--){if(h[k].mosValue===-1||h[k-1].mosValue===-1)return a;var l=h[k].track.bandwidth||-1,m=h[k-1].track.bandwidth||-1;if(l===-1||m===-1)return a;if(h[k].mosValue<h[k-1].mosValue&&l>=m)continue;l=h[k-1].track.bandwidth!==null?h[k].mosValue-h[k-1].mosValue:Infinity;if(l<=j&&h[k].track.bandwidth&&d/h[k].track.bandwidth<=f){j-=l;continue}else j=e;i.push(h[k].track)}i.push(h[0].track);i.reverse();return i}};e.exports=g}),null);
__d("BlobFactory",["emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(){try{new a.Blob(),g=!0}catch(a){g=!1}}var i=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;a.Blob?c={getBlob:function(b,c){__p&&__p();b=b||[];c=c||{};g===void 0&&h();if(g)return new a.Blob(b,c);else{var d=new i();for(var e=0;e<b.length;e++)d.append(b[e]);return d.getBlob(c.type)}},isSupported:b("emptyFunction").thatReturnsTrue}:c={getBlob:function(){},isSupported:b("emptyFunction").thatReturnsFalse};e.exports=c}),null);
__d("filterObject",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.prototype.hasOwnProperty;function a(a,b,c){if(!a)return null;var d={};for(var e in a)g.call(a,e)&&b.call(c,a[e],e,a)&&(d[e]=a[e]);return d}e.exports=a}),null);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","destroyOnUnload","emptyFunction","filterObject","getCrossOriginTransport","memoize","performanceNow"],(function(a,b,c,d,e,f,g){__p&&__p();var h=a.URL||a.webkitURL,i=function(){"use strict";__p&&__p();function c(a){__p&&__p();var c=this;this.$1=!1;this.$2=null;this.$3=a;this.__worker=null;this.$4=b("emptyFunction");this.$5=b("emptyFunction");this.$6=[];this.$7=[];this.$8=!1;this.$9=new(b("SubscriptionsHandler"))();this.$10=b("destroyOnUnload")(function(){c.$8||c.terminate()});this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$4=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$5=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$6.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$6=[],this.$7=[],this.$10&&this.$10.remove&&this.$10.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker.terminate();this.$12();return this};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$3,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){this.$8=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$2};d.$14=function(){__p&&__p();this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$3.sameOriginURL||this.$3.source||g(0,5982);this.$3.sameOriginURL?this.__worker=this.constructWorker(this.$3.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$3.source));this.$15("ping",Date.now());if(this.$3.dynamicModules)try{this.$15("defineModules",this.$3.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$6.forEach(function(a){return a()});this.$6=null;this.$7.forEach(function(a){return a()});this.$7=null};d.$13=function(){this.$9.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$3.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$8,state:this.$2}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:n(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$9.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.__worker,"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$5(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){__p&&__p();b=b.data;switch(b.type){case"message":this.$4(b.message);break;case"pong":this.$1=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$3.source?this.$3.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$2=a};c.prepareResource=function(d,e){__p&&__p();e=e||b("emptyFunction");d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("areSameOrigin")(new(b("URI"))(d.url),new(b("URI"))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=b("performanceNow")();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor(b("performanceNow")()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor(b("performanceNow")()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(h.revokeObjectURL&&h.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return m&&(c.$23()||n())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&o()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return h.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&k()};c.$20=function(){return l()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return j(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$7.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();function j(b){return new a.Worker(b)}var k=b("memoize")(function(){__p&&__p();var a;if(!h||!h.createObjectURL)return!1;try{a=h.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var c=j(a);c.terminate();c=!0}catch(a){c=!1}finally{h.revokeObjectURL&&h.revokeObjectURL(a)}return c}),l=b("memoize")(function(){try{var a=j("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),m=!!a.Worker,n=b("memoize")(function(){try{var a=j(i.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),o=b("memoize")(function(){try{var a=j(i.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});i.states=["constructed","preparing","executing","terminated"];i.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;e.exports=i}),null);
__d("WebWorkerTransferPromise",["invariant","Promise"],(function(a,b,c,d,e,f,g){__p&&__p();a={expectPromise:function(a){__p&&__p();var c=new(b("Promise"))(function(b,c){__p&&__p();function d(e){__p&&__p();e instanceof MessageEvent||g(0,1465);e=e.data;e||g(0,1466);var f=e.type;e=e.data;switch(f){case"resolve":b(e);break;case"reject":c(e);break;default:throw new Error("Expected a WebWorkerTransferPromise, but didn't receive one.")}a.removeEventListener("message",d)}a.addEventListener("message",d)});return c},sendPromise:function(a,b){function c(b){a.postMessage({type:"resolve",data:b})}function d(b){a.postMessage({type:"reject",data:b})}b(c,d)}};e.exports=a}),null);
__d("CEA608ExtractorWebWorker",["CEA608ExtractorWorkerResource","WebWorker","WebWorkerTransferPromise"],(function(a,b,c,d,e,f){__p&&__p();var g=null;function h(){g||(g=new(b("WebWorker"))(b("CEA608ExtractorWorkerResource")).setAllowCrossPageTransition(!0).execute());return g}a={isSupported:function(){return b("WebWorker").isMessageChannelSupported()},extract:function(a,c){var d=h().createMessageChannel({timescale:c,data:a});return b("WebWorkerTransferPromise").expectPromise(d)["finally"](function(){return d.close()})},prepare:function(){h()}};e.exports=a}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.__fbNativeSetTimeout,h=a.__fbNativeClearTimeout,i=window.requestIdleCallback,j=window.cancelIdleCallback,k=function(a){var b=function b(){a(b)};return b},l=function(a,b){var c=function c(){a(c,b)};return c},m=function(a,b){var c=function c(){a(c,b)};return c};c=function(){__p&&__p();function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null,this.$5=null}var c=a.prototype;c.enable=function(){if(this.$1||!this.$6())return;this.$7();this.$8();this.$1=!0};c.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?b("performanceNow")()-Number(this.$2):null};c.$9=function(){this.$2=b("Visibility").isHidden()?null:b("performanceNow")()};c.$10=function(){this.$2=null,typeof this.$5==="number"&&(j(this.$5),this.$5=null),typeof this.$4==="number"&&(h(this.$4),this.$4=null)};c.$8=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$11():this.$12()};c.$7=function(){var a=this;b("Visibility").addListener(b("Visibility").VISIBLE,function(){a.$10(),a.$8()});b("Visibility").addListener(b("Visibility").HIDDEN,function(){a.$10()})};c.$11=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(c>-1){var d=function b(){a.$9(),a.$4=g(b,c)};g(d,c)}};c.$12=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),d;c>-1&&(d={timeout:c});c=function c(e){a.$9(),a.$5=b("requestIdleCallback")(c,d)};b("requestIdleCallback")(c,d)};c.$6=function(){return b("Visibility").isSupported()&&typeof i==="function"&&typeof j==="function"&&typeof g==="function"&&typeof h==="function"};c.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=k(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=l(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=k(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof i==="function"&&(a=l(i,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof g==="function"&&(a=m(g,d));a&&a()};return a}();e.exports=new c()}),null);
__d("VideoPlayerPlayLogger",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c){var d=this;this.$3=new(b("SubscriptionsHandler"))();this.$1=a;this.$2=c;this.$3.addSubscriptions(b("EventListener").listen(this.$1,"playing",function(){return d.$5()}),b("EventListener").listen(this.$1,"pause",function(){return d.$6()}))}var c=a.prototype;c.playStarted=function(){(this.$1.paused||this.$1.ended)&&(this.$4=this.$2.getOperationLogger("play").setState("pending_play").start())};c.$6=function(){this.$4&&(this.$4.setResult("aborted").log(),this.$4=null)};c.$5=function(){this.$4&&(this.$4.log(),this.$4=null)};c.unload=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("extractCEA608",["CEA608ExtractorWebWorker","JSResource","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=b("gkx")("678908");function a(a,c){if(h&&b("CEA608ExtractorWebWorker").isSupported())return b("CEA608ExtractorWebWorker").extract(a,c);g||(g=b("JSResource")("CEA608Extractor").__setRef("extractCEA608").load().then(function(a){return new a(c)}));return g.then(function(b){return b.extract(a)})}a.prepare=function(){if(!h||!b("CEA608ExtractorWebWorker").isSupported())return;b("CEA608ExtractorWebWorker").prepare()};e.exports=a}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){typeof a==="number"&&(a=Math.floor(a));return a}var h=!1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.isEnabled=function(){return c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()||c.$ExtendableVideoPlayerShakaPerformanceTypedLogger5()};c.enable=function(){h=!0};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger5=function(){return h};var d=c.prototype;d.log=function(){c.isEnabled()&&a.prototype.log.call(this)};d.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=b;return a.prototype.setState.call(this,b)};d.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};d.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=b;a.prototype.setSequentialID.call(this,b);return this};d.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};d.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,g(b));return this};d.setSegmentTimeGap=function(b){a.prototype.setSegmentTimeGap.call(this,g(b));return this};d.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,g(b));return this};return c}(b("VideoPlayerShakaPerformanceTypedLogger"));e.exports=a}),null);
__d("VideoPlayerArtilleryOperationMarker",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=!1}var b=a.prototype;b.markOperationStart=function(){return this.$7("Starting")};b.markOperationEnd=function(){return this.$7("Ending")};b.$7=function(a){var b=this.$4();b&&b.inform(a+" "+this.$2+" #"+this.$3,{pointGroup:this.$5.getGroupName(this.$2,this.$1),isPointOfInterest:!0,type:null}).addStringAnnotation("resource",this.$1||"").addStringAnnotation("wasPrefetchCacheHit",this.$6.toString());return this};b.setResource=function(a){this.$1=a;return this};b.setWasPrefetchCacheHit=function(a){this.$6=a;return this};return a}();e.exports=a}),null);
__d("VideoPlayerArtilleryPointGrouper",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=new Map(),this.$2=new Map()}var b=a.prototype;b.getGroupName=function(a,b){__p&&__p();if(!b){switch(a){case"start_streams":a="source_attach";break}return a}a=this.$1.get(b);if(a)return a;var c;if(b.indexOf("-init.m4v")!==-1)c="-init.m4v";else if(b.indexOf("-init.m4a")!==-1)c="-init.m4a";else if(b.indexOf(".mpd")!==-1)return"source_load";else b.indexOf(".m4v")!==-1?c=".m4v":b.indexOf(".m4a")!==-1?c=".m4a":c="unknown";var d=this.$2.get(c)+1||1;this.$2.set(c,d);a=c+" #"+d;this.$1.set(b,a);return a};return a}();e.exports=a}),null);
__d("VideoPlayerArtilleryTrace",["TimeSliceInteraction","UserAgentData","VideoPlayerArtilleryOperationMarker","VideoPlayerArtilleryPointGrouper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e4,h=3e3;a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;this.$13=function(){var a=d.$2;if(a){var b=a.stallTrace,c=a.hasStalls;a=a.stallTraceTimeout;c?b.finish():b.disable();clearTimeout(a)}d.$2=null};this.$17=function(){return d.$1};this.$18=function(){var a=d.$2;return a?a.stallTrace:null};this.$4=c.videoID;this.$5=c.video;this.$6=a;this.$7=c.isLive;this.$9=c.playerOrigin;this.$10=c.playerSuborigin;this.$8=0;this.$11=new(b("VideoPlayerArtilleryPointGrouper"))()}var c=a.prototype;c.updateBufferAhead=function(a){var c=this.$2;!c&&a<=h?this.$2={stallTrace:this.$12(b("TimeSliceInteraction").create("video_stall")),hasStalls:!1,stallTraceTimeout:setTimeout(this.$13,g)}:a>h&&this.$13()};c.enterState=function(a){switch(a){case"loading":this.$14();break;case"playing":this.$15();break;default:this.$16(a);break}return this};c.$16=function(a){var b=this.$1;b&&b.inform("State: "+a)};c.getMarkers=function(a){var c=[],d=(++this.$8).toString();this.$1&&c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$17,this.$11));var e=this.$2;e&&(a==="buffering"&&(e.hasStalls=!0),c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$18,this.$11)));return c};c.$14=function(){var a=this.$12(b("TimeSliceInteraction").create("video_psr"));this.$1=a;this.$16("loading")};c.$15=function(){this.$16("playing");var a=this.$1;a&&(a.finish(),this.$1=null)};c.$12=function(a){a.trace().addStringAnnotation("videoID",this.$4).addStringAnnotation("sessionID",this.$6).addStringAnnotation("browserName",b("UserAgentData").browserName).addStringAnnotation("browserVersion",b("UserAgentData").browserVersion).addStringAnnotation("isLive",this.$7.toString()).addStringAnnotation("playerOrigin",this.$9||"").addStringAnnotation("playerSuborigin",this.$10||"");return a};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$8(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$8(a);return a};b.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};b.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};b.$8=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};return a}();e.exports=a}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$OzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$OzError1.extra||{}};c.getType=function(){return this.$OzError1.type};c.getDescription=function(){return this.$OzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerArtilleryTrace","VideoPlayerMainThreadAvailability","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","oz-player/utils/OzError","setTimeoutAcrossTransitions","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames,i=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};c.setVideoPlaybackExperienceIssue=function(a){c.$VideoPlayerShakaPerformanceLogger25=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),c.maybeEnableMainThreadAvailabilityLogging())};function c(d){__p&&__p();var e;e=a.call(this)||this;e.$VideoPlayerShakaPerformanceLogger11=!1;e.$VideoPlayerShakaPerformanceLogger22=0;e.$VideoPlayerShakaPerformanceLogger23=0;e.$VideoPlayerShakaPerformanceLogger21=d;e.$VideoPlayerShakaPerformanceLogger2=d.videoID;e.$VideoPlayerShakaPerformanceLogger4=d.video;e.$VideoPlayerShakaPerformanceLogger1=d.uniqueID;e.$VideoPlayerShakaPerformanceLogger3=0;e.$VideoPlayerShakaPerformanceLogger9=d.isLive;e.$VideoPlayerShakaPerformanceLogger10=d.isServableViaFbms;e.$VideoPlayerShakaPerformanceLogger8=null;e.$VideoPlayerShakaPerformanceLogger12=d.accessToken;e.$VideoPlayerShakaPerformanceLogger14=d.playerOrigin;e.$VideoPlayerShakaPerformanceLogger15=d.playerSuborigin;e.$VideoPlayerShakaPerformanceLogger16=d.playerVersion;e.$VideoPlayerShakaPerformanceLogger24=d.getBandwidthEstimate;e.setRepresentationID(d.representationId);e.$VideoPlayerShakaPerformanceLogger13=new(b("VideoPlayerArtilleryTrace"))(e.$VideoPlayerShakaPerformanceLogger1,d);c.maybeEnableMainThreadAvailabilityLogging();return e}c.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};var d=c.prototype;d.$VideoPlayerShakaPerformanceLogger26=function(a){__p&&__p();var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3));this.$VideoPlayerShakaPerformanceLogger13.updateBufferAhead((b.end(c)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3)}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};d.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};d.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};d.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};d.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};d.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger11=a};d.$VideoPlayerShakaPerformanceLogger27=function(){return this.$VideoPlayerShakaPerformanceLogger11};d.getEventLogger=function(a){__p&&__p();var d=this,e=Date.now(),f=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),i=this.$VideoPlayerShakaPerformanceLogger4.currentTime,j=this.$VideoPlayerShakaPerformanceLogger4.duration;this.$VideoPlayerShakaPerformanceLogger26(f).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(g(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(Math.round(this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger9))).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setPlayhead(Math.round(i*1e3)).setVideoDuration(Math.round(j*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger10).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger27()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatio(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger12).setVideoPlaybackExperienceIssue(c.$VideoPlayerShakaPerformanceLogger25).setClientTimeBegin(e).setClientTimeEnd(e);var k=this,l=f.setState;f.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?k.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(k.$VideoPlayerShakaPerformanceLogger6=null);k.$VideoPlayerShakaPerformanceLogger5=a;k.$VideoPlayerShakaPerformanceLogger13.enterState(a);return l.call(this,a)};f.updateState=function(a){if(this.getState()==k.$VideoPlayerShakaPerformanceLogger5){k.$VideoPlayerShakaPerformanceLogger13.enterState(a);return this.setState(a)}return this};var m=f.setError;f.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),m.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),m.call(this,a.type)),this.setCode(a.status)):m.call(this,a);return this};var n=f.setManifestType;f.setManifestType=function(a){d.$VideoPlayerShakaPerformanceLogger17=a;return n.call(f,a)};return f};d.getArtilleryMarkers=function(a){return this.$VideoPlayerShakaPerformanceLogger13.getMarkers(a)};d.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};d.createOperationLogger=function(a){__p&&__p();var c=this,d=this.getEventLogger(a),e=this.getArtilleryMarkers(a),f=d.setResource;d.setResource=function(a){e.forEach(function(b){return b.setResource(a)});return f.call(d,a)};var g=d.log,h=this,j=!1,k=null;d.log=function(){__p&&__p();if(j)return;b("clearTimeout")(k);var c=Date.now();this.setClientTimeEnd(c);var d=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(d!=null?Math.round(d):null);h.$VideoPlayerShakaPerformanceLogger28(d);h.$VideoPlayerShakaPerformanceLogger22=c;a==="buffering"&&(h.$VideoPlayerShakaPerformanceLogger7=Date.now());e.forEach(function(a){return a.markOperationEnd()});j=!0;return g.call(this)};d.start=function(){e.forEach(function(a){return a.markOperationStart()});k=b("setTimeoutAcrossTransitions")(function(){k=null,d.setResult("timeout"),d.log()},i);return d};d.setWasPrefetchCacheHit=function(a){e.forEach(function(b){return b.setWasPrefetchCacheHit(a)});return d};d.setLiveheadPosition=function(a){c.$VideoPlayerShakaPerformanceLogger8=a;d.setLiveheadDelta(c.getLiveheadDelta());return d};var l=d.setDynamicBitrate;d.setDynamicBitrate=function(a){a=Number(a)||null;c.setDynamicBitrate(a);return l.call(d,a)};var m=d.setLowestQualityRepresentationID;d.setLowestQualityRepresentationID=function(a){c.$VideoPlayerShakaPerformanceLogger18=a;return m.call(d,a)};return d};d.$VideoPlayerShakaPerformanceLogger28=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<c||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger22).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger22-this.$VideoPlayerShakaPerformanceLogger23)).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};d.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger25=null;e.exports=a}),null);
__d("ActorURI",["ActorURIConfig","URI"],(function(a,b,c,d,e,f){a={create:function(a,c){return new(b("URI"))(a).addQueryData(b("ActorURIConfig").PARAMETER_ACTOR,c)},PARAMETER_ACTOR:b("ActorURIConfig").PARAMETER_ACTOR};e.exports=a}),null);
__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.patchRequestHeaders=function(a){var c={},d=b("RTISubscriptionManagerConfig").bladerunner_www_sandbox;if(d!=null){var e=b("nullthrows")(a.method);e.startsWith("FBLQ:")||(c["javascript-sandbox"]=d)}for(var f in a)c[f]=a[f];return c};return a}();c=new a();e.exports=c}),null);
__d("BladeRunnerLogger",["BanzaiODS","CurrentUser","FBLogger","RealtimeRequestStreamWebClientTypedLogger","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g="bladerunner_js_client",h={info:"info",warning:"warning",exception:"exception"};a=function(){"use strict";__p&&__p();function a(){this.$1=this.$4(),this.setFBLoggerLevel(1)}var c=a.prototype;c.info=function(a){this.$3>=2&&b("FBLogger")(g).info(a),this.$5(h.info,a)};c.warn=function(a){this.$3>=1&&b("FBLogger")(g).warn(a),this.$5(h.warning,a)};c.exception=function(a,c){c===void 0&&(c="");c=c+" "+a.toString();this.$3>=0&&b("FBLogger")(g).warn(c);this.$5(h.exception,c)};c.bumpCounter=function(a,c){c===void 0&&(c=1),b("BanzaiODS").bumpEntityKey("BladeRunnerClient",a,c)};c.setClientSessionId=function(a){this.$2=a};c.setFBLoggerLevel=function(a){this.$3=a};c.$5=function(a,c){if(this.$1){a=new(b("RealtimeRequestStreamWebClientTypedLogger"))().setClientTimeMs(Date.now()).setSeverity(a).setMessage(c).setClientSessionID(this.$2).setUserFbid(b("CurrentUser").getID());a.log()}};c.$4=function(){return b("gkx")("676834")};return a}();c=new a();e.exports=c}),null);
__d("BladeRunnerTypes",[],(function(a,b,c,d,e,f){a={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6};b={BLADE_RUNNER:1,GATEWAY:2};c={ACCEPTED:1,REJECTED:2,STARTED:3,PAUSED:4,CLOSED:5};e.exports={StreamFrameType:a,StreamRequestType:b,StreamStatus:c}}),null);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")};a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.requestType=n(b.requestType);c.payload=q(b.payload);c.headers=t(b.headers);c.extraHeader=q(b.extraHeader);c.requestTarget=q(b.requestTarget);return c};return a}(),h=function(){"use strict";__p&&__p();function a(){}a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.dataId=o(b.dataId);c.data=q(b.data);c.shouldAck=v(b.shouldAck);return c};var c=a.prototype;c.decodeData=function(){if(this.data==null)throw new Error("Expected data");return b("Base64").decode(this.data)};c.setData=function(a){this.data=b("Base64").encode(a)};return a}(),i=function(){"use strict";__p&&__p();function a(){}a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.dataId=n(b.dataId);c.success=u(b.success);c.message=q(b.message);c.code=o(b.code);return c};return a}(),j=function(){"use strict";function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.message=q(b.message);return c};return a}(),k=function(){"use strict";__p&&__p();function a(){}a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.status=n(b.status);c.message=q(b.message);c.code=o(b.code);c.shouldRetry=v(b.shouldRetry);c.retryDelayMs=o(b.retryDelayMs);return c};return a}(),l=function(){"use strict";__p&&__p();function a(){}a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.newBody=q(b.newBody);c.newExtraHeader=q(b.newExtraHeader);c.patchExtraHeader=q(b.patchExtraHeader);c.killBody=v(b.killBody);c.temporary=v(b.temporary);return c};return a}(),m=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.getRequest=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")};c.getData=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")};c.getDataAck=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")};c.getStatusUpdate=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")};c.getLog=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")};c.getRewriteRequest=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")};c.getStreamId=function(){__p&&__p();if(this.type==b("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;throw new Error("Frame with unexpected type")};a.readObject=function(c){__p&&__p();var d=new a();d.type=n(c.type);switch(d.type){case b("BladeRunnerTypes").StreamFrameType.REQUEST:d.request=g.readObject(r(c.request));break;case b("BladeRunnerTypes").StreamFrameType.DATA:d.data=h.readObject(r(c.data));break;case b("BladeRunnerTypes").StreamFrameType.DATA_ACK:d.dataAck=i.readObject(r(c.dataAck));break;case b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:d.statusUpdate=k.readObject(r(c.statusUpdate));break;case b("BladeRunnerTypes").StreamFrameType.LOG:d.log=j.readObject(r(c.log));break;case b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:d.rewriteRequest=l.readObject(r(c.rewriteRequest));break;default:b("BladeRunnerLogger").warn("Frame with unexpected type: "+d.type);return null}return d};a.newRequestFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.REQUEST;d.request=c;return d};a.newDataFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.DATA;d.data=c;return d};a.newDataAckFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.DATA_ACK;d.dataAck=c;return d};a.newStatusUpdateFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE;d.statusUpdate=c;return d};a.newLogFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.LOG;d.log=c;return d};a.newRewriteRequestFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST;d.rewriteRequest=c;return d};return a}();a=function(){"use strict";__p&&__p();function a(a,b){this.batchId=a,this.frames=b}var b=a.prototype;b.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")};b.write=function(){return JSON.stringify(this)};a.read=function(b){__p&&__p();b=JSON.parse(b);var c=b.batchId||0,d=[];for(var b=b.frames,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;g=m.readObject(g);g!=null&&d.push(g)}return new a(c,d)};return a}();function n(a){if(typeof a==="number")return a;throw new Error("Expected number")}function o(a){return a==null?null:n(a)}function p(a){if(typeof a==="string")return a;throw new Error("Expected string")}function q(a){return a==null?null:p(a)}function r(a){if(typeof a==="object"&&a!=null)return a;throw new Error("Expected object")}function s(a){if(typeof a==="object"&&a!=null){var b=a,c={};Object.keys(b).forEach(function(a){var d=b[a];typeof d==="string"&&d!=null&&(c[a]=d)});return c}throw new Error("Expected string map")}function t(a){return a==null?null:s(a)}function u(a){if(typeof a==="boolean"&&a!=null)return a;throw new Error("Expected boolean")}function v(a){return a==null?null:u(a)}e.exports={GatewayStreamBatch:a,GatewayStreamData:h,GatewayStreamDataAck:i,GatewayStreamFrame:m,GatewayStreamLog:j,GatewayStreamRequest:g,GatewayStreamRewriteRequest:l,GatewayStreamStatusUpdate:k}}),null);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerTypes","BladeRunnerTypesInternal","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;a=function(){"use strict";__p&&__p();function a(a,b,c){this.$2=a,this.$1=b,this.$3=c}var c=a.prototype;c.onProxyResponse=function(a){__p&&__p();this.$4(a);var c=[];for(var d=a.getFrames(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;this.$2.witnessFrame(g)&&c.push(g)}c.length>0&&this.$5(new(b("BladeRunnerTypesInternal").GatewayStreamBatch)(a.batchId,c))};c.onDisconnect=function(){this.$2.resetErrors();var a=new(b("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();a.streamId=this.$2.getRequest().streamId;a.status=b("BladeRunnerTypes").StreamStatus.CLOSED;a.shouldRetry=!0;a.retryDelayMs=0;a=new(b("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[b("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a)]);this.onProxyResponse(a)};c.$4=function(a){__p&&__p();var c=this;a=a.getFrames().filter(function(a){return a.type==b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=f.getStatusUpdate();if(f.status==b("BladeRunnerTypes").StreamStatus.CLOSED||f.status==b("BladeRunnerTypes").StreamStatus.REJECTED){this.$2.onError();var h=f.shouldRetry!=null&&f.shouldRetry,i=f.message!=null?f.message:"null";if(h&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){f.status=b("BladeRunnerTypes").StreamStatus.PAUSED;var j=g;f.retryDelayMs!=null&&(j=f.retryDelayMs);b("BladeRunnerLogger").info("Can retry: stream "+f.streamId+" closed with status "+f.status+", message "+i+". Error count: "+this.$2.getErrorCount()+", retryDelay "+j+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString());this.$2.getRetryRequestScheduled()?b("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(b("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),j>0?b("setTimeoutAcrossTransitions")(function(){return c.$6()},j):this.$6())}else b("BladeRunnerLogger").info("Will not retry: stream "+f.streamId+" closed with status "+f.status+", message "+i+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+h.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),h?b("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):b("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(f.streamId)}}};c.$6=function(){this.$2.setRetryRequestScheduled(!1),this.$2.isAlive()&&this.$3.sendRetryStreamRequest(this.$2)};c.$5=function(a){__p&&__p();b("BladeRunnerLogger").bumpCounter("send_to_handler");var c=[];this.$1.onBatch(a);for(var a=a.getFrames(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;try{switch(f.type){case b("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(f.getData().decodeData());c.push(f.getData());break;case b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(f.getStatusUpdate().status);break;case b("BladeRunnerTypes").StreamFrameType.LOG:f=f.getLog().message;f!=null&&this.$1.onLog(f);break;default:throw new Error("Frame with unexpected type")}}catch(a){b("BladeRunnerLogger").bumpCounter("send_to_handler_error"),b("BladeRunnerLogger").exception(a,"Failed sending frame to stream handler")}}this.$7(c)};c.$7=function(a){__p&&__p();var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f.shouldAck===!0&&f.dataId!=null){var g=new(b("BladeRunnerTypesInternal").GatewayStreamDataAck)();g.streamId=f.streamId;g.dataId=f.dataId;g.success=!0;c.push(g)}}this.$3.sendDataAcks(c)};return a}();e.exports=a}),null);
__d("uuid",[],(function(a,b,c,d,e,f){function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}e.exports=a}),null);
__d("ChannelClientID",["uuid"],(function(a,b,c,d,e,f){"use strict";var g=b("uuid")();a={getID:function(){return g}};e.exports=a}),null);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={},this.$2=new Set()}var b=a.prototype;b.addHook=function(a){this.$2.add(a)};b.removeHook=function(a){this.$2["delete"](a)};b.onConnectAttempt=function(){this.$2.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$2.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$2.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$2.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$2.forEach(function(a){a.onConnectionLost()})};b.onSubscribe=function(a){this.$2.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$2.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$2.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$2.forEach(function(b){b.onMessage(a)})};return a}();e.exports=a}),null);
__d("FantailLogger",["FantailConfig"],(function(a,b,c,d,e,f){__p&&__p();var g=b("FantailConfig").FantailLogQueue;a={debug:function(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];g&&(c=g.get(a)).debug.apply(c,[b].concat(e))},info:function(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];g&&(c=g.get(a)).info.apply(c,[b].concat(e))},warn:function(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];g&&(c=g.get(a)).warn.apply(c,[b].concat(e))},error:function(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];g&&(c=g.get(a)).error.apply(c,[b].concat(e))}};e.exports=a}),null);
__d("MqttLogger",["BanzaiODS","FantailLogger","FBLogger","Log","LogHistory","MqttWsClientTypedLogger","Random","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="mqtt_client",h="MqttJsClient",i=null,j={CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish"};a=function(){__p&&__p();a.getInstance=function(){i||(i=new a());return i};function a(){this.$1=b("LogHistory").getInstance(g),this.$2=0,this.$3=b("gkx")("778292"),this.$4=Math.floor(b("Random").random()*Number.MAX_SAFE_INTEGER),this.$5=Date.now()}var c=a.prototype;c.setAppId=function(a){this.$2===0&&(this.$2=a)};c.logConnect=function(a){var c=a.sessionID,d=a.connectionStatus,e=a.duration,f=a.hostname,g=a.attemptNumber,h=a.failTotal,i=a.successTotal,k=a.subscribedTopics,l=a.errorCode;a=a.errorMessage;var m=d?"success":"failed";this.bumpCounter(j.CONNECT+"."+m);m=new(b("MqttWsClientTypedLogger"))().setUserSessionID(this.$4).setSessionID(c).setHref(window.location.hostname).setConnectionStatus(d).setDuration(e).setHostname(f).setAttemptNumber(g).setFailTotal(h).setSuccessTotal(i).setTimePassed(Date.now()-this.$5).setSubscribedTopics(k).setErrorCode(l).setErrorMessage(a);this.$6(j.CONNECT,m)};c.logDisconnect=function(a){var c=a.sessionID,d=a.errorCode,e=a.errorMessage;a=a.duration;this.bumpCounter(j.DISCONNECT);c=new(b("MqttWsClientTypedLogger"))().setUserSessionID(this.$4).setSessionID(c).setHref(window.location.hostname).setDuration(a).setErrorCode(d).setErrorMessage(e).setTimePassed(Date.now()-this.$5);this.$6(j.DISCONNECT,c)};c.logPublish=function(a){var c=a.sessionID,d=a.topic,e=a.connectionStatus;a=a.publishStatus;this.bumpCounter(j.PUBLISH+"."+d);c=new(b("MqttWsClientTypedLogger"))().setUserSessionID(this.$4).setHref(window.location.hostname).setSessionID(c).setTopic(d).setConnectionStatus(e).setPublishStatus(a).setTimePassed(Date.now()-this.$5);this.$6(j.PUBLISH,c)};c.logError=function(a,c){try{b("FBLogger")(g).catching(a).mustfix(c),this.$7(b("FantailLogger").error,c)}catch(a){}};c.logErrorWarn=function(a,c){try{b("FBLogger")(g).catching(a).warn(c),this.$7(b("FantailLogger").warn,c)}catch(a){}};c.logWarn=function(a,c){try{this.$1.warn(a,c),this.$7(b("FantailLogger").warn,c)}catch(a){}};c.debugTrace=function(a,c){try{this.$1.debug(a,c),this.$7(b("FantailLogger").debug,c)}catch(a){}};c.bumpCounter=function(a){this.$2!==0&&b("BanzaiODS").bumpEntityKey("mqtt_ws_client",this.$2+"."+a),b("BanzaiODS").bumpEntityKey("mqtt_ws_client",a)};c.$6=function(a,c){c.setEventType(a);c.setAppID(this.$2);c.setOnline(this.$8());var d=JSON.stringify(c.getData());this.$1.log(a,d);a!==j.PUBLISH&&c.log();this.$7(b("FantailLogger").info,d)};c.$7=function(a,c){b("gkx")("676936")&&a(h,c)};c.$8=function(){return window.navigator&&window.navigator.onLine!==void 0?window.navigator.onLine:!1};return a}();e.exports=a}),null);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){this.errorCode=a,this.errorMessage=b};b=function(a,b){this.mqttError=a,this.connAck=b};c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));e.exports={MqttError:a,MqttChannelError:c,ConnectFailure:b}}),null);
__d("MqttUserName",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d}var b=a.prototype;b.gen=function(a,b,c){a={u:this.$1,s:a,cp:1,ecp:this.$2,chat_on:!0,fg:1,d:this.$3,ct:"websocket",mqtt_sid:"",aid:this.$4,st:b,pm:c,dc:""};return JSON.stringify(a)};return a}();e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/Irg6QaR_7LF/
 */
__d("paho-mqtt",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();(function(a,b){typeof f==="object"&&typeof e==="object"?e.exports=b():typeof define==="function"&&define.amd?define(b):typeof f==="object"?f=b():(typeof a.Paho==="undefined"&&(a.Paho={}),a.Paho.MQTT=b())})(this,function(){__p&&__p();var c=function(c){__p&&__p();var d="@VERSION@",e={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},f=function(a,b){__p&&__p();for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(Object.prototype.hasOwnProperty.call(b,c)){if(typeof a[c]!==b[c])throw new Error(j(h.INVALID_TYPE,[typeof a[c],c]))}else{var d="Unknown property, "+c+". Valid properties are:";for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(d=d+" "+e);throw new Error(d)}},g=function(a,b){return function(){return a.apply(b,arguments)}},h={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out. SocketState: {0}, HasSocketError: {1}."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out. HasSocketError: {0}."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed: code {0} reason {1} wasClean {2}."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},i={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},j=function(a,b){__p&&__p();a=a.text;if(b){var c,d;for(var e=0;e<b.length;e++){c="{"+e+"}";d=a.indexOf(c);if(d>0){var f=a.substring(0,d);d=a.substring(d+c.length);a=f+b[e]+d}}}return a},k=[0,6,77,81,73,115,100,112,3],l=[0,4,77,81,84,84,4],m=function(a,b){this.type=a;for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(this[c]=b[c])};m.prototype.encode=function(){__p&&__p();var a=(this.type&15)<<4,b=0,c=[],d=0,f;this.messageIdentifier!==void 0&&(b+=2);switch(this.type){case e.CONNECT:switch(this.mqttVersion){case 3:b+=k.length+3;break;case 4:b+=l.length+3;break}b+=s(this.clientId)+2;this.willMessage!==void 0&&(b+=s(this.willMessage.destinationName)+2,f=this.willMessage.payloadBytes,f instanceof Uint8Array||(f=new Uint8Array(h)),b+=f.byteLength+2);this.userName!==void 0&&(b+=s(this.userName)+2);this.password!==void 0&&(b+=s(this.password)+2);break;case e.SUBSCRIBE:a|=2;for(var g=0;g<this.topics.length;g++)c[g]=s(this.topics[g]),b+=c[g]+2;b+=this.requestedQos.length;break;case e.UNSUBSCRIBE:a|=2;for(var g=0;g<this.topics.length;g++)c[g]=s(this.topics[g]),b+=c[g]+2;break;case e.PUBREL:a|=2;break;case e.PUBLISH:this.payloadMessage.duplicate&&(a|=8);a=a|=this.payloadMessage.qos<<1;this.payloadMessage.retained&&(a|=1);d=s(this.payloadMessage.destinationName);b+=d+2;var h=this.payloadMessage.payloadBytes;b+=h.byteLength;h instanceof ArrayBuffer?h=new Uint8Array(h):h instanceof Uint8Array||(h=new Uint8Array(h.buffer));break;case e.DISCONNECT:break;default:break}var i=r(b),j=i.length+1;b=new ArrayBuffer(b+j);var m=new Uint8Array(b);m[0]=a;m.set(i,1);if(this.type==e.PUBLISH)j=p(this.payloadMessage.destinationName,d,m,j);else if(this.type==e.CONNECT){switch(this.mqttVersion){case 3:m.set(k,j);j+=k.length;break;case 4:m.set(l,j);j+=l.length;break}a=0;this.cleanSession&&(a=2);this.willMessage!==void 0&&(a|=4,a|=this.willMessage.qos<<3,this.willMessage.retained&&(a|=32));this.userName!==void 0&&(a|=128);this.password!==void 0&&(a|=64);m[j++]=a;j=o(this.keepAliveInterval,m,j)}this.messageIdentifier!==void 0&&(j=o(this.messageIdentifier,m,j));switch(this.type){case e.CONNECT:j=p(this.clientId,s(this.clientId),m,j);this.willMessage!==void 0&&(j=p(this.willMessage.destinationName,s(this.willMessage.destinationName),m,j),j=o(f.byteLength,m,j),m.set(f,j),j+=f.byteLength);this.userName!==void 0&&(j=p(this.userName,s(this.userName),m,j));this.password!==void 0&&(j=p(this.password,s(this.password),m,j));break;case e.PUBLISH:m.set(h,j);break;case e.SUBSCRIBE:for(var g=0;g<this.topics.length;g++)j=p(this.topics[g],c[g],m,j),m[j++]=this.requestedQos[g];break;case e.UNSUBSCRIBE:for(var g=0;g<this.topics.length;g++)j=p(this.topics[g],c[g],m,j);break;default:}return b};function n(a,b){__p&&__p();var c=b,d=a[b],f=d>>4;d=d&=15;b+=1;var g,h=0,i=1;do{if(b==a.length)return[null,c];g=a[b++];h+=(g&127)*i;i*=128}while((g&128)!==0);g=b+h;if(g>a.length)return[null,c];i=new m(f);switch(f){case e.CONNACK:h=a[b++];h&1&&(i.sessionPresent=!0);i.returnCode=a[b++];break;case e.PUBLISH:c=d>>1&3;f=q(a,b);b+=2;h=u(a,b,f);b+=f;c>0&&(i.messageIdentifier=q(a,b),b+=2);f=new z(a.subarray(b,g));(d&1)==1&&(f.retained=!0);(d&8)==8&&(f.duplicate=!0);f.qos=c;f.destinationName=h;i.payloadMessage=f;break;case e.PUBACK:case e.PUBREC:case e.PUBREL:case e.PUBCOMP:case e.UNSUBACK:i.messageIdentifier=q(a,b);break;case e.SUBACK:i.messageIdentifier=q(a,b);b+=2;i.returnCode=a.subarray(b,g);break;default:break}return[i,g]}function o(a,b,c){b[c++]=a>>8;b[c++]=a%256;return c}function p(a,b,c,d){d=o(b,c,d);t(a,c,d);return d+b}function q(a,b){return 256*a[b]+a[b+1]}function r(a){var b=new Array(1),c=0;do{var d=a%128;a=a>>7;a>0&&(d|=128);b[c++]=d}while(a>0&&c<4);return b}function s(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d>2047?(55296<=d&&d<=56319&&(c++,b++),b+=3):d>127?b+=2:b++}return b}function t(a,b,c){__p&&__p();c=c;for(var d=0;d<a.length;d++){var e=a.charCodeAt(d);if(55296<=e&&e<=56319){var f=a.charCodeAt(++d);if(isNaN(f))throw new Error(j(h.MALFORMED_UNICODE,[e,f]));e=(e-55296<<10)+(f-56320)+65536}e<=127?b[c++]=e:e<=2047?(b[c++]=e>>6&31|192,b[c++]=e&63|128):e<=65535?(b[c++]=e>>12&15|224,b[c++]=e>>6&63|128,b[c++]=e&63|128):(b[c++]=e>>18&7|240,b[c++]=e>>12&63|128,b[c++]=e>>6&63|128,b[c++]=e&63|128)}return b}function u(a,b,c){__p&&__p();var d="",e,f=b;while(f<b+c){var g=a[f++];if(g<128)e=g;else{var i=a[f++]-128;if(i<0)throw new Error(j(h.MALFORMED_UTF,[g.toString(16),i.toString(16),""]));if(g<224)e=64*(g-192)+i;else{var k=a[f++]-128;if(k<0)throw new Error(j(h.MALFORMED_UTF,[g.toString(16),i.toString(16),k.toString(16)]));if(g<240)e=4096*(g-224)+64*i+k;else{var l=a[f++]-128;if(l<0)throw new Error(j(h.MALFORMED_UTF,[g.toString(16),i.toString(16),k.toString(16),l.toString(16)]));if(g<248)e=262144*(g-240)+4096*i+64*k+l;else throw new Error(j(h.MALFORMED_UTF,[g.toString(16),i.toString(16),k.toString(16),l.toString(16)]))}}}e>65535&&(e-=65536,d+=String.fromCharCode(55296+(e>>10)),e=56320+(e&1023));d+=String.fromCharCode(e)}return d}var v=function(a,c,d){__p&&__p();this._client=a;this._window=c;this._keepAliveInterval=d*1e3;this.isReset=!1;var f=new m(e.PINGREQ).encode(),g=function(a){return function(){return i.apply(a)}},i=function(){!this.isReset?(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(h.PING_TIMEOUT.code,j(h.PING_TIMEOUT,[this._client._hasSocketError]))):(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(f),this.timeout=b("setTimeoutAcrossTransitions")(g(this),this._keepAliveInterval))};this.reset=function(){this.isReset=!0,this._window.clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=b("setTimeoutAcrossTransitions")(g(this),this._keepAliveInterval))};this.cancel=function(){this._window.clearTimeout(this.timeout)}},w=function(a,c,d,e,f){this._window=c;d||(d=30);c=function(b,a,c){return function(){return b.apply(a,c)}};this.timeout=b("setTimeoutAcrossTransitions")(c(e,a,f),d*1e3);this.cancel=function(){this._window.clearTimeout(this.timeout)}},x=function(a,b,d,e,f){__p&&__p();if(!("WebSocket"in c&&c.WebSocket!==null))throw new Error(j(h.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in c&&c.ArrayBuffer!==null))throw new Error(j(h.UNSUPPORTED,["ArrayBuffer"]));this._trace("Paho.MQTT.Client",a,b,d,e,f);this.host=b;this.port=d;this.path=e;this.uri=a;this.clientId=f;this._wsuri=null;this._localKey=b+":"+d+(e!="/mqtt"?":"+e:"")+":"+f+":";this._msg_queue=[];this._buffered_msg_queue=[];this._sentMessages={};this._receivedMessages={};this._notify_msg_sent={};this._message_identifier=1;this._sequence=0};x.prototype.host=null;x.prototype.port=null;x.prototype.path=null;x.prototype.uri=null;x.prototype.clientId=null;x.prototype.socket=null;x.prototype.connected=!1;x.prototype.maxMessageIdentifier=6e4;x.prototype.connectOptions=null;x.prototype.hostIndex=null;x.prototype.onConnected=null;x.prototype.onConnectionLost=null;x.prototype.onMessageDelivered=null;x.prototype.onMessageArrived=null;x.prototype.traceFunction=null;x.prototype._msg_queue=null;x.prototype._buffered_msg_queue=null;x.prototype._connectTimeout=null;x.prototype.sendPinger=null;x.prototype.receivePinger=null;x.prototype._reconnectInterval=1;x.prototype._reconnecting=!1;x.prototype._hasSocketError=!1;x.prototype._reconnectTimeout=null;x.prototype.disconnectedPublishing=!1;x.prototype.disconnectedBufferSize=5e3;x.prototype.receiveBuffer=null;x.prototype._traceBuffer=null;x.prototype._MAX_TRACE_ENTRIES=100;x.prototype.connect=function(a){__p&&__p();var b=this._traceMask(a,"password");this._trace("Client.connect",b,this.socket,this.connected);if(this.connected)throw new Error(j(h.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(j(h.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1);this.connectOptions=a;this._reconnectInterval=1;this._reconnecting=!1;a.uris?(this.hostIndex=0,this._doConnect(a.uris[0])):this._doConnect(this.uri)};x.prototype.subscribe=function(a,b){__p&&__p();this._trace("Client.subscribe",a,b);if(!this.connected)throw new Error(j(h.INVALID_STATE,["not connected"]));var c=new m(e.SUBSCRIBE);c.topics=[a];b.qos!==void 0?c.requestedQos=[b.qos]:c.requestedQos=[0];b.onSuccess&&(c.onSuccess=function(a){b.onSuccess({invocationContext:b.invocationContext,grantedQos:a})});b.onFailure&&(c.onFailure=function(a){b.onFailure({invocationContext:b.invocationContext,errorCode:a,errorMessage:j(a)})});b.timeout&&(c.timeOut=new w(this,window,b.timeout,b.onFailure,[{invocationContext:b.invocationContext,errorCode:h.SUBSCRIBE_TIMEOUT.code,errorMessage:j(h.SUBSCRIBE_TIMEOUT)}]));this._requires_ack(c);this._schedule_message(c)};x.prototype.unsubscribe=function(a,b){__p&&__p();this._trace("Client.unsubscribe",a,b);if(!this.connected)throw new Error(j(h.INVALID_STATE,["not connected"]));var c=new m(e.UNSUBSCRIBE);c.topics=[a];b.onSuccess&&(c.callback=function(){b.onSuccess({invocationContext:b.invocationContext})});b.timeout&&(c.timeOut=new w(this,window,b.timeout,b.onFailure,[{invocationContext:b.invocationContext,errorCode:h.UNSUBSCRIBE_TIMEOUT.code,errorMessage:j(h.UNSUBSCRIBE_TIMEOUT)}]));this._requires_ack(c);this._schedule_message(c)};x.prototype.send=function(a){this._trace("Client.send",a);wireMessage=new m(e.PUBLISH);wireMessage.payloadMessage=a;a.qos>0?this._requires_ack(wireMessage):this.onMessageDelivered&&(this._notify_msg_sent[wireMessage]=this.onMessageDelivered(wireMessage.payloadMessage,null));this._schedule_message(wireMessage);return wireMessage.messageIdentifier};x.prototype.disconnect=function(){this._trace("Client.disconnect");this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1);if(!this.socket)throw new Error(j(h.INVALID_STATE,["not connecting or connected"]));wireMessage=new m(e.DISCONNECT);this._notify_msg_sent[wireMessage]=g(this._disconnected,this);this._schedule_message(wireMessage)};x.prototype.getTraceLog=function(){if(this._traceBuffer!==null){this._trace("Client.getTraceLog",new Date());this._trace("Client.getTraceLog in flight messages",this._sentMessages.length);for(var a in this._sentMessages)this._trace("_sentMessages ",a,this._sentMessages[a]);for(var a in this._receivedMessages)this._trace("_receivedMessages ",a,this._receivedMessages[a]);return this._traceBuffer}};x.prototype.startTrace=function(){this._traceBuffer===null&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date(),d)};x.prototype.stopTrace=function(){delete this._traceBuffer};x.prototype._doConnect=function(a){__p&&__p();if(this.connectOptions.useSSL){var b=a.split(":");b[0]="wss";a=b.join(":")}this._wsuri=a;this.connected=!1;this.connectOptions.ignoreSubProtocol?this.socket=new WebSocket(a):this.connectOptions.mqttVersion<4?this.socket=new WebSocket(a,["mqttv3.1"]):this.socket=new WebSocket(a,["mqtt"]);this.socket.binaryType="arraybuffer";this.socket.onopen=g(this._on_socket_open,this);this.socket.onmessage=g(this._on_socket_message,this);this.socket.onerror=g(this._on_socket_error,this);this.socket.onclose=g(this._on_socket_close,this);this.sendPinger=new v(this,window,this.connectOptions.keepAliveInterval);this.receivePinger=new v(this,window,this.connectOptions.keepAliveInterval);this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null);this._connectTimeout=new w(this,window,this.connectOptions.timeout,this._onConnectTimeout,[])};x.prototype._schedule_message=function(a){this._msg_queue.push(a),this.connected&&this._process_queue()};x.prototype.store=function(a,b){};x.prototype.restore=function(a){};x.prototype._process_queue=function(){var a=null,b=this._msg_queue.reverse();while(a=b.pop())this._socket_send(a),this._notify_msg_sent[a]&&(this._notify_msg_sent[a](),delete this._notify_msg_sent[a])};x.prototype._requires_ack=function(a){var b=Object.keys(this._sentMessages).length;if(b>this.maxMessageIdentifier)throw Error("Too many messages:"+b);while(this._sentMessages[this._message_identifier]!==void 0)this._message_identifier++;a.messageIdentifier=this._message_identifier;this._sentMessages[a.messageIdentifier]=a;a.type===e.PUBLISH&&this.store("Sent:",a);this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)};x.prototype._on_socket_open=function(){var a=new m(e.CONNECT,this.connectOptions);a.clientId=this.clientId;this._socket_send(a);this.connected=!0;this.connectOptions.onSocketOpen&&this.connectOptions.onSocketOpen()};x.prototype._on_socket_message=function(a){this._trace("Client._on_socket_message",a.data);a=this._deframeMessages(a.data);for(var b=0;b<a.length;b+=1)this._handleMessage(a[b])};x.prototype._deframeMessages=function(a){__p&&__p();a=new Uint8Array(a);var b=[];if(this.receiveBuffer){var c=new Uint8Array(this.receiveBuffer.length+a.length);c.set(this.receiveBuffer);c.set(a,this.receiveBuffer.length);a=c;delete this.receiveBuffer}try{c=0;while(c<a.length){var d=n(a,c),e=d[0];c=d[1];if(e!==null)b.push(e);else break}c<a.length&&(this.receiveBuffer=a.subarray(c))}catch(a){d=Object.prototype.hasOwnProperty.call(a,"stack")=="undefined"?a.stack.toString():"No Error Stack Available";this._disconnected(h.INTERNAL_ERROR.code,j(h.INTERNAL_ERROR,[a.message,d]));return}return b};x.prototype._handleMessage=function(a){__p&&__p();this._trace("Client._handleMessage",a);try{switch(a.type){case e.CONNACK:this._connectTimeout.cancel();this._reconnectTimeout&&this._reconnectTimeout.cancel();this.connectOptions.cleanSession&&(this._sentMessages={},this._receivedMessages={});if(a.returnCode===0)this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);else{this.connected=!1;this._disconnected(h.CONNACK_RETURNCODE.code,j(h.CONNACK_RETURNCODE,[a.returnCode,i[a.returnCode]]),a.returnCode);break}var b=[];for(var c in this._sentMessages)Object.prototype.hasOwnProperty.call(this._sentMessages,c)&&b.push(this._sentMessages[c]);if(this._buffered_msg_queue.length>0){var d=null,f=this._buffered_msg_queue.reverse();while(d=f.pop())b.push(d),this.onMessageDelivered&&(this._notify_msg_sent[d]=this.onMessageDelivered(d.payloadMessage,null))}var b=b.sort(function(a,b){return a.sequence-b.sequence});for(var f=0,d=b.length;f<d;f++){var g=b[f];if(g.type==e.PUBLISH&&g.pubRecReceived){var k=new m(e.PUBREL,{messageIdentifier:g.messageIdentifier});this._schedule_message(k)}else this._schedule_message(g)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});f=!1;this._reconnecting&&(f=!0,this._reconnectInterval=1,this._reconnecting=!1);this._connected(f,this._wsuri);this._process_queue();break;case e.PUBLISH:this._receivePublish(a);break;case e.PUBACK:d=a.messageIdentifier;var g=this._sentMessages[d];g&&(delete this._sentMessages[d],this.onMessageDelivered&&this.onMessageDelivered(g.payloadMessage,d));break;case e.PUBREC:var g=this._sentMessages[a.messageIdentifier];if(g){g.pubRecReceived=!0;var k=new m(e.PUBREL,{messageIdentifier:a.messageIdentifier});this.store("Sent:",g);this._schedule_message(k)}break;case e.PUBREL:b=this._receivedMessages[a.messageIdentifier];b&&(this._receiveMessage(b),delete this._receivedMessages[a.messageIdentifier]);f=new m(e.PUBCOMP,{messageIdentifier:a.messageIdentifier});this._schedule_message(f);break;case e.PUBCOMP:d=a.messageIdentifier;var g=this._sentMessages[d];delete this._sentMessages[d];this.onMessageDelivered&&this.onMessageDelivered(g.payloadMessage,d);break;case e.SUBACK:var g=this._sentMessages[a.messageIdentifier];g&&(g.timeOut&&g.timeOut.cancel(),a.returnCode[0]===128?g.onFailure&&g.onFailure(a.returnCode):g.onSuccess&&g.onSuccess(a.returnCode),delete this._sentMessages[a.messageIdentifier]);break;case e.UNSUBACK:var g=this._sentMessages[a.messageIdentifier];g&&(g.timeOut&&g.timeOut.cancel(),g.callback&&g.callback(),delete this._sentMessages[a.messageIdentifier]);break;case e.PINGRESP:this.sendPinger.reset();break;case e.DISCONNECT:this._disconnected(h.INVALID_MQTT_MESSAGE_TYPE.code,j(h.INVALID_MQTT_MESSAGE_TYPE,[a.type]));break;default:this._disconnected(h.INVALID_MQTT_MESSAGE_TYPE.code,j(h.INVALID_MQTT_MESSAGE_TYPE,[a.type]))}}catch(a){k=Object.prototype.hasOwnProperty.call(a,"stack")=="undefined"?a.stack.toString():"No Error Stack Available";this._disconnected(h.INTERNAL_ERROR.code,j(h.INTERNAL_ERROR,[a.message,k]));return}};x.prototype._on_socket_error=function(a){this.connectOptions.ignoreSocketError||(this._reconnecting||this._disconnected(h.SOCKET_ERROR.code,j(h.SOCKET_ERROR,[a.data])),this.connectOptions.onSocketError&&this.connectOptions.onSocketError(a)),this._hasSocketError=!0};x.prototype._on_socket_close=function(a){this._reconnecting||this._disconnected(h.SOCKET_CLOSE.code,j(h.SOCKET_CLOSE,a!=null?[a.code,a.reason,a.wasClean]:[]))};x.prototype._socket_send=function(a){if(a.type==1){var b=this._traceMask(a,"password");this._trace("Client._socket_send",b)}else this._trace("Client._socket_send",a);this.socket.send(a.encode());this.sendPinger.reset()};x.prototype._receivePublish=function(a){__p&&__p();switch(a.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(a);break;case 1:var b=new m(e.PUBACK,{messageIdentifier:a.messageIdentifier});this._schedule_message(b);this._receiveMessage(a);break;case 2:this._receivedMessages[a.messageIdentifier]=a;this.store("Received:",a);b=new m(e.PUBREC,{messageIdentifier:a.messageIdentifier});this._schedule_message(b);break;default:throw Error("Invaild qos="+wireMmessage.payloadMessage.qos)}};x.prototype._receiveMessage=function(a){this.onMessageArrived&&this.onMessageArrived(a.payloadMessage)};x.prototype._connected=function(a,b){this.onConnected&&this.onConnected(a,b)};x.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=this._reconnectInterval*2),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))};x.prototype._onConnectTimeout=function(){this._disconnected(h.CONNECT_TIMEOUT.code,j(h.CONNECT_TIMEOUT,[this.socket.readyState,this._hasSocketError]))};x.prototype._disconnected=function(a,b,c){__p&&__p();this._trace("Client._disconnected",a,b);if(a!==void 0&&this._reconnecting){this._reconnectTimeout=new w(this,window,this._reconnectInterval,this._reconnect);return}this.sendPinger.cancel();this.receivePinger.cancel();this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null);this._msg_queue=[];this._buffered_msg_queue=[];this._notify_msg_sent={};this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.readyState===1&&this.socket.close(),delete this.socket);if(this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else{a===void 0&&(a=h.OK.code,b=j(h.OK));if(this.connected){this.connected=!1;this.onConnectionLost&&this.onConnectionLost({errorCode:a,errorMessage:b,reconnect:this.connectOptions.reconnect,uri:this._wsuri});if(a!==h.OK.code&&this.connectOptions.reconnect){this._reconnectInterval=1;this._reconnect();return}}else this.connectOptions.mqttVersion===4&&this.connectOptions.mqttVersionExplicit===!1?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:a,errorMessage:b,connack:c})}};x.prototype._trace=function(){if(this.traceFunction){for(var a in arguments)typeof arguments[a]!=="undefined"&&arguments.splice(a,1,JSON.stringify(arguments[a]));var b=Array.prototype.slice.call(arguments).join("");this.traceFunction({severity:"Debug",message:b})}if(this._traceBuffer!==null)for(var a=0,c=arguments.length;a<c;a++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),a===0?this._traceBuffer.push(arguments[a]):typeof arguments[a]==="undefined"?this._traceBuffer.push(arguments[a]):this._traceBuffer.push("  "+JSON.stringify(arguments[a]))};x.prototype._traceMask=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(d==b?c[d]="******":c[d]=a[d]);return c};var y=function(a,b,c,d){__p&&__p();var e;if(typeof a!=="string")throw new Error(j(h.INVALID_TYPE,[typeof a,"host"]));if(arguments.length==2){d=b;e=a;var g=e.match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(g)a=g[4]||g[2],b=parseInt(g[7]),c=g[8];else throw new Error(j(h.INVALID_ARGUMENT,[a,"host"]))}else{arguments.length==3&&(d=c,c="/mqtt");if(typeof b!=="number"||b<0)throw new Error(j(h.INVALID_TYPE,[typeof b,"port"]));if(typeof c!=="string")throw new Error(j(h.INVALID_TYPE,[typeof c,"path"]));var i=a.indexOf(":")!==-1&&a.slice(0,1)!=="["&&a.slice(-1)!=="]";e="ws://"+(i?"["+a+"]":a)+":"+b+c}var k=0;for(var l=0;l<d.length;l++){var m=d.charCodeAt(l);55296<=m&&m<=56319&&l++;k++}if(typeof d!=="string"||k>65535)throw new Error(j(h.INVALID_ARGUMENT,[d,"clientId"]));var n=new x(e,a,b,c,d);this._getHost=function(){return a};this._setHost=function(){throw new Error(j(h.UNSUPPORTED_OPERATION))};this._getPort=function(){return b};this._setPort=function(){throw new Error(j(h.UNSUPPORTED_OPERATION))};this._getPath=function(){return c};this._setPath=function(){throw new Error(j(h.UNSUPPORTED_OPERATION))};this._getURI=function(){return e};this._setURI=function(){throw new Error(j(h.UNSUPPORTED_OPERATION))};this._getClientId=function(){return n.clientId};this._setClientId=function(){throw new Error(j(h.UNSUPPORTED_OPERATION))};this._getOnConnected=function(){return n.onConnected};this._setOnConnected=function(a){if(typeof a==="function")n.onConnected=a;else throw new Error(j(h.INVALID_TYPE,[typeof a,"onConnected"]))};this._getDisconnectedPublishing=function(){return n.disconnectedPublishing};this._setDisconnectedPublishing=function(a){n.disconnectedPublishing=a};this._getDisconnectedBufferSize=function(){return n.disconnectedBufferSize};this._setDisconnectedBufferSize=function(a){n.disconnectedBufferSize=a};this._getConnectOptions=function(){return n.connectOptions};this._getOnConnectionLost=function(){return n.onConnectionLost};this._setOnConnectionLost=function(a){if(typeof a==="function")n.onConnectionLost=a;else throw new Error(j(h.INVALID_TYPE,[typeof a,"onConnectionLost"]))};this._getOnMessageDelivered=function(){return n.onMessageDelivered};this._setOnMessageDelivered=function(a){if(typeof a==="function")n.onMessageDelivered=a;else throw new Error(j(h.INVALID_TYPE,[typeof a,"onMessageDelivered"]))};this._getOnMessageArrived=function(){return n.onMessageArrived};this._setOnMessageArrived=function(a){if(typeof a==="function")n.onMessageArrived=a;else throw new Error(j(h.INVALID_TYPE,[typeof a,"onMessageArrived"]))};this._getTrace=function(){return n.traceFunction};this._setTrace=function(a){if(typeof a==="function")n.traceFunction=a;else throw new Error(j(h.INVALID_TYPE,[typeof a,"onTrace"]))};this.connect=function(d){__p&&__p();d=d||{};f(d,{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",ignoreSocketError:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",onSocketOpen:"function",onSocketError:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",ignoreSubProtocol:"boolean",uris:"object"});d.keepAliveInterval===void 0&&(d.keepAliveInterval=60);if(d.mqttVersion>4||d.mqttVersion<3)throw new Error(j(h.INVALID_ARGUMENT,[d.mqttVersion,"connectOptions.mqttVersion"]));d.mqttVersion===void 0?(d.mqttVersionExplicit=!1,d.mqttVersion=4):d.mqttVersionExplicit=!0;if(d.password!==void 0&&d.userName===void 0)throw new Error(j(h.INVALID_ARGUMENT,[d.password,"connectOptions.password"]));if(d.willMessage){if(!(d.willMessage instanceof z))throw new Error(j(h.INVALID_TYPE,[d.willMessage,"connectOptions.willMessage"]));d.willMessage.stringPayload=null;if(typeof d.willMessage.destinationName==="undefined")throw new Error(j(h.INVALID_TYPE,[typeof d.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}typeof d.cleanSession==="undefined"&&(d.cleanSession=!0);if(d.hosts){if(!(d.hosts instanceof Array))throw new Error(j(h.INVALID_ARGUMENT,[d.hosts,"connectOptions.hosts"]));if(d.hosts.length<1)throw new Error(j(h.INVALID_ARGUMENT,[d.hosts,"connectOptions.hosts"]));var g=!1;for(var b=0;b<d.hosts.length;b++){if(typeof d.hosts[b]!=="string")throw new Error(j(h.INVALID_TYPE,[typeof d.hosts[b],"connectOptions.hosts["+b+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(d.hosts[b])){if(b===0)g=!0;else if(!g)throw new Error(j(h.INVALID_ARGUMENT,[d.hosts[b],"connectOptions.hosts["+b+"]"]))}else if(g)throw new Error(j(h.INVALID_ARGUMENT,[d.hosts[b],"connectOptions.hosts["+b+"]"]))}if(!g){if(!d.ports)throw new Error(j(h.INVALID_ARGUMENT,[d.ports,"connectOptions.ports"]));if(!(d.ports instanceof Array))throw new Error(j(h.INVALID_ARGUMENT,[d.ports,"connectOptions.ports"]));if(d.hosts.length!==d.ports.length)throw new Error(j(h.INVALID_ARGUMENT,[d.ports,"connectOptions.ports"]));d.uris=[];for(var b=0;b<d.hosts.length;b++){if(typeof d.ports[b]!=="number"||d.ports[b]<0)throw new Error(j(h.INVALID_TYPE,[typeof d.ports[b],"connectOptions.ports["+b+"]"]));g=d.hosts[b];var a=d.ports[b],i=g.indexOf(":")!==-1;e="ws://"+(i?"["+g+"]":g)+":"+a+c;d.uris.push(e)}}else d.uris=d.hosts}n.connect(d)};this.subscribe=function(a,b){if(typeof a!=="string")throw new Error("Invalid argument:"+a);b=b||{};f(b,{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"});if(b.timeout&&!b.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(typeof b.qos!=="undefined"&&!(b.qos===0||b.qos===1||b.qos===2))throw new Error(j(h.INVALID_ARGUMENT,[b.qos,"subscribeOptions.qos"]));n.subscribe(a,b)};this.unsubscribe=function(a,b){if(typeof a!=="string")throw new Error("Invalid argument:"+a);b=b||{};f(b,{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"});if(b.timeout&&!b.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");n.unsubscribe(a,b)};this.send=function(a,b,c,d){__p&&__p();var e;if(arguments.length===0)throw new Error("Invalid argument.length");else if(arguments.length==1){if(!(a instanceof z)&&typeof a!=="string")throw new Error("Invalid argument:"+typeof a);e=a;if(typeof e.destinationName==="undefined")throw new Error(j(h.INVALID_ARGUMENT,[e.destinationName,"Message.destinationName"]));n.send(e)}else e=new z(b),e.destinationName=a,arguments.length>=3&&(e.qos=c),arguments.length>=4&&(e.retained=d),n.send(e)};this.publish=function(a,b,c,d){__p&&__p();var e;if(arguments.length===0)throw new Error("Invalid argument.length");else if(arguments.length==1){if(!(a instanceof z)&&typeof a!=="string")throw new Error("Invalid argument:"+typeof a);e=a;if(typeof e.destinationName==="undefined")throw new Error(j(h.INVALID_ARGUMENT,[e.destinationName,"Message.destinationName"]));return n.send(e)}else{e=new z(b);e.destinationName=a;arguments.length>=3&&(e.qos=c);arguments.length>=4&&(e.retained=d);return n.send(e)}};this.disconnect=function(){n.disconnect()};this.getTraceLog=function(){return n.getTraceLog()};this.startTrace=function(){n.startTrace()};this.stopTrace=function(){n.stopTrace()};this.isConnected=function(){return n.connected}};Object.defineProperties(y.prototype,{host:{get:function(){return this._getHost()},set:function(a){this._setHost(a)}},port:{get:function(){return this._getPort()},set:function(a){this._setPort(a)}},path:{get:function(){return this._getPath()},set:function(a){this._setPath(a)}},clientId:{get:function(){return this._getClientId()},set:function(a){this._setClientId(a)}},onConnected:{get:function(){return this._getOnConnected()},set:function(a){this._setOnConnected(a)}},disconnectedPublishing:{get:function(){return this._getDisconnectedPublishing()},set:function(a){this._setDisconnectedPublishing(a)}},disconnectedBufferSize:{get:function(){return this._getDisconnectedBufferSize()},set:function(a){this._setDisconnectedBufferSize(a)}},onConnectionLost:{get:function(){return this._getOnConnectionLost()},set:function(a){this._setOnConnectionLost(a)}},connectOptions:{get:function(){return this._getConnectOptions()}},onMessageDelivered:{get:function(){return this._getOnMessageDelivered()},set:function(a){this._setOnMessageDelivered(a)}},onMessageArrived:{get:function(){return this._getOnMessageArrived()},set:function(a){this._setOnMessageArrived(a)}},trace:{get:function(){return this._getTrace()},set:function(a){this._setTrace(a)}}});var z=function(a){__p&&__p();var b;if(typeof a==="string"||a instanceof ArrayBuffer||a instanceof Int8Array||a instanceof Uint8Array||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)b=a;else throw j(h.INVALID_ARGUMENT,[a,"newPayload"]);this._getPayloadString=function(){if(typeof b==="string")return b;else return u(b,0,b.length)};this._getPayloadBytes=function(){if(typeof b==="string"){var a=new ArrayBuffer(s(b));a=new Uint8Array(a);t(b,a,0);return a}else return b};var c;this._getDestinationName=function(){return c};this._setDestinationName=function(a){if(typeof a==="string")c=a;else throw new Error(j(h.INVALID_ARGUMENT,[a,"newDestinationName"]))};var d=0;this._getQos=function(){return d};this._setQos=function(a){if(a===0||a===1||a===2)d=a;else throw new Error("Invalid argument:"+a)};var e=!1;this._getRetained=function(){return e};this._setRetained=function(a){if(typeof a==="boolean")e=a;else throw new Error(j(h.INVALID_ARGUMENT,[a,"newRetained"]))};var f=!1;this._getDuplicate=function(){return f};this._setDuplicate=function(a){f=a}};Object.defineProperties(z.prototype,{payloadString:{get:function(){return this._getPayloadString()}},payloadBytes:{get:function(){return this._getPayloadBytes()}},destinationName:{get:function(){return this._getDestinationName()},set:function(a){this._setDestinationName(a)}},topic:{get:function(){return this._getDestinationName()},set:function(a){this._setDestinationName(a)}},qos:{get:function(){return this._getQos()},set:function(a){this._setQos(a)}},retained:{get:function(){return this._getRetained()},set:function(a){this._setRetained(a)}},duplicate:{get:function(){return this._getDuplicate()},set:function(a){this._setDuplicate(a)}}});var A=function(a,b){a=new m(e.CONNECT,a);a.clientId=b;return a},B=function(a,b){b=new m(b);b.topics=[a];b.requestedQos=[1];b.messageIdentifier=this.messageSequenceId++;return b},C=function(a){return B(a,e.SUBSCRIBE)},D=function(a){return B(a,e.UNSUBSCRIBE)},E=function(a,b,c){var d;d=new z(b);d.destinationName=a;arguments.length>=3&&(d.qos=c);var f;f=new m(e.PUBLISH);f.payloadMessage=d;f.messageIdentifier=this.messageSequenceId++;return f},F=function(a){__p&&__p();a=new Uint8Array(a);var b=[],c=0;while(c<a.length){var d=n(a,c),e=d[0];c=d[1];if(e!==null)b.push(e);else break}return b};return{TESTING_CLIENT_IMPL:x,Client:y,Message:z,Encoder:{encodeConnect:A,encodePublish:E,encodeSubscribe:C,encodeUnsubscribe:D,messageSequenceId:1},Decoder:{decode:F}}}(window);return c})}),null);
__d("MqttWsClient",["MqttLogger","MqttTypes","gkx","paho-mqtt"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttTypes").ConnectFailure,h=b("MqttTypes").MqttError,i=function(a){};a=function(){__p&&__p();function a(a){this.$2=a,this.$3=b("MqttLogger").getInstance(),this.$1=new(b("paho-mqtt").Client)(this.$2,"mqttwsclient"),this.$4={}}var c=a.prototype;c.connect=function(a){__p&&__p();var c=this;this.$4=a;this.$1.onConnectionLost=function(b){a.onConnectionLost(new h(b.errorCode,b.errorMessage))};this.$1.onMessageArrived=function(b){try{var d=b.destinationName;c.$3.bumpCounter("message_arrived.ws."+d);a.onMessageArrived(d,b.payloadString)}catch(a){c.$3.logError(a,"Unable to parse message");c.$3.bumpCounter((d="error_processing_message."+b.destinationName)!=null?d:"null")}};this.$1.onMessageDelivered=function(b,c){return a.onMessageDelivered(b,c)};this.$1.connect({userName:a.userName,mqttVersion:a.mqttVersion,keepAliveInterval:a.keepAliveInterval,onFailure:function(b){if(b!=null){var c=new h(b.errorCode,b.errorMessage);c=new g(c,b.connack)}else c=new g(new h(1,"No ResponseObject"),-1);a.onConnectFailure(c)},onSuccess:function(){return a.onConnectSuccess()},ignoreSubProtocol:a.ignoreSubProtocol,onSocketOpen:function(){return a.onConnection()},onSocketError:function(b){return a.onConnectionError(b)},ignoreSocketError:b("gkx")("811275")})};c.unsubscribe=function(a){this.$1.unsubscribe(a)};c.subscribe=function(a){this.$1.subscribe(a,{})};c.publish=function(a,b,c){return this.$1.publish(a,b,c,!1)};c.isConnected=function(){return this.$1.isConnected()};c.disconnect=function(){this.$4!=null&&(this.$4.onConnectSuccess=i,this.$4.onConnectFailure=i,this.$4.onConnection=i,this.$4.onConnectionError=i,this.$4.onMessageArrived=i,this.$4.onMessageDelivered=i),this.$1.connectOptions!=null&&(this.$1.connectOptions.onConnectSuccess=i,this.$1.connectOptions.onConnectFailure=i,this.$1.connectOptions.onConnection=i,this.$1.connectOptions.onConnectionError=i,this.$1.connectOptions.onMessageArrived=i,this.$1.connectOptions.onMessageDelivered=i),this.isConnected()&&this.$1.disconnect()};return a}();e.exports=a}),null);
__d("MqttConnection",["Promise","MqttConnectionHookCollection","MqttLogger","MqttTypes","MqttUserName","MqttWsClient","Random","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("MqttTypes").ConnectFailure;var g=b("MqttTypes").MqttChannelError;b("MqttTypes").MqttError;var h=10,i="publish",j="subscribe",k="unsubscribe",l=function(a){},m=18e4,n=5*1e3,o=15,p=21,q=new Set(["AMQJS0007E","AMQJS0008I"]);function r(a){return a!=null?a.split(" ")[0]:""}a=function(){__p&&__p();function a(){__p&&__p();this.$8=!1;this.$10=b("MqttLogger").getInstance();this.$11="Disconnected";this.$14=new Set();this.$15=[];this.$16=[];this.$17=new Map();this.$18=0;this.$19=0;this.$12=0;this.$13=0;this.$8=!1;this.$5="";this.$6=new(b("MqttUserName"))("",0,"",0);this.$9=0;this.$7=null;var a=function(){};this.$1=a;this.$2=a;this.$3=a;this.$20=new(b("MqttConnectionHookCollection"))();this.$4=function(){return[]}}var c=a.prototype;c.run=function(a){__p&&__p();var b=this,c=a.onStateChange,d=a.onJSError,e=a.onMessageReceived,f=a.endpoint,g=a.mqttUserName,h=a.subscribedTopics;a=a.extraConnectMessageProvider;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=c;this.$3=e;this.$5=f;this.$6=g;this.$8=!0;this.$12=0;this.$2=d||l;h&&h.forEach(function(a){return b.$14.add(a)});this.$4=a;this.$21()};c.shutdown=function(){this.$22(),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};c.subscribe=function(a){this.$14.add(a);if(!this.$23(j))return b("gkx")("676932");this.$24(a);return!0};c.publish=function(a,c,d){__p&&__p();this.$10.debugTrace("MqttConnection: publish","publish to "+a+", qos:"+d.qos+", skipBuffer:"+String(d.skipBuffer));var e={resolve:function(){},reject:function(a){}},f=new(b("Promise"))(function(a,b){e.resolve=a,e.reject=b}),g=this.$23(i),h;if(!g)d.skipBuffer===!0?(this.$16.push({topic:a,payload:c,qos:d.qos,ack:e}),h="temp_buffered"):(this.$15.push({topic:a,payload:c,qos:d.qos,ack:e}),h="buffered");else{c=this.$25(a,c,d.qos,e);h=c===!0?"published":"failed"}this.$10.logPublish({sessionID:this.$9,topic:a,connectionStatus:g,publishStatus:h});return f};c.unsubscribe=function(a){this.$14["delete"](a);if(!this.$23(k))return!1;this.$26(a);return!0};c.addHook=function(a){this.$20.addHook(a)};c.removeHook=function(a){this.$20.removeHook(a)};c.isRunning=function(){return this.$8};c.testOnlyGetSubscribedTopics=function(){return this.$14};c.$22=function(){this.$8&&this.$7!=null&&(this.$27("Disconnected"),this.$7!=null&&this.$7.disconnect(),this.$7=null)};c.$27=function(a){a!==this.$11&&(this.$11=a,this.$1(a))};c.$28=function(){return new(b("MqttWsClient"))(this.$5)};c.$21=function(){__p&&__p();var a=this;if(!this.$8)return;this.$27("Connecting");var b=Date.now();this.$9=this.$29();var c=Array.from(this.$14);try{this.$7=this.$28();if(this.$7==null)throw new Error("Invalid State: Unable to create client");this.$16=[];var d=this.$30(),e=Date.now(),f=this.$6.gen(this.$9,c,d);this.$7!=null&&(this.$7.connect({userName:f,mqttVersion:3,keepAliveInterval:h,ignoreSubProtocol:!0,onConnectFailure:function(b){return a.$31(b,e,c)},onConnectSuccess:function(){return a.$32(e,c)},onConnection:function(){return a.$33(d,c)},onConnectionError:function(b){return a.$34(b)},onConnectionLost:function(b){return a.$35(b)},onMessageArrived:function(b,c){return a.$36(b,c)},onMessageDelivered:function(b,c){return a.$37(b,c)}}),this.$20.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$27("Disconnected"),this.$38(!1,b,c,14,a.message),a&&this.$10.logErrorWarn(a,"js error"),this.$39(new g(!1,"js error",a),"client_init")}};c.$30=function(){var a=this.$4(),b=65536;a=a.map(function(a){a.messageId=b--;return a});return a};c.$40=function(){var a=this;this.$16.forEach(function(b){a.$25(b.topic,b.payload,b.qos,b.ack)});this.$16=[];this.$15.forEach(function(b){a.$25(b.topic,b.payload,b.qos,b.ack)});this.$15=[]};c.$24=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("_doSubscribe","Subscribing to "+a);this.$20.onSubscribe(a);return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a)}return!1};c.$26=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("_doUnsubscribe","Unsubscribing to "+a);this.$20.onUnsubscribe(a);return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a)}return!1};c.$25=function(a,b,c,d){__p&&__p();if(this.$7!=null)try{b=this.$7.publish(a,b,c);c=b!=null?b:"null";this.$10.debugTrace("_doPublish","publish "+a+" with messageId:"+c);this.$20.onPublish(a);b!=null?this.$17.set(b,d):d.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);d.reject(b);return!1}else return!1};c.$41=function(a){__p&&__p();var c=this;a===void 0&&(a=null);if(!this.$8)return;this.$22();this.$42();this.$9=-1;this.$13=0;a=(a=a)!=null?a:Math.pow(2,Math.min(this.$12,6))*(1e3+b("Random").random()*200);this.$10.debugTrace("_scheduleReconnect","Reconnect in "+a+" ms");b("setTimeoutAcrossTransitions")(function(){c.$21()},a);this.$12+=1};c.$42=function(){if(!b("gkx")("807517"))return;var a=Date.now()-this.$13,c=this.$13!==0&&a>n,d=this.$12>o;(c||d)&&(this.$12=0);this.$13!==0&&a<=n&&this.$10.bumpCounter("short_lived_session");d&&this.$10.bumpCounter("connection_attempt_limit")};c.$29=function(){return Math.floor(b("Random").random()*Number.MAX_SAFE_INTEGER)};c.$23=function(a){__p&&__p();if(!this.$8){this.$10.debugTrace("_ensureConnected","Mqtt connection: "+a+" called when not running");return!1}if(this.$7==null){this.$10.debugTrace("_ensureConnected","Mqtt connection: "+a+" called when not connected, ignored");return!1}var b=this.$7.isConnected();if(!b){this.$10.debugTrace("_ensureConnected","Mqtt connection: "+a+" called with client not connected");return!1}return!0};c.$38=function(a,b,c,d,e){a===!0?this.$19++:this.$18++,this.$10.logConnect({sessionID:this.$9,connectionStatus:a,duration:Date.now()-b,hostname:this.$5,attemptNumber:this.$12,failTotal:this.$18,successTotal:this.$19,subscribedTopics:c,errorCode:d,errorMessage:e})};c.$31=function(a,b,c){__p&&__p();var d=a.mqttError,e=d.errorMessage;this.$10.debugTrace("connect","Connect failed "+e);this.$20.onConnectFailure();this.$38(!1,b,c,d.errorCode,e);if(a.connAck!=null){this.$10.bumpCounter("connect_failure."+a.connAck);if(a.connAck===p){this.$41(m);return}}q.has(r(e))&&this.$39(new g(!0,e),"connect_failure");this.$41()};c.$33=function(a,b){var c=this;this.$10.debugTrace("Connect","Socket established");this.$20.onConnected();b.forEach(function(a){c.$20.onSubscribe(a)});a.forEach(function(a){c.$20.onPublish(a.topic)});this.$40()};c.$32=function(a,c){this.$10.debugTrace("connect","Connect success"),this.$20.onConnectSuccess(),this.$38(!0,a,c),this.$27("Connected"),this.$43(c),b("gkx")("807517")||(this.$12=0),this.$13=Date.now(),this.$15.length>0&&this.$10.bumpCounter("publish_buffer_not_empty")};c.$35=function(a){a.errorCode&&this.$10.logDisconnect({sessionID:this.$9,errorCode:a.errorCode,errorMessage:a.errorMessage,duration:Date.now()-this.$13}),this.$10.debugTrace("connect","connection lost"),this.$20.onConnectionLost(),this.$41()};c.$34=function(a){b("gkx")("676934")?this.$10.bumpCounter("websocket_error.error"):this.$39(new g(!0,"socket error",a),"websocket_error")};c.$36=function(a,b){this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$20.onMessage(a);this.$10.bumpCounter("message_arrived."+a);try{this.$3(a,b)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};c.$37=function(a,b){a=b!=null?b:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+a+"}");if(b==null)return;a=this.$17.get(b);if(a==null)return;this.$17["delete"](b);a.resolve()};c.$43=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$14.has(a)||b.unsubscribe(a)});a=new Set(this.$14);a.forEach(function(a){c.has(a)||b.subscribe(a)})};c.$39=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};return a}();e.exports=a}),null);
__d("MqttChannel",["requireDeferred","ChannelClientID","MqttConnection","MqttLogger","MqttUserName","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var c=a.endpoint,d=a.pollingEndpoint,e=a.userFbid,f=a.appId,g=a.initialSubscribedTopics;a=a.capabilities;this.$8=b("MqttLogger").getInstance();this.$8.setAppId(f);this.$9=new(b("MqttUserName"))(e,a,b("ChannelClientID").getID(),f);this.$1=c;this.$2=d;this.$5="Disconnected";this.$3=[];this.$4=new Set();this.$6=new Map();this.$7=new(b("MqttConnection"))();this.$11(g);this.$12()}var c=a.prototype;c.$11=function(a){__p&&__p();var c=this;if(this.$7.isRunning()){this.$13("run","Connection started calling run again");return}b("gkx")("865724")&&b("gkx")("865725")?this.$13("MqttChannel","Websocket disabled, will do long polling only"):this.$7.run({onStateChange:function(a){c.$14(a)},onJSError:function(a){c.$15(a)},onMessageReceived:function(a,b){c.$16(a,b)},endpoint:this.$1,mqttUserName:this.$9,subscribedTopics:a,extraConnectMessageProvider:function(){return c.$17()}})};c.shutdown=function(){this.$7&&this.$7.shutdown()};c.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$7.publish(a,b,c)};c.subscribe=function(a,b){this.$7.subscribe(a);var c=this.$6.get(a);!c?(c=[b],this.$6.set(a,c)):c.push(b)};c.subscribeChannelEvents=function(a){this.$3.push(a)};c.registerExtraConnectPayloadProvider=function(a){var b=this;this.$4.add(a);if(this.$7.isRunning()){a=a.getPublishMessages();a.forEach(function(a){b.$7.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};c.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};c.unsubscribe=function(a){this.$7.unsubscribe(a),this.$6["delete"](a)};c.getConnectionState=function(){return this.$5};c.getEndpoint=function(){return this.$1};c.addHook=function(a){this.$7.addHook(a)};c.removeHook=function(a){this.$7.removeHook(a)};c.testOnlyResetState=function(){this.$1="",this.$3=[],this.$5="Disconnected",this.$6=new Map(),this.$8=b("MqttLogger").getInstance(),this.$7=new(b("MqttConnection"))()};c.testOnlyGetSubscribedTopics=function(){return new Set(this.$6.keys())};c.testOnlyGetConnectionSubscribedTopics=function(){return this.$7.testOnlyGetSubscribedTopics()};c.testOnlyMessageReceived=function(a,b){this.$16(a,b)};c.testOnlyAddTopicListener=function(a,b){var c=this.$6.get(a);!c?(c=[b],this.$6.set(a,c)):c.push(b)};c.$16=function(a,b){__p&&__p();var c=this.$6.get(a);if(!c)this.$8.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var a=c,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;try{e(b)}catch(a){this.$8.logError(a,"Listener exception"),this.$8.bumpCounter("listener_error")}}};c.$15=function(a){__p&&__p();if(b("gkx")("865725")&&a.isRecoverable)return;for(var c=this.$3,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.onJSError&&f.onJSError(a)}};c.$14=function(a){this.$5=a,this.$13("_changeState","Connection state = "+a),this.$18(a)};c.$18=function(a){__p&&__p();for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};c.$17=function(){var a=[];this.$4.forEach(function(b){b=b.getPublishMessages();Array.prototype.push.apply(a,b)});return a};c.$12=function(){__p&&__p();var a=this;b("gkx")("865725")&&this.$2&&this.$2!=""&&b("requireDeferred")("MqttLongPollingRunner").onReady(function(b){b=new b(a.$2,a.$9,function(b,c){return a.$16(b,c)},function(){return Array.from(a.$6.keys())},function(){return a.$17()},function(b){a.$15(b)});b.start();a.$7.addHook(b);a.$10=b;a.$8.debugTrace("MqttChannel","longPollingRunner loaded")})};c.$13=function(a,b){this.$8.debugTrace(a,"Mqtt channel: "+b)};return a}();e.exports=a}),null);
__d("FBMqttChannel",["MqttChannel","MqttWebConfig"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("MqttChannel"))({endpoint:b("MqttWebConfig").endpoint,pollingEndpoint:b("MqttWebConfig").pollingEndpoint,userFbid:b("MqttWebConfig").fbid,appId:b("MqttWebConfig").appID,initialSubscribedTopics:b("MqttWebConfig").subscribedTopics,capabilities:b("MqttWebConfig").capabilities})}),null);
__d("BladeRunnerSocket",["BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerTypes","BladeRunnerTypesInternal","FBMqttChannel","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="Connected",h="Disconnected",i=32*1024,j="/br_sr",k="/sr_res",l=null;a=function(){__p&&__p();function a(a){this.$1=[],this.$2=0,this.$3=null,this.$4=0,this.$5=new Map(),this.$6=a!=null?a:b("FBMqttChannel"),b("BladeRunnerLogger").setClientSessionId(b("uuid")()),this.$7()}a.get=function(){l==null&&(l=new a(b("FBMqttChannel")));return l};var c=a.prototype;c.sendNewStreamRequest=function(c,d){d=new(b("BladeRunnerEventHandler"))(c,d,this);var e=c.getRequest();this.$5.set(e.streamId,d);this.getStreamCount()<=a.maxStreamCount?this.$8(e):(b("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),b("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(c.getRequest().getHeaders())),this.$9(d,e.streamId))};c.sendRetryStreamRequest=function(a){this.$8(a.getRequest())};c.sendCancel=function(a){b("BladeRunnerLogger").bumpCounter("socket_send_cancel");var c=new(b("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();c.streamId=a;c.status=b("BladeRunnerTypes").StreamStatus.CLOSED;this.$10(c);this.removeStream(a)};c.sendAmendment=function(a,c){b("BladeRunnerLogger").bumpCounter("socket_send_amendment");var d=new(b("BladeRunnerTypesInternal").GatewayStreamData)();d.streamId=a;d.setData(c);this.$11(d)};c.$11=function(a){this.$1.push(b("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(a)),this.$12()};c.sendDataAcks=function(a){b("BladeRunnerLogger").bumpCounter("socket_send_data_ack",a.length),this.$13(a)};c.removeStream=function(a){this.$5["delete"](a)};c.getStreamCount=function(){return this.$5.size};c.getNextStreamId=function(){this.$4++;return this.$4};c.onMQTTStateChanged=function(a){this.$12();if(a!=h&&a!=g||this.$3==a)return;this.$3=a;b("BladeRunnerLogger").info("MQTTStateChanged: "+a);a==h?(b("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$14()):a==g&&b("BladeRunnerLogger").bumpCounter("mqtt_state_connected")};c.$8=function(a){b("BladeRunnerLogger").bumpCounter("socket_send_request"),this.$1.push(b("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(a)),this.$12()};c.$10=function(a){this.$1.push(b("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a)),this.$12()};c.$13=function(a){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.$1.push(b("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(e))}this.$12()};c.$15=function(){this.$2++;return this.$2};c.$12=function(){if(this.$6.getConnectionState()===g&&this.$1.length>0){try{this.$16(this.$1)}finally{this.$1=[]}return!0}return!1};c.$16=function(a){__p&&__p();var c=new(b("BladeRunnerTypesInternal").GatewayStreamBatch)(this.$15(),a);c=c.write();if(c.length>i){var d=Math.floor(a.length/2);if(d===0)throw new Error("Publish is too long: "+c.length);this.$16(a.slice(0,d));this.$16(a.slice(d,a.length))}else try{b("BladeRunnerLogger").info("send message to "+j+" "+c),this.$6.publish(j,c),b("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(a){b("BladeRunnerLogger").exception(a,"Failed publishing to MQTT");b("BladeRunnerLogger").bumpCounter("mqtt_publish_error");throw a}};c.$7=function(){__p&&__p();var a=this;b("BladeRunnerLogger").info("Starting socket with endpoint "+this.$6.getEndpoint()+" useragent "+navigator.userAgent);this.$17();this.onMQTTStateChanged(this.$6.getConnectionState());this.$6.subscribeChannelEvents({onMQTTStateChanged:function(b){a.onMQTTStateChanged(b)},onJSError:function(a){var c=a!=null&&typeof a.isRecoverable==="boolean"?a.isRecoverable:!1;c?b("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(b("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof a=="object"&&a!=null?a.toString():"unknown error")+", "+JSON.stringify(a)),b("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}});this.$6.subscribe(j,function(a){throw new Error("Unexpected response: "+j+" "+a.toString())});this.$6.subscribe(k,function(b){a.$18(b)})};c.$18=function(a){a=b("BladeRunnerTypesInternal").GatewayStreamBatch.read(a);this.processBatch(a)};c.processBatch=function(a){__p&&__p();try{b("BladeRunnerLogger").bumpCounter("socket_process_batch");var c=JSON.stringify(a);b("BladeRunnerLogger").info("Received batch "+c.substring(0,256)+(c.length>256?"...":""));c=null;for(var d=a.getFrames(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=g.getStreamId();c==null&&(c=g);if(g!=null&&c!=g)throw new Error("Received batch with frames for multiple streams")}if(c!=null){g=this.$5.get(c);g!=null?g.onProxyResponse(a):b("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+c)}else b("BladeRunnerLogger").info("Received batch with no frames")}catch(a){b("BladeRunnerLogger").exception(a,"Failed processing batch from MQTT");b("BladeRunnerLogger").bumpCounter("socket_process_batch_error");throw a}};c.$14=function(){this.$5.forEach(function(a,b,c){a.onDisconnect()})};c.$9=function(a,c){var d=new(b("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();d.streamId=c;d.status=b("BladeRunnerTypes").StreamStatus.REJECTED;d.shouldRetry=!1;d.retryDelayMs=0;c=new(b("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[b("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(d)]);a.onProxyResponse(c)};c.$17=function(){"WebSocket"in window||(b("BladeRunnerLogger").warn("Browser does not support websocket"),b("BladeRunnerLogger").bumpCounter("websocket_not_supported"))};return a}();a.maxStreamCount=2e3;e.exports=a}),null);
__d("BladeRunnerStream",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.getStreamHandler=function(){return this.$1};b.cancel=function(){};b.amendFireAndForget=function(a){};b.isAlive=function(){return!1};b.getStatus=function(){return null};b.getStreamId=function(){return 0};return a}();e.exports=a}),null);
__d("BladeRunnerStreamState",["BladeRunnerTypes","BladeRunnerTypesInternal"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var c=a.prototype;c.getRequest=function(){return this.$1};c.isAlive=function(){return!(this.$2==b("BladeRunnerTypes").StreamStatus.CLOSED||this.$2==b("BladeRunnerTypes").StreamStatus.REJECTED)};c.getLastStatus=function(){return this.$2};c.setLastStatus=function(a){this.$2=a};c.onError=function(){this.$3+=1};c.getErrorCount=function(){return this.$3};c.resetErrors=function(){this.$3=0};c.getRetryRequestScheduled=function(){return this.$6};c.setRetryRequestScheduled=function(a){this.$6=a};c.witnessFrame=function(a){__p&&__p();switch(a.type){case b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var c=a.getStatusUpdate(),d=!0;switch(c.status){case b("BladeRunnerTypes").StreamStatus.ACCEPTED:d=!this.$4;this.$4||(this.$4=!0);break;case b("BladeRunnerTypes").StreamStatus.STARTED:d=this.getLastStatus()!=b("BladeRunnerTypes").StreamStatus.STARTED;break;case b("BladeRunnerTypes").StreamStatus.PAUSED:d=this.getLastStatus()==b("BladeRunnerTypes").StreamStatus.STARTED;break;case b("BladeRunnerTypes").StreamStatus.CLOSED:case b("BladeRunnerTypes").StreamStatus.REJECTED:default:d=!0}this.setLastStatus(c.status);return d;case b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:this.$7(a.getRewriteRequest());return!1;default:return!0}};c.setRetriesAllowed=function(a){this.$5=a};c.getRetriesAllowed=function(){return this.$5};c.$7=function(a){if(a.patchExtraHeader!=null)return;a.temporary!=null||a.temporary==!0||(a.newBody!=null&&(this.$1.payload=a.newBody),a.newExtraHeader!=null&&(this.$1.extraHeader=a.newExtraHeader,this.$1.headers=JSON.parse(a.newExtraHeader)),a.killBody!=null&&a.killBody==!0&&(this.$1.payload=null))};return a}();e.exports=a}),null);
__d("BladeRunnerSocketStream",["BladeRunnerStream","BladeRunnerStreamState","BladeRunnerTypes","BladeRunnerTypesInternal"],(function(a,b,c,d,e,f){__p&&__p();var g=4;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){c=a.call(this,c)||this;c.$BladeRunnerSocketStream1=e;c.$BladeRunnerSocketStream2=new(b("BladeRunnerStreamState"))(d);c.$BladeRunnerSocketStream2.setRetriesAllowed(g);return c}var d=c.prototype;d.send=function(){this.$BladeRunnerSocketStream1.sendNewStreamRequest(this.$BladeRunnerSocketStream2,this.getStreamHandler())};d.amendFireAndForget=function(a){this.isAlive()&&this.$BladeRunnerSocketStream1.sendAmendment(this.$BladeRunnerSocketStream2.getRequest().streamId,a)};d.cancel=function(){this.isAlive()&&(this.$BladeRunnerSocketStream1.sendCancel(this.$BladeRunnerSocketStream2.getRequest().streamId),this.$BladeRunnerSocketStream2.setLastStatus(b("BladeRunnerTypes").StreamStatus.CLOSED))};d.isAlive=function(){return this.$BladeRunnerSocketStream2.isAlive()};d.getStatus=function(){return this.$BladeRunnerSocketStream2.getLastStatus()};d.getStreamId=function(){return this.$BladeRunnerSocketStream2.getRequest().streamId};return c}(b("BladeRunnerStream"));e.exports=a}),null);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a!=null?a:b("BladeRunnerSocket").get()}var c=a.prototype;c.requestStream=function(a,c,d){var e=new(b("BladeRunnerTypesInternal").GatewayStreamRequest)();e.streamId=this.$1.getNextStreamId();e.requestType=b("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER;e.headers=b("BladeRunnerConfig").patchRequestHeaders(a);e.extraHeader=JSON.stringify(e.headers);e.payload=c!=null?b("Base64").encode(c):null;a=new(b("BladeRunnerSocketStream"))(d,e,this.$1);a.send();return a};c.logInfo=function(a){b("BladeRunnerLogger").info(a)};c.bumpCounter=function(a){b("BladeRunnerLogger").bumpCounter(a)};return a}();e.exports=a}),null);
__d("BladeRunnerDeferredClient",["Promise","requireDeferred","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=null}var c=a.prototype;c.requestStream=function(a,c,d){this.$2();return b("nullthrows")(this.$1).then(function(b){return b.requestStream(a,c,d)})};c.logInfo=function(a){this.$2();return b("nullthrows")(this.$1).then(function(b){b.logInfo(a)})};c.bumpCounter=function(a){this.$2();return b("nullthrows")(this.$1).then(function(b){b.bumpCounter(a)})};c.$2=function(){this.$1==null&&(this.$1=new(b("Promise"))(function(a){b("requireDeferred")("BladeRunnerClient").onReady(function(b){a(new b())})}))};return a}();e.exports=new a()}),null);
__d("BladeRunnerStreamHandler",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b,c,d){this.$1=a||function(a){},this.$2=b||function(a){},this.$3=c||function(a){},this.$4=d||function(a){}}var b=a.prototype;b.onData=function(a){this.$1(a)};b.onStatusUpdate=function(a){this.$2(a)};b.onLog=function(a){this.$3(a)};b.onBatch=function(a){this.$4(a)};return a}();e.exports=a}),null);
__d("BladeRunnerInstrumentedStreamHandler",["BladeRunnerDeferredClient","BladeRunnerStreamHandler","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=60*1e3;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$BladeRunnerInstrumentedStreamHandler1=c;e.$BladeRunnerInstrumentedStreamHandler2=d;e.$BladeRunnerInstrumentedStreamHandler3=Date.now();b("setTimeoutAcrossTransitions")(function(){e.$BladeRunnerInstrumentedStreamHandler4==null&&e.$BladeRunnerInstrumentedStreamHandler5(-1,Date.now())},g);return e}var d=c.prototype;d.onData=function(a){b("BladeRunnerDeferredClient").bumpCounter("received_data."+this.$BladeRunnerInstrumentedStreamHandler2),this.$BladeRunnerInstrumentedStreamHandler1.onData(a)};d.onStatusUpdate=function(a){this.$BladeRunnerInstrumentedStreamHandler5(a,Date.now()),this.$BladeRunnerInstrumentedStreamHandler1.onStatusUpdate(a)};d.onLog=function(a){this.$BladeRunnerInstrumentedStreamHandler1.onLog(a)};d.onBatch=function(a){this.$BladeRunnerInstrumentedStreamHandler1.onBatch(a)};d.$BladeRunnerInstrumentedStreamHandler5=function(a,c){b("BladeRunnerDeferredClient").bumpCounter("received_status_"+a+"."+this.$BladeRunnerInstrumentedStreamHandler2);if(this.$BladeRunnerInstrumentedStreamHandler4==null){this.$BladeRunnerInstrumentedStreamHandler4=Date.now();c=Math.max(this.$BladeRunnerInstrumentedStreamHandler4-this.$BladeRunnerInstrumentedStreamHandler3,0);a=c>=1e4?Math.round(Math.min(c/1e4,6))*10:Math.round(Math.min(c/1e3,10));b("BladeRunnerDeferredClient").bumpCounter("status_latency."+this.$BladeRunnerInstrumentedStreamHandler2+"."+a+".s")}};return c}(b("BladeRunnerStreamHandler"));e.exports=a}),null);
__d("BootloaderResource",[],(function(a,b,c,d,e,f){__p&&__p();var g={};a={preload:function(a){a.load()},read:function(b){__p&&__p();var a=b.getModuleIfRequired();if(!a){var c=b.getModuleId();if(!g[c]){b=g[c]=b.load();b["finally"](function(){delete g[c]})}throw g[c]}return a}};e.exports=a}),null);
__d("LynxGeneration",["LinkshimHandlerConfig","URI"],(function(a,b,c,d,e,f){var g={getShimURI:function(){return new(b("URI"))("/l.php").setDomain(b("LinkshimHandlerConfig").linkshim_host)},getLynxURIProtocol:function(a){return b("LinkshimHandlerConfig").always_use_https?"https":a.getProtocol()==="http"?"http":"https"},getShimmedHref:function(a,b){var c=g.getLynxURIProtocol(a);return g.getShimURI().setQueryData({u:a.toString(),h:b}).setProtocol(c)}};e.exports=g}),null);
__d("AbstractLink.react",["AbstractLinkLynxMode","LynxGeneration","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("AbstractLinkLynxMode").setupDelegation()};d.render=function(){__p&&__p();var a=this.props,c=a.href,d=a.linkRef,e=a.shimhash,f=a.nofollow,g=a.noopener,h=a.rel,i=a.isSafeToSkipShim;a=babelHelpers.objectWithoutPropertiesLoose(a,["href","linkRef","shimhash","nofollow","noopener","rel","isSafeToSkipShim"]);var j=c;h=h;var k=null,l=null;if(e!==null){j=b("LynxGeneration").getShimmedHref(c,e||"");c=b("AbstractLinkLynxMode").getMode(i);l=c[0];k=c[1]}f&&(h=h?h+" nofollow":"nofollow");g&&(h=h?h+" noopener":"noopener");return b("React").createElement("a",babelHelpers["extends"]({},a,{href:j.toString(),rel:h,ref:d,"data-sigil":k,"data-lynx-mode":l}))};return c}(b("React").Component);e.exports=a}),null);
__d("first",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}return null}e.exports=a}),null);
__d("isClickIDBlacklistSVDomainURI",["ClickIDDomainBlacklistSVConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["http","https"];function a(a){return!g.includes(a.getProtocol())?!1:b("ClickIDDomainBlacklistSVConfig").domains.some(function(b){if(a.isSubdomainOfDomain(b))return!0;if(!b.includes(".")){var c=a.getDomain().split(".");return c.includes(b)}return!1})}e.exports=a}),null);
__d("isFacebookSVDomainURI",["FBDomainsSVConfig"],(function(a,b,c,d,e,f){"use strict";var g=["http","https"];function a(a){if(g.indexOf(a.getProtocol())===-1)return!1;a=b("FBDomainsSVConfig").domains.get(a.getDomain());return a!=null}e.exports=a}),null);
__d("isFbDotComURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)fb\\.com?$","i"),h=["http","https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}e.exports=a}),null);
__d("ClickIDParameterUtils",["URI","compactArray","first","isCdnURI","isClickIDBlacklistSVDomainURI","isFacebookSVDomainURI","isFacebookURI","isFbDotComURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set(["http","https"]);function h(a){return g.has(a.getProtocol())}var i="fbclid";c="doubleclick.net";var j=(d={},d[c]=[{extractor:function(a){a=a.getQueryString();return a!=null&&a.startsWith("http")?new(b("URI"))(a):null},injector:function(a,b,c){b=b.addQueryData(i,c);return a.setQueryString(b.toString())}}],d);function k(a){var b=a.getProtocol(),c=a.getDomain();a=a.getPort();return b!==null&&b.length>0||c!==null&&c.length>0||a!==null}function l(a){var c=b("first")(Object.keys(j).filter(function(b){return a.getDomain().endsWith(b)}));c=c!=null?j[c]:null;return c==null?null:b("first")(b("compactArray")(c.map(function(b){var c=b.extractor(a);return c==null?null:{injector:b.injector,uri:c}})))}function m(a){return!b("isFacebookURI")(a)&&!b("isFacebookSVDomainURI")(a)&&!b("isCdnURI")(a)&&!b("isFbDotComURI")(a)&&k(a)&&h(a)&&!n(a)}function n(a){var c=b("isClickIDBlacklistSVDomainURI")(a);if(c)return!0;c=l(a);return c!=null?n(c.uri):!1}function o(a,b){var c=l(a);return c!=null?c.injector(a,c.uri,b):a.addQueryData(i,b)}function a(a,b){return m(a)?o(a,b):a}e.exports={QUERY_PARAM:i,appendClickIDQueryParam:a}}),null);
__d("Link.react",["AbstractLink.react","ClickIDParameterUtils","LinkshimHandlerConfig","Random","React","URI","isBonfireURI","isFacebookURI","isLinkshimURI","isMessengerDotComURI","killswitch"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return b("isFacebookURI")(a)||b("isMessengerDotComURI")(a)||b("isBonfireURI")(a)}function h(a){return a.getDomain().endsWith(".onion")}var i=/^(#|\/\w)/;function j(a){if(i.test(a.toString()))return!1;var b=a.getProtocol();return(b==="http"||b==="https")&&!g(a)}function k(a){__p&&__p();var c="#",d=null;a instanceof b("URI")?c=a.toString():typeof a==="string"&&a!==""&&a!=="#"?c=a:typeof a==="object"&&a!==null?(c=a.url.toString(),d=a.shimhash?a.shimhash.toString():d):(c="#",d=null);if(b("URI").isValidURI(c)){a=new(b("URI"))(c);if(!b("killswitch")("LINK_PARSES_SHIMHASH_FROM_LINKSHIM")&&b("isLinkshimURI")(a)){var e=a.getQueryData(),f=e.u;e=e.h;b("URI").isValidURI(f)&&(c=f,a=new(b("URI"))(c),d==null&&(d=e))}f=b("LinkshimHandlerConfig").click_ids;if(!b("killswitch")("LINKSHIM_ADD_CLICK_ID_PARAM")&&f!=null&&f.length>0){c=Math.floor(b("Random").random()*f.length);e=f[c];a=b("ClickIDParameterUtils").appendClickIDQueryParam(a,e)}}else a=new(b("URI"))("#");d==null&&j(a)&&(d=b("LinkshimHandlerConfig").link_react_default_hash);f=m(a);f!=null&&(a=f);return[a,d]}var l=new RegExp("^(l|lm|h)\\..*$","i");function m(a){if(b("killswitch")("LINK_UPGRADE_UNSHIMMED_JS"))return null;if(a.getProtocol()!=="http")return null;if(!g(a))return null;return l.test(a.getDomain())?null:a.setProtocol("https")}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props;a.allowunsafehref;var c=a.s,d=a.href,e=a.linkRef,f=a.target;a=babelHelpers.objectWithoutPropertiesLoose(a,["allowunsafehref","s","href","linkRef","target"]);d=k(d);var g=d[0];d=d[1];var i=d!=null;f=f||(d!==null?"_blank":null);c=!!c;b("LinkshimHandlerConfig").onion_always_shim&&h(g)&&(c=!1);var j=b("LinkshimHandlerConfig").use_rel_no_opener&&d!==null&&f==="_blank";return b("React").createElement(b("AbstractLink.react"),babelHelpers["extends"]({},a,{href:g,linkRef:e,nofollow:i,noopener:j,shimhash:d,target:f,isSafeToSkipShim:c}))};return c}(b("React").Component);e.exports=a}),null);
__d("getVendorPrefixedName",["invariant","ExecutionEnvironment","UserAgent","camelize"],(function(a,b,c,d,e,f,g){__p&&__p();var h={},i=["Webkit","ms","Moz","O"],j=new RegExp("^("+i.join("|")+")"),k=b("ExecutionEnvironment").canUseDOM?document.createElement("div").style:{};function l(a){for(var b=0;b<i.length;b++){var c=i[b]+a;if(c in k)return c}return null}function m(a){switch(a){case"lineClamp":return b("UserAgent").isEngine("WebKit >= 315.14.2")?"WebkitLineClamp":null;default:return null}}function a(a){var c=b("camelize")(a);if(h[c]===void 0){var d=c.charAt(0).toUpperCase()+c.slice(1);j.test(d)&&g(0,957,a);b("ExecutionEnvironment").canUseDOM?h[c]=c in k?c:l(d):h[c]=m(c)}return h[c]}e.exports=a}),null);
__d("joinClasses",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a||"",c=arguments.length<=1?0:arguments.length-1;for(var d=0;d<c;d++){var e=d+1<1||arguments.length<=d+1?void 0:arguments[d+1];e!=null&&e!==""&&(b=(b?b+" ":"")+e)}return b}e.exports=a}),null);
__d("shallowEqual",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.prototype.hasOwnProperty;function h(a,b){if(a===b)return a!==0||b!==0||1/a===1/b;else return a!==a&&b!==b}function a(a,b){__p&&__p();if(h(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var d=0;d<c.length;d++)if(!g.call(b,c[d])||!h(a[c[d]],b[c[d]]))return!1;return!0}e.exports=a}),null);
__d("stableStringify",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function h(a){__p&&__p();var b=Array.isArray(a),c=g(a);if(b||c){c=Object.keys(a);if(c.length){c=c.sort().map(function(b){var c=a[b],d;g(c)||Array.isArray(c)?d=h(c):d=JSON.stringify(c);return b+":"+d});if(b)return"["+c.join(",")+"]";else return"{"+c.join(",")+"}"}}return JSON.stringify(a)}e.exports=h}),null);
__d("BrowserSupportCore",["getVendorPrefixedName"],(function(a,b,c,d,e,f){a={hasCSSAnimations:function(){return!!b("getVendorPrefixedName")("animationName")},hasCSSTransforms:function(){return!!b("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function(){return!!b("getVendorPrefixedName")("perspective")},hasCSSTransitions:function(){return!!b("getVendorPrefixedName")("transition")}};e.exports=a}),null);
__d("CurrentLocale",["LocaleInitialData"],(function(a,b,c,d,e,f){a={};a.get=function(){return b("LocaleInitialData").locale};e.exports=a}),null);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName","memoize"],(function(a,b,c,d,e,f){__p&&__p();var g=null;function h(){if(b("ExecutionEnvironment").canUseDOM){g||(g=document.createElement("div"));return g}return null}c=function(a){return b("memoize")(function(){var b=h();return!b?!1:a(b)})};d={hasCSSAnimations:b("BrowserSupportCore").hasCSSAnimations,hasCSSTransforms:b("BrowserSupportCore").hasCSSTransforms,hasCSS3DTransforms:b("BrowserSupportCore").hasCSS3DTransforms,hasCSSTransitions:b("BrowserSupportCore").hasCSSTransitions,hasPositionSticky:c(function(a){a.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;";return/sticky/.test(a.style.position)}),hasScrollSnapPoints:c(function(a){return"scrollSnapType"in a.style||"webkitScrollSnapType"in a.style||"msScrollSnapType"in a.style}),hasScrollBehavior:c(function(a){return"scrollBehavior"in a.style}),hasPointerEvents:c(function(a){if(!("pointerEvents"in a.style))return!1;a.style.cssText="pointer-events:auto";return a.style.pointerEvents==="auto"}),hasFileAPI:b("memoize")(function(){return!(b("UserAgent_DEPRECATED").webkit()&&!b("UserAgent_DEPRECATED").chrome()&&b("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),hasBlobFactory:b("memoize")(function(){return!!a.blob}),hasSVGForeignObject:b("memoize")(function(){return b("ExecutionEnvironment").canUseDOM&&document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString().includes("SVGForeignObject")}),hasMutationObserver:b("memoize")(function(){return!!window.MutationObserver}),getTransitionEndEvent:b("memoize")(function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},c=b("getVendorPrefixedName")("transition");return a[c]||null}),hasCanvasRenderingContext2D:function(){return!!window.CanvasRenderingContext2D}};e.exports=d}),null);
__d("TabbableElements",["Style"],(function(a,b,c,d,e,f){__p&&__p();function g(a){__p&&__p();if(a.tabIndex<0)return!1;if(a.tabIndex>0||a.tabIndex===0&&a.getAttribute("tabIndex")!==null)return!0;var b=a;switch(a.tagName){case"A":a=b;return!!a.href&&a.rel!="ignore";case"INPUT":a=b;return a.type!="hidden"&&a.type!="file"&&!a.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":a=b;return!a.disabled}return!1}function h(a){a=a;while(a&&a!==document&&b("Style").get(a,"visibility")!="hidden"&&b("Style").get(a,"display")!="none")a=a.parentNode;return a===document}var i={find:function(a){return Array.from(a.getElementsByTagName("*")).filter(i.isTabbable)},findFirst:function(a){return Array.from(a.getElementsByTagName("*")).find(i.isTabbable)},isTabbable:function(a){return g(a)&&h(a)},isVisible:function(a){return h(a)}};e.exports=i}),null);
__d("fbjs/lib/ExecutionEnvironment",["ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";e.exports=b("ExecutionEnvironment")}),null);
__d("fbjs/lib/shallowEqual",["shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=b("shallowEqual")}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){__p&&__p();a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/shims/OzDeferred",["Deferred"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Deferred")}),null);
__d("oz-player/shims/OzMaybeNativePromise",["Promise","MOzExperiments","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";b("Promise").resolve(),e.exports=b("MOzExperiments").use_native_promise?b("MaybeNativePromise"):b("Promise")}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){a===void 0&&(a={});this.$3=[];this.$4=!1;this.$6=0;a=a;var b=a.disableArrayShift;a=a.useNativePromise;this.$1=!!b;this.$2=!!a}var c=a.prototype;c.produce=function(a){this.$7(a)};c.signalProducerInterruption=function(){this.$7(new(b("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};c.consume=function(a){__p&&__p();var c=this;if(this.$4)throw new Error("A buffer can only be consumed by one client at a time");this.$4=!0;var d=b("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$5=this.$2?new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")):new(b("oz-player/shims/OzDeferred"))(),d=this.$5.getPromise());return d.then(function(){__p&&__p();if(c.$1){if(c.$3[c.$6]===void 0)throw new Error("buffer has no value at position "+c.$6)}else if(c.$3.length===0)throw new Error("buffer length must not be 0");c.$5=null;c.$4=!1;var b=c.$1?c.$8(a):c.$9(a);if(b instanceof Uint8Array)return b;throw b})};c.$7=function(a){this.$3.push(a),this.$5&&this.$5.resolve()};c.$8=function(a){__p&&__p();var b=this.$3[this.$6];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$3[this.$6]=void 0;this.$6++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[this.$6]=c}else this.$3[this.$6]=void 0,this.$6++;return b};c.$9=function(a){__p&&__p();if(this.$3.length===0)return new Uint8Array([]);var b=this.$3[0];if(!(b instanceof Uint8Array)){this.$3.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[0]=c}else this.$3.shift();return b};c.isEmpty=function(){return this.$1?this.$3[this.$6]===void 0:this.$3.length===0};return a}();e.exports=a}),null);
__d("ReadableStream",[],(function(a,b,c,d,e,f){e.exports=self.ReadableStream}),null);
__d("oz-player/shims/OzReadableStream",["ReadableStream"],(function(a,b,c,d,e,f){"use strict";e.exports=b("ReadableStream")}),null);
__d("WritableStream",[],(function(a,b,c,d,e,f){e.exports=self.WritableStream}),null);
__d("oz-player/shims/OzWritableStream",["WritableStream"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WritableStream")}),null);
__d("pipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}e.exports=a}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/shims/OzDeferred","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzReadableStream","oz-player/shims/OzWritableStream","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/manifests/OzByteRange").startsImmediateAfter;function h(){return new Error("Upstream has an inconsistent range")}var i=function(){__p&&__p();function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=!1;this.$1=a;this.$2=c;a=d||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;var f=a.useNativePromiseInDeferredBuffer,g=a.enablePausableStreamResumeFromStartDangerously,j=a.fixPausePreReadableStream,k=a.throwErrorOnUnexpectedException;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!g;this.$17=!!j;this.$18=!!k;this.$19=!!a;this.$3=new(b("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d,useNativePromise:!!f});this.$6=new(b("oz-player/shims/OzReadableStream"))({start:function(a){e.$10=a},pull:function(a){__p&&__p();if((e.$11&&e.$1.endByte===null&&e.$5||e.$7===e.$20())&&e.$3.isEmpty()){a.close();return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=function c(){__p&&__p();var d=e.$15.hasMoreBytesToSkip()?e.$15.getBytesToSkip():void 0;return e.$3.consume(d).then(function(d){if(e.$15.hasMoreBytesToSkip()){e.$15.setBytesSkipped(d.length);return c()}e.$7+=d.length;var f=e.$20();f!==null&&e.$7>(f||0)&&b("pipeErrorTo")(e.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){e.$15.setBytesToSkip(e.$7);return c()}throw a})};return c()},cancel:function(a){e.$12&&e.$12.resolve("stream_cancelled"),b("pipeErrorTo")(e.$9,a)}});this.$21()}var c=a.prototype;c.$20=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};c.$21=function(){__p&&__p();var a=this;this.$4=new(b("oz-player/shims/OzWritableStream"))({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var c=a.$1,d=c.endByte;c=c.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-c+1&&b("pipeErrorTo")(a.$10,h())},abort:function(c){a.$12&&(a.$19?a.$12.reject(c):a.$12.resolve("stream_aborted")),b("pipeErrorTo")(a.$10,c)}})};c.getStream=function(){return this.$6};c.startStream=function(){__p&&__p();var c=this;this.$13=!0;var d={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?d.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var e=this.$4;return this.$2.startStream(d).then(function(d){d.pipeTo(c.$17?e:c.$4).then(function(){c.$12&&c.$12.resolve("stream_done")})["catch"](function(b){c.$12&&!c.$12.isSettled()&&(c.$17&&b===a.STREAM_PAUSED?c.$12.resolve("stream_paused"):c.$18?c.$12.reject(b):c.$12.resolve("stream_unexpected"))});c.$12=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:c.$12.getPromise()}})};c.pauseStream=function(){b("pipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$21()};c.getByteRange=function(){return this.$1};c.getBytesStreamed=function(){return this.$7};c.tryConcatByteRange=function(a){if(this.$13||!g(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};return a}();a.STREAM_PAUSED="streamPaused";e.exports=a}),null);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$6=new Map(),this.$1=a,this.$2=b}var c=a.prototype;c.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};c.enqueue=function(a,b){__p&&__p();b=this.$7(b);var c=this.$5.get(a),d=this.$8(a);if(c===b)return d;this.$5.has(a)&&this.remove(a);c=this.$9(b);var e=this.$4[c];e&&e.priority===b||(e={priority:b,queue:[]},this.$4.splice(c,0,e));this.$5.set(a,b);e.queue.push(a);this.$3(a,b>=this.$1?"immediate":"normal");return d};c.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};c.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};c.remove=function(a){__p&&__p();var b=this.$5.get(a);if(b===void 0)return;b=this.$9(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)};c.setOnTaskUpdated=function(a){this.$3=a};c.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};c.getLength=function(){return this.$5.size};c.$8=function(a){__p&&__p();var c=this.$6.get(a);if(!c){var d=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=d.getPromise();this.$6.set(a,c);var e=a.run;a.run=function(){return e.call(a).then(function(a){d.resolve(a);return a})["catch"](function(a){d.reject(a);throw a})}}return c};c.$9=function(a){a=this.$7(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};c.$7=function(a){this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();e.exports=a}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("setTimeoutAcrossTransitions")}),null);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$3=null;this.$4=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$5=b||0}var c=a.prototype;c.start=function(){this.$1.setOnTaskUpdated(this.$6.bind(this));var a=this.$1.dequeue();a&&this.$7(a,"immediate")};c.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};c.$6=function(a,b){b=this.$7(a,b);b&&this.$1.remove(a)};c.$7=function(a,c){__p&&__p();var d=this;if(this.$2&&c!=="immediate")return!1;this.$2&&this.$2.cancel();c=a.run()["catch"](function(a){});this.$5>0&&(c=b("oz-player/shims/OzMaybeNativePromise").race([c,new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$5)})]));this.$4++;this.$2=a;c=c.then(function(){d.$4--;d.$2===a&&(d.$2=null);if(d.$4===0){var b=d.$1.dequeue();b&&d.$7(b,"immediate")}});return!0};return a}();e.exports=a}),null);
__d("oz-player/utils/OzTaggedTimeRanges",["sprintf"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){__p&&__p();if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("cancelAnimationFramePolyfill",[],(function(a,b,c,d,e,f){b=a.__fbNativeCancelAnimationFrame||a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.clearTimeout;e.exports=b}),null);
__d("cancelAnimationFrame",["Env","TimerStorage","TimeSlice","cancelAnimationFramePolyfill","requestAnimationFrameAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=b("TimerStorage").ANIMATION_FRAME;function a(a){if(a!=null)if(b("Env").gk_raf_flush)b("requestAnimationFrameAcrossTransitions").cancelVirtualRAF(a);else{b("TimerStorage").unset(g,a);var c=g+String(a);b("TimeSlice").cancelWithToken(c)}b("cancelAnimationFramePolyfill")(a)}e.exports=a}),null);
__d("ReactCurrentDispatcher_DO_NOT_USE_IT_WILL_BREAK",[],(function(a,b,c,d,e,f){"use strict";a={current:null};e.exports=a}),null);
__d("ReactCurrentDispatcher",["ReactCurrentDispatcher_DO_NOT_USE_IT_WILL_BREAK"],(function(a,b,c,d,e,f){"use strict";e.exports=b("ReactCurrentDispatcher_DO_NOT_USE_IT_WILL_BREAK")}),null);
__d("React-prod",["object-assign","lowPriorityWarning","warning","ReactCurrentDispatcher","ReactCurrentOwner","ReactFeatureFlags"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="function"===typeof Symbol&&Symbol["for"],h=g?Symbol["for"]("react.element"):60103,i=g?Symbol["for"]("react.portal"):60106,j=g?Symbol["for"]("react.fragment"):60107,k=g?Symbol["for"]("react.strict_mode"):60108,l=g?Symbol["for"]("react.profiler"):60114,m=g?Symbol["for"]("react.provider"):60109,n=g?Symbol["for"]("react.context"):60110,o=g?Symbol["for"]("react.concurrent_mode"):60111,p=g?Symbol["for"]("react.forward_ref"):60112,q=g?Symbol["for"]("react.suspense"):60113,r=g?Symbol["for"]("react.memo"):60115,s=g?Symbol["for"]("react.lazy"):60116,t="function"===typeof Symbol&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator");function u(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return Error("Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ")}b("lowPriorityWarning");b("warning");var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function a(a,b,c){this.props=a,this.context=b,this.refs=w,this.updater=c||v}a.prototype.isReactComponent={};a.prototype.setState=function(a,b){if("object"!==typeof a&&"function"!==typeof a&&null!=a)throw u(85);this.updater.enqueueSetState(this,a,b,"setState")};a.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function c(){}c.prototype=a.prototype;function d(a,b,c){this.props=a,this.context=b,this.refs=w,this.updater=c||v}g=d.prototype=new c();g.constructor=d;Object.assign(g,a.prototype);g.isPureReactComponent=!0;c={ReactCurrentDispatcher:b("ReactCurrentDispatcher"),ReactCurrentOwner:b("ReactCurrentOwner"),assign:b("object-assign")};var x=Object.prototype.hasOwnProperty,y={key:!0,ref:!0,__self:!0,__source:!0};function z(a,c,d){__p&&__p();var e=void 0,f={},g=null,i=null;if(null!=c)for(e in void 0!==c.ref&&(i=c.ref),void 0!==c.key&&(g=""+c.key),c)x.call(c,e)&&!Object.prototype.hasOwnProperty.call(y,e)&&(f[e]=c[e]);var j=arguments.length-2;if(1===j)f.children=d;else if(1<j){for(var k=Array(j),l=0;l<j;l++)k[l]=arguments[l+2];f.children=k}if(a&&a.defaultProps)for(e in j=a.defaultProps,j)void 0===f[e]&&(f[e]=j[e]);return{$$typeof:h,type:a,key:g,ref:i,props:f,_owner:b("ReactCurrentOwner").current}}function A(a,b){return{$$typeof:h,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function B(a){return"object"===typeof a&&null!==a&&a.$$typeof===h}function C(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}var D=/\/+/g,E=[];function F(a,b,c,d){__p&&__p();if(E.length){var e=E.pop();e.result=a;e.keyPrefix=b;e.func=c;e.context=d;e.count=0;return e}return{result:a,keyPrefix:b,func:c,context:d,count:0}}function G(a){a.result=null,a.keyPrefix=null,a.func=null,a.context=null,a.count=0,10>E.length&&E.push(a)}function H(a,b,c,d){__p&&__p();var e=typeof a;("undefined"===e||"boolean"===e)&&(a=null);var f=!1;if(null===a)f=!0;else switch(e){case"string":case"number":f=!0;break;case"object":switch(a.$$typeof){case h:case i:f=!0}}if(f)return c(d,a,""===b?"."+J(a,0):b),1;f=0;b=""===b?".":b+":";if(Array.isArray(a))for(var g=0;g<a.length;g++){e=a[g];var j=b+J(e,g);f+=H(e,j,c,d)}else if(null===a||"object"!==typeof a?j=null:(j=t&&a[t]||a["@@iterator"],j="function"===typeof j?j:null),"function"===typeof j)for(a=j.call(a),g=0;!(e=a.next()).done;)e=e.value,j=b+J(e,g++),f+=H(e,j,c,d);else if("object"===e)throw c=""+a,u(31,"[object Object]"===c?"object with keys {"+Object.keys(a).join(", ")+"}":c,"");return f}function I(a,b,c){return null==a?0:H(a,"",b,c)}function J(a,b){return"object"===typeof a&&null!==a&&null!=a.key?C(a.key):b.toString(36)}function K(a,b){a.func.call(a.context,b,a.count++)}function L(a,b,c){var d=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?M(a,d,c,function(a){return a}):null!=a&&(B(a)&&(a=A(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(D,"$&/")+"/")+c)),d.push(a))}function M(a,b,c,d,e){var f="";null!=c&&(f=(""+c).replace(D,"$&/")+"/");b=F(b,f,d,e);I(a,L,b);G(b)}function N(){var a=b("ReactCurrentDispatcher").current;if(null===a)throw a=Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem."),a.name="Invariant Violation",a;return a}function f(){}b("ReactFeatureFlags");g={Children:{map:function(a,b,c){if(null==a)return a;var d=[];M(a,d,null,b,c);return d},forEach:function(a,b,c){if(null==a)return a;b=F(null,null,b,c);I(a,K,b);G(b)},count:function(a){return I(a,function(){return null},null)},toArray:function(a){var b=[];M(a,b,null,function(a){return a});return b},only:function(a){if(!B(a))throw u(143);return a}},createRef:function(){return{current:null}},Component:a,PureComponent:d,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:n,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:m,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:p,render:a}},lazy:function(a){return{$$typeof:s,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:r,type:a,compare:void 0===b?null:b}},error:f,warn:f,useCallback:function(a,b){return N().useCallback(a,b)},useContext:function(a,b){return N().useContext(a,b)},useEffect:function(a,b){return N().useEffect(a,b)},useImperativeHandle:function(a,b,c){return N().useImperativeHandle(a,b,c)},useDebugValue:function(){},useLayoutEffect:function(a,b){return N().useLayoutEffect(a,b)},useMemo:function(a,b){return N().useMemo(a,b)},useReducer:function(a,b,c){return N().useReducer(a,b,c)},useRef:function(a){return N().useRef(a)},useState:function(a){return N().useState(a)},Fragment:j,Profiler:l,StrictMode:k,Suspense:q,createElement:z,cloneElement:function(a,c,d){__p&&__p();if(null===a||void 0===a)throw u(267,a);var e=void 0,f=Object.assign({},a.props),g=a.key,i=a.ref,j=a._owner;if(null!=c){void 0!==c.ref&&(i=c.ref,j=b("ReactCurrentOwner").current);void 0!==c.key&&(g=""+c.key);var k=void 0;a.type&&a.type.defaultProps&&(k=a.type.defaultProps);for(e in c)x.call(c,e)&&!Object.prototype.hasOwnProperty.call(y,e)&&(f[e]=void 0===c[e]&&void 0!==k?k[e]:c[e])}e=arguments.length-2;if(1===e)f.children=d;else if(1<e){k=Array(e);for(var l=0;l<e;l++)k[l]=arguments[l+2];f.children=k}return{$$typeof:h,type:a.type,key:g,ref:i,props:f,_owner:j}},createFactory:function(a){var b=z.bind(null,a);b.type=a;return b},isValidElement:B,version:"16.8.4",unstable_ConcurrentMode:o,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:c};a={"default":g};d=a&&g||a;e.exports=d["default"]||d}),null);
__d("getVendorPrefixedEventName",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;c["ms"+a]="MS"+b;c["O"+a]="o"+b.toLowerCase();return c}var g={animationend:a("Animation","AnimationEnd"),animationiteration:a("Animation","AnimationIteration"),animationstart:a("Animation","AnimationStart"),transitionend:a("Transition","TransitionEnd")},h={},i={};b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(i=document.createElement("div").style,"AnimationEvent"in window||(delete g.animationend.animation,delete g.animationiteration.animation,delete g.animationstart.animation),"TransitionEvent"in window||delete g.transitionend.transition);function c(a){if(h[a])return h[a];else if(!g[a])return a;var b=g[a];for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)&&c in i)return h[a]=b[c];return""}e.exports=c}),null);
__d("shallowCompare",["fbjs/lib/shallowEqual"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return!b("fbjs/lib/shallowEqual")(a.props,c)||!b("fbjs/lib/shallowEqual")(a.state,d)}e.exports=a}),null);
__d("ReactTransitionEvents",["fbjs/lib/ExecutionEnvironment","getVendorPrefixedEventName"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[];function a(){var a=b("getVendorPrefixedEventName")("animationend"),c=b("getVendorPrefixedEventName")("transitionend");a&&g.push(a);c&&g.push(c)}b("fbjs/lib/ExecutionEnvironment").canUseDOM&&a();function h(a,b,c){a.addEventListener(b,c,!1)}function i(a,b,c){a.removeEventListener(b,c,!1)}c={addEndEventListener:function(a,b){if(g.length===0){window.setTimeout(b,0);return}g.forEach(function(c){h(a,c,b)})},removeEndEventListener:function(a,b){if(g.length===0)return;g.forEach(function(c){i(a,c,b)})}};e.exports=c}),null);
__d("StreamStateMachineConstants",[],(function(a,b,c,d,e,f){"use strict";a={states:{GQLS_STATE_CREATED:"created",GQLS_STATE_ACTIVE:"active",GQLS_STATE_PAUSED:"paused",GQLS_STATE_TERMINATED:"terminated"},events:{GQLS_STATE_TRANSIT_ON_CREATE:"onCreated",GQLS_STATE_TRANSIT_ON_ACTIVE:"onActive",GQLS_STATE_TRANSIT_ON_PAUSE:"onPause",GQLS_STATE_TRANSIT_ON_RESUME:"onResume",GQLS_STATE_TRANSIT_ON_TERMINATE:"onTerminate"}};e.exports=a}),null);
__d("SkywalkerManager",["regeneratorRuntime","Promise","requireDeferred","BladeRunnerDeferredClient","BladeRunnerInstrumentedStreamHandler","BladeRunnerStreamHandler","BladeRunnerTypes","Bootloader","StreamStateMachineConstants","gkx","nullthrows","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=b("BladeRunnerTypes").StreamStatus;a=b("StreamStateMachineConstants").events;var h="request_stream",i="cp_skywalker",j="mqtt_skywalker",k=babelHelpers["extends"]({},a,{GQLS_STATE_TRANSIT_ON_REJECT:"onReject"});c=function(){"use strict";__p&&__p();function a(){this.$3=!1}var c=a.prototype;c.subscribe=function(a,c,d){__p&&__p();d===void 0&&(d={});var e=this.$5(a,c,d);b("promiseDone")(e);return{getTopic:function(){return a},getContext:function(){return d.context},isUnsubscribed:function(){return this.$6},unsubscribe:function(){this.$6=!0;return e.then(function(a){return a.unsubscribe()})},$6:!1}};c.getSubscriptionType=function(a){if(this.$7(a))return h;else if(this.$8(a))return j;return i};c.getSubscriptions=function(){__p&&__p();var a=[],b=[],c=this.$2;c!=null&&(a=c.getSubscriptions().map(function(a){return{getTopic:function(){return a.getTopic()},getMessageListener:function(){return a.getMessageListener()},getCreationTime:function(){return a.getCreationTime()},isUnsubscribed:function(){return!c.isSubscribed(a)}}}));var d=this.$1;d!=null&&(b=d.getSubscriptions().map(function(a){return{getTopic:function(){return a.getTopic()},getMessageListener:function(){return a.getMessageListener()},getCreationTime:function(){return a.getCreatedTime()},isUnsubscribed:function(){return!a.isAlive()}}}));return a.concat(b)};c.$5=function(a,c,d){__p&&__p();var e;return b("regeneratorRuntime").async(function(b){__p&&__p();while(1)switch(b.prev=b.next){case 0:e=this.getSubscriptionType(a);if(!(e===h)){b.next=5;break}return b.abrupt("return",this.$9(a,c,d));case 5:if(!(e===j)){b.next=9;break}return b.abrupt("return",this.$10(a,c,d));case 9:return b.abrupt("return",this.$11(a,c,d));case 10:case"end":return b.stop()}},null,this)};c.$10=function(a,c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.$12());case 2:e=f.sent;return f.abrupt("return",e.subscribe(a,c,d));case 4:case"end":return f.stop()}},null,this)};c.$11=function(a,c,d){__p&&__p();var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(this.$13());case 2:e=g.sent;f=e.subscribe(a,c,d.context,d.onSubscribe,d.onUnsubscribeEager,d.onUnsubscribe);d.gqlsLifecycleHandler&&f.handleLifecycles(d.gqlsLifecycleHandler);return g.abrupt("return",f);case 6:case"end":return g.stop()}},null,this)};c.$8=function(a){if(this.$3||!l())return!1;if(a.startsWith("gqls/")||a.startsWith("graphql/")){if(a.startsWith("gqls/comment_like_subscribe")&&b("gkx")("781618"))return!0;return a.startsWith("gqls/live_video_currently_watching_subscribe")?b("gkx")("812809"):b("gkx")("781619")}return b("gkx")("678255")};c.$7=function(a){return l()&&this.$14(a)!=null};c.$15=function(a,c){if(b("gkx")("861442")){a=a.split("/");return a.length>2?"FBGQLS:"+a[1].toUpperCase():null}else return c};c.$14=function(a){if((a.startsWith("gqls/comment_create_subscribe/")||a.startsWith("gqls/comment_like_subscribe/")||a.startsWith("gqls/feedback_like_subscribe/")||a.startsWith("gqls/feedback_typing_subscribe/"))&&b("gkx")("778404"))return this.$15(a,"Gqls");if(a.startsWith("gqls/feedback_like_subscribe/")&&b("gkx")("683301"))return this.$15(a,"Gqls");if(a.startsWith("gqls/live_video_comment_create_subscribe/")&&b("gkx")("688302"))return this.$15(a,"GqlsLiveVideoCommentCreateSubscribe");if(a.startsWith("gqls/web_notification_receive_subscribe/")&&b("gkx")("730685"))return this.$15(a,"Gqls");return a.startsWith("gqls/employee_graphql_use_subscribe/")&&b("gkx")("857966")?this.$15(a,"GqlsEmployeeGraphQLUseSubscribe"):null};c.$9=function(a,c,d){__p&&__p();var e,f,h,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:e=b("nullthrows")(this.$14(a));j.next=3;return b("regeneratorRuntime").awrap(this.$16());case 3:f=j.sent;h=f.patchContext(d.context);j.next=7;return b("regeneratorRuntime").awrap(b("BladeRunnerDeferredClient").requestStream({method:e,topic:a},JSON.stringify(h),new(b("BladeRunnerInstrumentedStreamHandler"))(new(b("BladeRunnerStreamHandler"))(function(b){b=JSON.parse(b);c({topic:a,payload:b.payload})},function(a){__p&&__p();if(d.gqlsLifecycleHandler){var b="";switch(a){case g.ACCEPTED:b=k.GQLS_STATE_TRANSIT_ON_CREATE;break;case g.REJECTED:b=k.GQLS_STATE_TRANSIT_ON_REJECT;break;case g.STARTED:b=k.GQLS_STATE_TRANSIT_ON_ACTIVE;break;case g.PAUSED:b=k.GQLS_STATE_TRANSIT_ON_PAUSE;break;case g.CLOSED:b=k.GQLS_STATE_TRANSIT_ON_TERMINATE;break}d.gqlsLifecycleHandler(b)}},function(a){}),e)));case 7:i=j.sent;d.onSubscribe&&d.onSubscribe({data:{},error:null});return j.abrupt("return",{unsubscribe:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:d.onUnsubscribeEager&&d.onUnsubscribeEager(),i.cancel(),d.onUnsubscribe&&d.onUnsubscribe({data:{},error:null});case 3:case"end":return a.stop()}},null,this)}});case 10:case"end":return j.stop()}},null,this)};c.$13=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(!(this.$1!=null)){d.next=2;break}return d.abrupt("return",this.$1);case 2:a=new(b("Promise"))(function(a){b("Bootloader").loadModules(["ChannelManager","RTISubscriptionManager"],function(b,c){b.startChannelManager(),a(c)},"SkywalkerManager")});d.next=5;return b("regeneratorRuntime").awrap(a);case 5:c=d.sent;this.$1=c;return d.abrupt("return",c);case 8:case"end":return d.stop()}},null,this)};c.$12=function(){__p&&__p();var a=this,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:if(!(this.$2!=null)){e.next=2;break}return e.abrupt("return",this.$2);case 2:c=new(b("Promise"))(function(a){b("Bootloader").loadModules(["MqttSkywalkerManager"],a,"SkywalkerManager")});e.next=5;return b("regeneratorRuntime").awrap(c);case 5:d=e.sent;this.$2=d;this.$2.setOnMqttError(function(b){return a.$17()});return e.abrupt("return",d);case 9:case"end":return e.stop()}},null,this)};c.$16=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(!(this.$4!=null)){d.next=2;break}return d.abrupt("return",this.$4);case 2:a=new(b("Promise"))(function(a){b("requireDeferred")("SkywalkerUtils").onReady(function(b){a(b)})});d.next=5;return b("regeneratorRuntime").awrap(a);case 5:c=d.sent;this.$4=c;return d.abrupt("return",c);case 8:case"end":return d.stop()}},null,this)};c.$17=function(){__p&&__p();this.$3=!0;var a=this.$2;if(a==null)return;a=a.getSubscriptions();this.$2=null;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.subscribe(d.getTopic(),d.getMessageListener(),d.getSubscribeOptions())}};return a}();function l(){return"WebSocket"in window}e.exports=new c()}),null);
__d("SkywalkerUtils",["CurrentLocale","RTISubscriptionManagerConfig"],(function(a,b,c,d,e,f){__p&&__p();a={patchContext:function(a){a=a||{};a.locale=b("CurrentLocale").get();if(b("RTISubscriptionManagerConfig").assimilator){var c=b("RTISubscriptionManagerConfig").assimilator;c.tierType!=null&&(a.tierType=c.tierType);c.sandboxIP!=null&&c.sandboxPort!=null&&c.sandboxHostname!=null&&(a.sandboxIP=c.sandboxIP,a.sandboxPort=c.sandboxPort,a.sandboxHostname=c.sandboxHostname)}return a}};e.exports=a}),null);
__d("MqttLongPollingClient",["MqttLogger","XHRRequest","getCrossOriginTransport","paho-mqtt"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("paho-mqtt").Decoder,h=60*1e3;a=function(){__p&&__p();function a(a,c,d,e){this.$2=a,this.$3=b("MqttLogger").getInstance(),this.$1="Ready",this.$4=c,this.$5=d,this.$6=e,this.$7=null}var c=a.prototype;c.run=function(){this.$8(this.$4)};c.abort=function(){this.$7!=null&&this.$7.abort("Disconnected")};c.$9=function(a,b){if(this.$1===a)return;this.$1=a;a=="Error"&&b!=null&&this.$6(b)};c.$10=function(a){__p&&__p();if(this.$1!="RequestSend")return;if(!a){this.$11("EmptyResponse",null);return}this.$9("ResponseReceived");a=g.decode(a);a=a.filter(function(a){return a.payloadMessage}).map(function(a){return a.payloadMessage});this.$5(a)};c.$11=function(a,b){b=b!=null?b.message:"null";this.$3.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$9("Error",a)};c.$8=function(a){__p&&__p();var c=this;if(this.$1!="Ready"||this.$7)return;this.$7=new(b("XHRRequest"))(this.$2).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(b("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return c.$10(a)}).setNetworkFailureHandler(function(a){c.$11("Network",a)}).setErrorHandler(function(a){c.$11("Error",a)}).setAbortHandler(function(a){c.$11("Abort",null)}).setTimeoutHandler(function(){c.$11("Timeout",null)}).setTimeout(h).send();this.$9("RequestSend")};return a}();e.exports=a}),null);
__d("WebSocketAvailability",["UserAgent","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({NotAvailable:null,LikelyNotAvailable:null,Available:null});function c(){if(!("WebSocket"in a&&a.WebSocket!==null))return g.NotAvailable;return b("UserAgent").isBrowser("Mobile Safari")&&b("UserAgent").isBrowser("Mobile Safari < 6")?g.LikelyNotAvailable:g.Available}e.exports={WSAvailabilities:g,getWSAvailability:c}}),null);
__d("exponentialBackoff",["Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){__p&&__p();c===void 0&&(c=null);var d=null,e=0;function f(){__p&&__p();for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=function(){a.apply(c,g)};if(e===0)i();else if(d===null){var j=Math.pow(2,Math.min(e,6))*(1e3+b("Random").random()*200);d=b("setTimeoutAcrossTransitions")(function(){i(),d=null},j)}e++}f.reset=function(){e=0,d!=null&&(b("clearTimeout")(d),d=null)};f.isPending=function(){return d!=null};return f}e.exports=a}),null);
__d("MqttLongPollingRunner",["MqttLogger","MqttLongPollingClient","Random","WebSocketAvailability","exponentialBackoff","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("WebSocketAvailability").getWSAvailability,h=b("WebSocketAvailability").WSAvailabilities,i=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue"]);a=function(){__p&&__p();function a(a,c,d,e,f,h){__p&&__p();var j=this;this.$16=function(){__p&&__p();if(!j.$18())return;var a=j.$8(),c=j.$9();a=a.filter(function(a){return i.has(a)});c=c.filter(function(a){return i.has(a.topic)});var d=Math.floor(b("Random").random()*Number.MAX_SAFE_INTEGER);d=j.$6.gen(d,a,c);if(a.length==0&&c.length==0){j.$4.debugTrace("LongPollingRunner","Poll skipped, nothing to do");b("setTimeoutAcrossTransitions")(function(){j.$16()},1e3);return}j.$14=new(b("MqttLongPollingClient"))(j.$5,d,function(a){return j.$19(a)},function(a){return j.$20(a)});j.$14.run();j.$4.bumpCounter("polling_request_send");d=a.join(",");a=c.map(function(a){return a.topic}).join(",");j.$4.debugTrace("LongPollingRunner","Making a poll request to "+j.$5+". SubscribedTopics:"+d+". Publishes:"+a)};this.$5=a;this.$6=c;this.$1=!1;this.$2=0;this.$3=g();this.$4=b("MqttLogger").getInstance();this.$7=d;this.$8=e;this.$9=f;this.$10=h;this.$11=0;this.$12=0;this.$13=!1;this.$14=null;this.$15=new(b("exponentialBackoff"))(this.$16,this)}var c=a.prototype;c.start=function(){this.$16()};c.onConnectAttempt=function(){};c.onConnectFailure=function(){this.$2++,this.$16()};c.onConnected=function(){};c.onConnectSuccess=function(){this.$1=!0};c.onConnectionLost=function(){};c.onSubscribe=function(a){};c.onUnsubscribe=function(a){};c.onPublish=function(a){};c.onMessage=function(a){};c.$17=function(){__p&&__p();var a=b("gkx")("865724"),c=b("gkx")("865725");this.$4.debugTrace("LongPollingRunner","_shouldPoll? forcedPoll:"+String(a)+" enabled:"+String(c)+" wsAvailability:"+String(this.$3)+" hasSuccess:"+String(this.$1)+" failureCount:"+this.$2);if(a)return!0;if(!c)return!1;if(this.$3===h.NotAvailable)return!0;if(this.$1)return!1;if(this.$3===h.LikelyNotAvailable&&this.$2>=2)return!0;return this.$2>=5?!0:!1};c.$18=function(){if(this.$14!=null)return!1;var a=this.$17();!this.$13&&a&&(this.$4.bumpCounter("polling_kickin"),this.$13=!0);this.$13&&!a&&(this.$4.bumpCounter("polling_stopped"),this.$13=!1);return a};c.$19=function(a){__p&&__p();var b=a.map(function(a){return a.destinationName}).join(",");this.$4.debugTrace("LongPollingRunner","Poll request success, message received:"+b);this.$4.bumpCounter("polling_request_succeed");for(var b=a,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(a){if(c>=b.length)break;d=b[c++]}else{c=b.next();if(c.done)break;d=c.value}d=d;this.$4.bumpCounter("lp.message_arrived."+d.destinationName);this.$7(d.destinationName,d.payloadString)}this.$11===0&&this.$4.bumpCounter("polling_first_success");this.$11++;this.$14=null;this.$15.reset();this.$16()};c.$20=function(a){this.$4.bumpCounter("polling_request_failed"),this.$4.bumpCounter("polling_request_failed_"+a),this.$12++,this.$14=null,this.$15()};return a}();e.exports=a}),null);
__d("createErrorStream",["ReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("ReadableStream"))({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("lazyLoadComponent",["BootloaderResource","react"],(function(a,b,c,d,e,f){function a(a){function c(c){var d=b("BootloaderResource").read(a);return b("react").createElement(d,c)}c.displayName="lazyLoadComponent("+a.getModuleId()+")";return c}e.exports=a}),null);